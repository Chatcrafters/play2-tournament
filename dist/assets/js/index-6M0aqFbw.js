import{r as e,g as t,a as n,b as r}from"./vendor-DnH3Nvm2.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var a,s,i={exports:{}},l={};var o=(s||(s=1,i.exports=function(){if(a)return l;a=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(t,n,r){var a=null;if(void 0!==r&&(a=""+r),void 0!==n.key&&(a=""+n.key),"key"in n)for(var s in r={},n)"key"!==s&&(r[s]=n[s]);else r=n;return n=r.ref,{$$typeof:e,type:t,key:a,ref:void 0!==n?n:null,props:r}}return l.Fragment=t,l.jsx=n,l.jsxs=n,l}()),i.exports),c=e();const u=t(c);var d,h,p,m,f={exports:{}},g={},y={exports:{}},v={};function b(){return h||(h=1,y.exports=(d||(d=1,function(e){function t(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,s=e[r];if(!(0<a(s,t)))break e;e[r]=t,e[n]=s,n=r}}function n(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,s=e.length,i=s>>>1;r<i;){var l=2*(r+1)-1,o=e[l],c=l+1,u=e[c];if(0>a(o,n))c<s&&0>a(u,o)?(e[r]=u,e[c]=n,r=c):(e[r]=o,e[l]=n,r=l);else{if(!(c<s&&0>a(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(e.unstable_now=void 0,"object"==typeof performance&&"function"==typeof performance.now){var s=performance;e.unstable_now=function(){return s.now()}}else{var i=Date,l=i.now();e.unstable_now=function(){return i.now()-l}}var o=[],c=[],u=1,d=null,h=3,p=!1,m=!1,f=!1,g=!1,y="function"==typeof setTimeout?setTimeout:null,v="function"==typeof clearTimeout?clearTimeout:null,b="undefined"!=typeof setImmediate?setImmediate:null;function x(e){for(var a=n(c);null!==a;){if(null===a.callback)r(c);else{if(!(a.startTime<=e))break;r(c),a.sortIndex=a.expirationTime,t(o,a)}a=n(c)}}function w(e){if(f=!1,x(e),!m)if(null!==n(o))m=!0,S||(S=!0,k());else{var t=n(c);null!==t&&M(w,t.startTime-e)}}var k,S=!1,j=-1,N=5,E=-1;function P(){return!(!g&&e.unstable_now()-E<N)}function _(){if(g=!1,S){var t=e.unstable_now();E=t;var a=!0;try{e:{m=!1,f&&(f=!1,v(j),j=-1),p=!0;var s=h;try{t:{for(x(t),d=n(o);null!==d&&!(d.expirationTime>t&&P());){var i=d.callback;if("function"==typeof i){d.callback=null,h=d.priorityLevel;var l=i(d.expirationTime<=t);if(t=e.unstable_now(),"function"==typeof l){d.callback=l,x(t),a=!0;break t}d===n(o)&&r(o),x(t)}else r(o);d=n(o)}if(null!==d)a=!0;else{var u=n(c);null!==u&&M(w,u.startTime-t),a=!1}}break e}finally{d=null,h=s,p=!1}a=void 0}}finally{a?k():S=!1}}}if("function"==typeof b)k=function(){b(_)};else if("undefined"!=typeof MessageChannel){var T=new MessageChannel,C=T.port2;T.port1.onmessage=_,k=function(){C.postMessage(null)}}else k=function(){y(_,0)};function M(t,n){j=y(function(){t(e.unstable_now())},n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_forceFrameRate=function(e){0>e||125<e||(N=0<e?Math.floor(1e3/e):5)},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},e.unstable_requestPaint=function(){g=!0},e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},e.unstable_scheduleCallback=function(r,a,s){var i=e.unstable_now();switch(s="object"==typeof s&&null!==s&&"number"==typeof(s=s.delay)&&0<s?i+s:i,r){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return r={id:u++,callback:a,priorityLevel:r,startTime:s,expirationTime:l=s+l,sortIndex:-1},s>i?(r.sortIndex=s,t(c,r),null===n(o)&&r===n(c)&&(f?(v(j),j=-1):f=!0,M(w,s-i))):(r.sortIndex=l,t(o,r),m||p||(m=!0,S||(S=!0,k()))),r},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}}(v)),v)),y.exports}
/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function x(){if(p)return g;p=1;var t=b(),r=e(),a=n();function s(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function l(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function o(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function c(e){if(l(e)!==e)throw Error(s(188))}function u(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=u(e)))return t;e=e.sibling}return null}var d=Object.assign,h=Symbol.for("react.element"),m=Symbol.for("react.transitional.element"),f=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),w=Symbol.for("react.provider"),k=Symbol.for("react.consumer"),S=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),E=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),C=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function A(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=M&&e[M]||e["@@iterator"])?e:null}var R=Symbol.for("react.client.reference");function D(e){if(null==e)return null;if("function"==typeof e)return e.$$typeof===R?null:e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case y:return"Fragment";case x:return"Profiler";case v:return"StrictMode";case N:return"Suspense";case E:return"SuspenseList";case T:return"Activity"}if("object"==typeof e)switch(e.$$typeof){case f:return"Portal";case S:return(e.displayName||"Context")+".Provider";case k:return(e._context.displayName||"Context")+".Consumer";case j:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:D(e.type)||"Memo";case _:t=e._payload,e=e._init;try{return D(e(t))}catch(n){}}return null}var L=Array.isArray,O=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,z={pending:!1,data:null,method:null,action:null},$=[],F=-1;function B(e){return{current:e}}function U(e){0>F||(e.current=$[F],$[F]=null,F--)}function q(e,t){F++,$[F]=e.current,e.current=t}var W=B(null),V=B(null),H=B(null),G=B(null);function K(e,t){switch(q(H,t),q(V,e),q(W,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?id(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=ld(t=id(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}U(W),q(W,e)}function J(){U(W),U(V),U(H)}function Q(e){null!==e.memoizedState&&q(G,e);var t=W.current,n=ld(t,e.type);t!==n&&(q(V,e),q(W,n))}function Y(e){V.current===e&&(U(W),U(V)),G.current===e&&(U(G),Qd._currentValue=z)}var X=Object.prototype.hasOwnProperty,Z=t.unstable_scheduleCallback,ee=t.unstable_cancelCallback,te=t.unstable_shouldYield,ne=t.unstable_requestPaint,re=t.unstable_now,ae=t.unstable_getCurrentPriorityLevel,se=t.unstable_ImmediatePriority,ie=t.unstable_UserBlockingPriority,le=t.unstable_NormalPriority,oe=t.unstable_LowPriority,ce=t.unstable_IdlePriority,ue=t.log,de=t.unstable_setDisableYieldValue,he=null,pe=null;function me(e){if("function"==typeof ue&&de(e),pe&&"function"==typeof pe.setStrictMode)try{pe.setStrictMode(he,e)}catch(t){}}var fe=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(ge(e)/ye|0)|0},ge=Math.log,ye=Math.LN2;var ve=256,be=4194304;function xe(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194048&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function we(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var a=0,s=e.suspendedLanes,i=e.pingedLanes;e=e.warmLanes;var l=134217727&r;return 0!==l?0!==(r=l&~s)?a=xe(r):0!==(i&=l)?a=xe(i):n||0!==(n=l&~e)&&(a=xe(n)):0!==(l=r&~s)?a=xe(l):0!==i?a=xe(i):n||0!==(n=r&~e)&&(a=xe(n)),0===a?0:0!==t&&t!==a&&0===(t&s)&&((s=a&-a)>=(n=t&-t)||32===s&&4194048&n)?t:a}function ke(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function Se(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function je(){var e=ve;return!(4194048&(ve<<=1))&&(ve=256),e}function Ne(){var e=be;return!(62914560&(be<<=1))&&(be=4194304),e}function Ee(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Pe(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function _e(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-fe(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|4194090&n}function Te(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-fe(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}function Ce(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Me(e){return 2<(e&=-e)?8<e?134217727&e?32:268435456:8:2}function Ae(){var e=I.p;return 0!==e?e:void 0===(e=window.event)?32:dh(e.type)}var Re=Math.random().toString(36).slice(2),De="__reactFiber$"+Re,Le="__reactProps$"+Re,Oe="__reactContainer$"+Re,Ie="__reactEvents$"+Re,ze="__reactListeners$"+Re,$e="__reactHandles$"+Re,Fe="__reactResources$"+Re,Be="__reactMarker$"+Re;function Ue(e){delete e[De],delete e[Le],delete e[Ie],delete e[ze],delete e[$e]}function qe(e){var t=e[De];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Oe]||n[De]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=wd(e);null!==e;){if(n=e[De])return n;e=wd(e)}return t}n=(e=n).parentNode}return null}function We(e){if(e=e[De]||e[Oe]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function Ve(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(s(33))}function He(e){var t=e[Fe];return t||(t=e[Fe]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ge(e){e[Be]=!0}var Ke=new Set,Je={};function Qe(e,t){Ye(e,t),Ye(e+"Capture",t)}function Ye(e,t){for(Je[e]=t,e=0;e<t.length;e++)Ke.add(t[e])}var Xe,Ze,et=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),tt={},nt={};function rt(e,t,n){if(a=t,X.call(nt,a)||!X.call(tt,a)&&(et.test(a)?nt[a]=!0:(tt[a]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var a}function at(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function st(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function it(e){if(void 0===Xe)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Xe=t&&t[1]||"",Ze=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+Xe+e+Ze}var lt=!1;function ot(e,t){if(!e||lt)return"";lt=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(a){var r=a}Reflect.construct(e,[],n)}else{try{n.call()}catch(s){r=s}e.call(n.prototype)}}else{try{throw Error()}catch(i){r=i}(n=e())&&"function"==typeof n.catch&&n.catch(function(){})}}catch(l){if(l&&r&&"string"==typeof l.stack)return[l.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var a=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");a&&a.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=r.DetermineComponentFrameRoot(),i=s[0],l=s[1];if(i&&l){var o=i.split("\n"),c=l.split("\n");for(a=r=0;r<o.length&&!o[r].includes("DetermineComponentFrameRoot");)r++;for(;a<c.length&&!c[a].includes("DetermineComponentFrameRoot");)a++;if(r===o.length||a===c.length)for(r=o.length-1,a=c.length-1;1<=r&&0<=a&&o[r]!==c[a];)a--;for(;1<=r&&0<=a;r--,a--)if(o[r]!==c[a]){if(1!==r||1!==a)do{if(r--,0>--a||o[r]!==c[a]){var u="\n"+o[r].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=r&&0<=a);break}}}finally{lt=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?it(n):""}function ct(e){switch(e.tag){case 26:case 27:case 5:return it(e.type);case 16:return it("Lazy");case 13:return it("Suspense");case 19:return it("SuspenseList");case 0:case 15:return ot(e.type,!1);case 11:return ot(e.type.render,!1);case 1:return ot(e.type,!0);case 31:return it("Activity");default:return""}}function ut(e){try{var t="";do{t+=ct(e),e=e.return}while(e);return t}catch(n){return"\nError generating stack: "+n.message+"\n"+n.stack}}function dt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ht(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function pt(e){e._valueTracker||(e._valueTracker=function(e){var t=ht(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var a=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function mt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ht(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function ft(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var gt=/[\n"\\]/g;function yt(e){return e.replace(gt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function vt(e,t,n,r,a,s,i,l){e.name="",null!=i&&"function"!=typeof i&&"symbol"!=typeof i&&"boolean"!=typeof i?e.type=i:e.removeAttribute("type"),null!=t?"number"===i?(0===t&&""===e.value||e.value!=t)&&(e.value=""+dt(t)):e.value!==""+dt(t)&&(e.value=""+dt(t)):"submit"!==i&&"reset"!==i||e.removeAttribute("value"),null!=t?xt(e,i,dt(t)):null!=n?xt(e,i,dt(n)):null!=r&&e.removeAttribute("value"),null==a&&null!=s&&(e.defaultChecked=!!s),null!=a&&(e.checked=a&&"function"!=typeof a&&"symbol"!=typeof a),null!=l&&"function"!=typeof l&&"symbol"!=typeof l&&"boolean"!=typeof l?e.name=""+dt(l):e.removeAttribute("name")}function bt(e,t,n,r,a,s,i,l){if(null!=s&&"function"!=typeof s&&"symbol"!=typeof s&&"boolean"!=typeof s&&(e.type=s),null!=t||null!=n){if(("submit"===s||"reset"===s)&&null==t)return;n=null!=n?""+dt(n):"",t=null!=t?""+dt(t):n,l||t===e.value||(e.value=t),e.defaultValue=t}r="function"!=typeof(r=null!=r?r:a)&&"symbol"!=typeof r&&!!r,e.checked=l?e.checked:!!r,e.defaultChecked=!!r,null!=i&&"function"!=typeof i&&"symbol"!=typeof i&&"boolean"!=typeof i&&(e.name=i)}function xt(e,t,n){"number"===t&&ft(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function wt(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+dt(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function kt(e,t,n){null==t||((t=""+dt(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+dt(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function St(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(s(92));if(L(r)){if(1<r.length)throw Error(s(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=dt(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r)}function jt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var Nt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Et(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"==typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!=typeof n||0===n||Nt.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Pt(e,t,n){if(null!=t&&"object"!=typeof t)throw Error(s(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var a in t)r=t[a],t.hasOwnProperty(a)&&n[a]!==r&&Et(e,a,r)}else for(var i in t)t.hasOwnProperty(i)&&Et(e,i,t[i])}function _t(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ct=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Mt(e){return Ct.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var At=null;function Rt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Dt=null,Lt=null;function Ot(e){var t=We(e);if(t&&(e=t.stateNode)){var n=e[Le]||null;e:switch(e=t.stateNode,t.type){case"input":if(vt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+yt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=r[Le]||null;if(!a)throw Error(s(90));vt(r,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&mt(r)}break e;case"textarea":kt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&wt(e,!!n.multiple,t,!1)}}}var It=!1;function zt(e,t,n){if(It)return e(t,n);It=!0;try{return e(t)}finally{if(It=!1,(null!==Dt||null!==Lt)&&(qc(),Dt&&(t=Dt,e=Lt,Lt=Dt=null,Ot(t),e)))for(t=0;t<e.length;t++)Ot(e[t])}}function $t(e,t){var n=e.stateNode;if(null===n)return null;var r=n[Le]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(s(231,t,typeof n));return n}var Ft=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),Bt=!1;if(Ft)try{var Ut={};Object.defineProperty(Ut,"passive",{get:function(){Bt=!0}}),window.addEventListener("test",Ut,Ut),window.removeEventListener("test",Ut,Ut)}catch(Lh){Bt=!1}var qt=null,Wt=null,Vt=null;function Ht(){if(Vt)return Vt;var e,t,n=Wt,r=n.length,a="value"in qt?qt.value:qt.textContent,s=a.length;for(e=0;e<r&&n[e]===a[e];e++);var i=r-e;for(t=1;t<=i&&n[r-t]===a[s-t];t++);return Vt=a.slice(e,1<t?1-t:void 0)}function Gt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Kt(){return!0}function Jt(){return!1}function Qt(e){function t(t,n,r,a,s){for(var i in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=a,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(a):a[i]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?Kt:Jt,this.isPropagationStopped=Jt,this}return d(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Kt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Kt)},persist:function(){},isPersistent:Kt}),t}var Yt,Xt,Zt,en={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tn=Qt(en),nn=d({},en,{view:0,detail:0}),rn=Qt(nn),an=d({},nn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Zt&&(Zt&&"mousemove"===e.type?(Yt=e.screenX-Zt.screenX,Xt=e.screenY-Zt.screenY):Xt=Yt=0,Zt=e),Yt)},movementY:function(e){return"movementY"in e?e.movementY:Xt}}),sn=Qt(an),ln=Qt(d({},an,{dataTransfer:0})),on=Qt(d({},nn,{relatedTarget:0})),cn=Qt(d({},en,{animationName:0,elapsedTime:0,pseudoElement:0})),un=Qt(d({},en,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),dn=Qt(d({},en,{data:0})),hn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=mn[e])&&!!t[e]}function gn(){return fn}var yn=Qt(d({},nn,{key:function(e){if(e.key){var t=hn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Gt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?pn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gn,charCode:function(e){return"keypress"===e.type?Gt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Gt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),vn=Qt(d({},an,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),bn=Qt(d({},nn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gn})),xn=Qt(d({},en,{propertyName:0,elapsedTime:0,pseudoElement:0})),wn=Qt(d({},an,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),kn=Qt(d({},en,{newState:0,oldState:0})),Sn=[9,13,27,32],jn=Ft&&"CompositionEvent"in window,Nn=null;Ft&&"documentMode"in document&&(Nn=document.documentMode);var En=Ft&&"TextEvent"in window&&!Nn,Pn=Ft&&(!jn||Nn&&8<Nn&&11>=Nn),_n=String.fromCharCode(32),Tn=!1;function Cn(e,t){switch(e){case"keyup":return-1!==Sn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Mn(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var An=!1;var Rn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Rn[e.type]:"textarea"===t}function Ln(e,t,n,r){Dt?Lt?Lt.push(r):Lt=[r]:Dt=r,0<(t=Hu(t,"onChange")).length&&(n=new tn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var On=null,In=null;function zn(e){zu(e,0)}function $n(e){if(mt(Ve(e)))return e}function Fn(e,t){if("change"===e)return t}var Bn=!1;if(Ft){var Un;if(Ft){var qn="oninput"in document;if(!qn){var Wn=document.createElement("div");Wn.setAttribute("oninput","return;"),qn="function"==typeof Wn.oninput}Un=qn}else Un=!1;Bn=Un&&(!document.documentMode||9<document.documentMode)}function Vn(){On&&(On.detachEvent("onpropertychange",Hn),In=On=null)}function Hn(e){if("value"===e.propertyName&&$n(In)){var t=[];Ln(t,In,e,Rt(e)),zt(zn,t)}}function Gn(e,t,n){"focusin"===e?(Vn(),In=n,(On=t).attachEvent("onpropertychange",Hn)):"focusout"===e&&Vn()}function Kn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $n(In)}function Jn(e,t){if("click"===e)return $n(t)}function Qn(e,t){if("input"===e||"change"===e)return $n(t)}var Yn="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function Xn(e,t){if(Yn(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!X.call(t,a)||!Yn(e[a],t[a]))return!1}return!0}function Zn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function er(e,t){var n,r=Zn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Zn(r)}}function tr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?tr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function nr(e){for(var t=ft((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=ft((e=t.contentWindow).document)}return t}function rr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var ar=Ft&&"documentMode"in document&&11>=document.documentMode,sr=null,ir=null,lr=null,or=!1;function cr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;or||null==sr||sr!==ft(r)||("selectionStart"in(r=sr)&&rr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},lr&&Xn(lr,r)||(lr=r,0<(r=Hu(ir,"onSelect")).length&&(t=new tn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=sr)))}function ur(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var dr={animationend:ur("Animation","AnimationEnd"),animationiteration:ur("Animation","AnimationIteration"),animationstart:ur("Animation","AnimationStart"),transitionrun:ur("Transition","TransitionRun"),transitionstart:ur("Transition","TransitionStart"),transitioncancel:ur("Transition","TransitionCancel"),transitionend:ur("Transition","TransitionEnd")},hr={},pr={};function mr(e){if(hr[e])return hr[e];if(!dr[e])return e;var t,n=dr[e];for(t in n)if(n.hasOwnProperty(t)&&t in pr)return hr[e]=n[t];return e}Ft&&(pr=document.createElement("div").style,"AnimationEvent"in window||(delete dr.animationend.animation,delete dr.animationiteration.animation,delete dr.animationstart.animation),"TransitionEvent"in window||delete dr.transitionend.transition);var fr=mr("animationend"),gr=mr("animationiteration"),yr=mr("animationstart"),vr=mr("transitionrun"),br=mr("transitionstart"),xr=mr("transitioncancel"),wr=mr("transitionend"),kr=new Map,Sr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function jr(e,t){kr.set(e,t),Qe(t,[e])}Sr.push("scrollEnd");var Nr=new WeakMap;function Er(e,t){if("object"==typeof e&&null!==e){var n=Nr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:ut(t)},Nr.set(e,t),t)}return{value:e,source:t,stack:ut(t)}}var Pr=[],_r=0,Tr=0;function Cr(){for(var e=_r,t=Tr=_r=0;t<e;){var n=Pr[t];Pr[t++]=null;var r=Pr[t];Pr[t++]=null;var a=Pr[t];Pr[t++]=null;var s=Pr[t];if(Pr[t++]=null,null!==r&&null!==a){var i=r.pending;null===i?a.next=a:(a.next=i.next,i.next=a),r.pending=a}0!==s&&Dr(n,a,s)}}function Mr(e,t,n,r){Pr[_r++]=e,Pr[_r++]=t,Pr[_r++]=n,Pr[_r++]=r,Tr|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Ar(e,t,n,r){return Mr(e,t,n,r),Lr(e)}function Rr(e,t){return Mr(e,null,null,t),Lr(e)}function Dr(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var a=!1,s=e.return;null!==s;)s.childLanes|=n,null!==(r=s.alternate)&&(r.childLanes|=n),22===s.tag&&(null===(e=s.stateNode)||1&e._visibility||(a=!0)),e=s,s=s.return;return 3===e.tag?(s=e.stateNode,a&&null!==t&&(a=31-fe(n),null===(r=(e=s.hiddenUpdates)[a])?e[a]=[t]:r.push(t),t.lane=536870912|n),s):null}function Lr(e){if(50<Dc)throw Dc=0,Lc=null,Error(s(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Or={};function Ir(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zr(e,t,n,r){return new Ir(e,t,n,r)}function $r(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Fr(e,t){var n=e.alternate;return null===n?((n=zr(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Br(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Ur(e,t,n,r,a,i){var l=0;if(r=e,"function"==typeof e)$r(e)&&(l=1);else if("string"==typeof e)l=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!=typeof t.precedence||"string"!=typeof t.href||""===t.href)break;return!0;case"link":if("string"!=typeof t.rel||"string"!=typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"==typeof t.precedence&&null==e);case"script":if(t.async&&"function"!=typeof t.async&&"symbol"!=typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"==typeof t.src)return!0}return!1}(e,n,W.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case T:return(e=zr(31,n,t,a)).elementType=T,e.lanes=i,e;case y:return qr(n.children,a,i,t);case v:l=8,a|=24;break;case x:return(e=zr(12,n,t,2|a)).elementType=x,e.lanes=i,e;case N:return(e=zr(13,n,t,a)).elementType=N,e.lanes=i,e;case E:return(e=zr(19,n,t,a)).elementType=E,e.lanes=i,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case w:case S:l=10;break e;case k:l=9;break e;case j:l=11;break e;case P:l=14;break e;case _:l=16,r=null;break e}l=29,n=Error(s(130,null===e?"null":typeof e,"")),r=null}return(t=zr(l,n,t,a)).elementType=e,t.type=r,t.lanes=i,t}function qr(e,t,n,r){return(e=zr(7,e,r,t)).lanes=n,e}function Wr(e,t,n){return(e=zr(6,e,null,t)).lanes=n,e}function Vr(e,t,n){return(t=zr(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Hr=[],Gr=0,Kr=null,Jr=0,Qr=[],Yr=0,Xr=null,Zr=1,ea="";function ta(e,t){Hr[Gr++]=Jr,Hr[Gr++]=Kr,Kr=e,Jr=t}function na(e,t,n){Qr[Yr++]=Zr,Qr[Yr++]=ea,Qr[Yr++]=Xr,Xr=e;var r=Zr;e=ea;var a=32-fe(r)-1;r&=~(1<<a),n+=1;var s=32-fe(t)+a;if(30<s){var i=a-a%5;s=(r&(1<<i)-1).toString(32),r>>=i,a-=i,Zr=1<<32-fe(t)+a|n<<a|r,ea=s+e}else Zr=1<<s|n<<a|r,ea=e}function ra(e){null!==e.return&&(ta(e,1),na(e,1,0))}function aa(e){for(;e===Kr;)Kr=Hr[--Gr],Hr[Gr]=null,Jr=Hr[--Gr],Hr[Gr]=null;for(;e===Xr;)Xr=Qr[--Yr],Qr[Yr]=null,ea=Qr[--Yr],Qr[Yr]=null,Zr=Qr[--Yr],Qr[Yr]=null}var sa=null,ia=null,la=!1,oa=null,ca=!1,ua=Error(s(519));function da(e){throw ya(Er(Error(s(418,"")),e)),ua}function ha(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[De]=e,t[Le]=r,n){case"dialog":$u("cancel",t),$u("close",t);break;case"iframe":case"object":case"embed":$u("load",t);break;case"video":case"audio":for(n=0;n<Ou.length;n++)$u(Ou[n],t);break;case"source":$u("error",t);break;case"img":case"image":case"link":$u("error",t),$u("load",t);break;case"details":$u("toggle",t);break;case"input":$u("invalid",t),bt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),pt(t);break;case"select":$u("invalid",t);break;case"textarea":$u("invalid",t),St(t,r.value,r.defaultValue,r.children),pt(t)}"string"!=typeof(n=r.children)&&"number"!=typeof n&&"bigint"!=typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||Xu(t.textContent,n)?(null!=r.popover&&($u("beforetoggle",t),$u("toggle",t)),null!=r.onScroll&&$u("scroll",t),null!=r.onScrollEnd&&$u("scrollend",t),null!=r.onClick&&(t.onclick=Zu),t=!0):t=!1,t||da(e)}function pa(e){for(sa=e.return;sa;)switch(sa.tag){case 5:case 13:return void(ca=!1);case 27:case 3:return void(ca=!0);default:sa=sa.return}}function ma(e){if(e!==sa)return!1;if(!la)return pa(e),la=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||od(e.type,e.memoizedProps)),t=!t),t&&ia&&da(e),pa(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){ia=bd(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}ia=null}}else 27===n?(n=ia,fd(e.type)?(e=xd,xd=null,ia=e):ia=n):ia=sa?bd(e.stateNode.nextSibling):null;return!0}function fa(){ia=sa=null,la=!1}function ga(){var e=oa;return null!==e&&(null===wc?wc=e:wc.push.apply(wc,e),oa=null),e}function ya(e){null===oa?oa=[e]:oa.push(e)}var va=B(null),ba=null,xa=null;function wa(e,t,n){q(va,t._currentValue),t._currentValue=n}function ka(e){e._currentValue=va.current,U(va)}function Sa(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ja(e,t,n,r){var a=e.child;for(null!==a&&(a.return=e);null!==a;){var i=a.dependencies;if(null!==i){var l=a.child;i=i.firstContext;e:for(;null!==i;){var o=i;i=a;for(var c=0;c<t.length;c++)if(o.context===t[c]){i.lanes|=n,null!==(o=i.alternate)&&(o.lanes|=n),Sa(i.return,n,e),r||(l=null);break e}i=o.next}}else if(18===a.tag){if(null===(l=a.return))throw Error(s(341));l.lanes|=n,null!==(i=l.alternate)&&(i.lanes|=n),Sa(l,n,e),l=null}else l=a.child;if(null!==l)l.return=a;else for(l=a;null!==l;){if(l===e){l=null;break}if(null!==(a=l.sibling)){a.return=l.return,l=a;break}l=l.return}a=l}}function Na(e,t,n,r){e=null;for(var a=t,i=!1;null!==a;){if(!i)if(524288&a.flags)i=!0;else if(262144&a.flags)break;if(10===a.tag){var l=a.alternate;if(null===l)throw Error(s(387));if(null!==(l=l.memoizedProps)){var o=a.type;Yn(a.pendingProps.value,l.value)||(null!==e?e.push(o):e=[o])}}else if(a===G.current){if(null===(l=a.alternate))throw Error(s(387));l.memoizedState.memoizedState!==a.memoizedState.memoizedState&&(null!==e?e.push(Qd):e=[Qd])}a=a.return}null!==e&&ja(t,e,n,r),t.flags|=262144}function Ea(e){for(e=e.firstContext;null!==e;){if(!Yn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Pa(e){ba=e,xa=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function _a(e){return Ca(ba,e)}function Ta(e,t){return null===ba&&Pa(e),Ca(e,t)}function Ca(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===xa){if(null===e)throw Error(s(308));xa=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else xa=xa.next=t;return n}var Ma="undefined"!=typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Aa=t.unstable_scheduleCallback,Ra=t.unstable_NormalPriority,Da={$$typeof:S,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function La(){return{controller:new Ma,data:new Map,refCount:0}}function Oa(e){e.refCount--,0===e.refCount&&Aa(Ra,function(){e.controller.abort()})}var Ia=null,za=0,$a=0,Fa=null;function Ba(){if(0===--za&&null!==Ia){null!==Fa&&(Fa.status="fulfilled");var e=Ia;Ia=null,$a=0,Fa=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Ua=O.S;O.S=function(e,t){"object"==typeof t&&null!==t&&"function"==typeof t.then&&function(e,t){if(null===Ia){var n=Ia=[];za=0,$a=Mu(),Fa={status:"pending",value:void 0,then:function(e){n.push(e)}}}za++,t.then(Ba,Ba)}(0,t),null!==Ua&&Ua(e,t)};var qa=B(null);function Wa(){var e=qa.current;return null!==e?e:sc.pooledCache}function Va(e,t){q(qa,null===t?qa.current:t.pool)}function Ha(){var e=Wa();return null===e?null:{parent:Da._currentValue,pool:e}}var Ga=Error(s(460)),Ka=Error(s(474)),Ja=Error(s(542)),Qa={then:function(){}};function Ya(e){return"fulfilled"===(e=e.status)||"rejected"===e}function Xa(){}function Za(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Xa,Xa),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw ns(e=t.reason),e;default:if("string"==typeof t.status)t.then(Xa,Xa);else{if(null!==(e=sc)&&100<e.shellSuspendCounter)throw Error(s(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw ns(e=t.reason),e}throw es=t,Ga}}var es=null;function ts(){if(null===es)throw Error(s(459));var e=es;return es=null,e}function ns(e){if(e===Ga||e===Ja)throw Error(s(483))}var rs=!1;function as(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ss(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function is(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ls(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,2&ac){var a=r.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),r.pending=t,t=Lr(e),Dr(e,null,n),t}return Mr(e,r,t,n),Lr(e)}function os(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Te(e,n)}}function cs(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var a=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var i={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===s?a=s=i:s=s.next=i,n=n.next}while(null!==n);null===s?a=s=t:s=s.next=t}else a=s=t;return n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var us=!1;function ds(){if(us){if(null!==Fa)throw Fa}}function hs(e,t,n,r){us=!1;var a=e.updateQueue;rs=!1;var s=a.firstBaseUpdate,i=a.lastBaseUpdate,l=a.shared.pending;if(null!==l){a.shared.pending=null;var o=l,c=o.next;o.next=null,null===i?s=c:i.next=c,i=o;var u=e.alternate;null!==u&&((l=(u=u.updateQueue).lastBaseUpdate)!==i&&(null===l?u.firstBaseUpdate=c:l.next=c,u.lastBaseUpdate=o))}if(null!==s){var h=a.baseState;for(i=0,u=c=o=null,l=s;;){var p=-536870913&l.lane,m=p!==l.lane;if(m?(lc&p)===p:(r&p)===p){0!==p&&p===$a&&(us=!0),null!==u&&(u=u.next={lane:0,tag:l.tag,payload:l.payload,callback:null,next:null});e:{var f=e,g=l;p=t;var y=n;switch(g.tag){case 1:if("function"==typeof(f=g.payload)){h=f.call(y,h,p);break e}h=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null==(p="function"==typeof(f=g.payload)?f.call(y,h,p):f))break e;h=d({},h,p);break e;case 2:rs=!0}}null!==(p=l.callback)&&(e.flags|=64,m&&(e.flags|=8192),null===(m=a.callbacks)?a.callbacks=[p]:m.push(p))}else m={lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},null===u?(c=u=m,o=h):u=u.next=m,i|=p;if(null===(l=l.next)){if(null===(l=a.shared.pending))break;l=(m=l).next,m.next=null,a.lastBaseUpdate=m,a.shared.pending=null}}null===u&&(o=h),a.baseState=o,a.firstBaseUpdate=c,a.lastBaseUpdate=u,null===s&&(a.shared.lanes=0),fc|=i,e.lanes=i,e.memoizedState=h}}function ps(e,t){if("function"!=typeof e)throw Error(s(191,e));e.call(t)}function ms(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)ps(n[e],t)}var fs=B(null),gs=B(0);function ys(e,t){q(gs,e=pc),q(fs,t),pc=e|t.baseLanes}function vs(){q(gs,pc),q(fs,fs.current)}function bs(){pc=gs.current,U(fs),U(gs)}var xs=0,ws=null,ks=null,Ss=null,js=!1,Ns=!1,Es=!1,Ps=0,_s=0,Ts=null,Cs=0;function Ms(){throw Error(s(321))}function As(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Yn(e[n],t[n]))return!1;return!0}function Rs(e,t,n,r,a,s){return xs=s,ws=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,O.H=null===e||null===e.memoizedState?Gi:Ki,Es=!1,s=n(r,a),Es=!1,Ns&&(s=Ls(t,n,r,a)),Ds(e),s}function Ds(e){O.H=Hi;var t=null!==ks&&null!==ks.next;if(xs=0,Ss=ks=ws=null,js=!1,_s=0,Ts=null,t)throw Error(s(300));null===e||_l||null!==(e=e.dependencies)&&Ea(e)&&(_l=!0)}function Ls(e,t,n,r){ws=e;var a=0;do{if(Ns&&(Ts=null),_s=0,Ns=!1,25<=a)throw Error(s(301));if(a+=1,Ss=ks=null,null!=e.updateQueue){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,null!=i.memoCache&&(i.memoCache.index=0)}O.H=Ji,i=t(n,r)}while(Ns);return i}function Os(){var e=O.H,t=e.useState()[0];return t="function"==typeof t.then?Us(t):t,e=e.useState()[0],(null!==ks?ks.memoizedState:null)!==e&&(ws.flags|=1024),t}function Is(){var e=0!==Ps;return Ps=0,e}function zs(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function $s(e){if(js){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}js=!1}xs=0,Ss=ks=ws=null,Ns=!1,_s=Ps=0,Ts=null}function Fs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Ss?ws.memoizedState=Ss=e:Ss=Ss.next=e,Ss}function Bs(){if(null===ks){var e=ws.alternate;e=null!==e?e.memoizedState:null}else e=ks.next;var t=null===Ss?ws.memoizedState:Ss.next;if(null!==t)Ss=t,ks=e;else{if(null===e){if(null===ws.alternate)throw Error(s(467));throw Error(s(310))}e={memoizedState:(ks=e).memoizedState,baseState:ks.baseState,baseQueue:ks.baseQueue,queue:ks.queue,next:null},null===Ss?ws.memoizedState=Ss=e:Ss=Ss.next=e}return Ss}function Us(e){var t=_s;return _s+=1,null===Ts&&(Ts=[]),e=Za(Ts,e,t),t=ws,null===(null===Ss?t.memoizedState:Ss.next)&&(t=t.alternate,O.H=null===t||null===t.memoizedState?Gi:Ki),e}function qs(e){if(null!==e&&"object"==typeof e){if("function"==typeof e.then)return Us(e);if(e.$$typeof===S)return _a(e)}throw Error(s(438,String(e)))}function Ws(e){var t=null,n=ws.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=ws.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},ws.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=C;return t.index++,n}function Vs(e,t){return"function"==typeof t?t(e):t}function Hs(e){return Gs(Bs(),ks,e)}function Gs(e,t,n){var r=e.queue;if(null===r)throw Error(s(311));r.lastRenderedReducer=n;var a=e.baseQueue,i=r.pending;if(null!==i){if(null!==a){var l=a.next;a.next=i.next,i.next=l}t.baseQueue=a=i,r.pending=null}if(i=e.baseState,null===a)e.memoizedState=i;else{var o=l=null,c=null,u=t=a.next,d=!1;do{var h=-536870913&u.lane;if(h!==u.lane?(lc&h)===h:(xs&h)===h){var p=u.revertLane;if(0===p)null!==c&&(c=c.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),h===$a&&(d=!0);else{if((xs&p)===p){u=u.next,p===$a&&(d=!0);continue}h={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(o=c=h,l=i):c=c.next=h,ws.lanes|=p,fc|=p}h=u.action,Es&&n(i,h),i=u.hasEagerState?u.eagerState:n(i,h)}else p={lane:h,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(o=c=p,l=i):c=c.next=p,ws.lanes|=h,fc|=h;u=u.next}while(null!==u&&u!==t);if(null===c?l=i:c.next=o,!Yn(i,e.memoizedState)&&(_l=!0,d&&null!==(n=Fa)))throw n;e.memoizedState=i,e.baseState=l,e.baseQueue=c,r.lastRenderedState=i}return null===a&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Ks(e){var t=Bs(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,i=t.memoizedState;if(null!==a){n.pending=null;var l=a=a.next;do{i=e(i,l.action),l=l.next}while(l!==a);Yn(i,t.memoizedState)||(_l=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Js(e,t,n){var r=ws,a=Bs(),i=la;if(i){if(void 0===n)throw Error(s(407));n=n()}else n=t();var l=!Yn((ks||a).memoizedState,n);if(l&&(a.memoizedState=n,_l=!0),a=a.queue,vi(2048,8,Xs.bind(null,r,a,e),[e]),a.getSnapshot!==t||l||null!==Ss&&1&Ss.memoizedState.tag){if(r.flags|=2048,fi(9,{destroy:void 0,resource:void 0},Ys.bind(null,r,a,n,t),null),null===sc)throw Error(s(349));i||124&xs||Qs(r,t,n)}return n}function Qs(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ws.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},ws.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ys(e,t,n,r){t.value=n,t.getSnapshot=r,Zs(t)&&ei(e)}function Xs(e,t,n){return n(function(){Zs(t)&&ei(e)})}function Zs(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Yn(e,n)}catch(r){return!0}}function ei(e){var t=Rr(e,2);null!==t&&zc(t,e,2)}function ti(e){var t=Fs();if("function"==typeof e){var n=e;if(e=n(),Es){me(!0);try{n()}finally{me(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vs,lastRenderedState:e},t}function ni(e,t,n,r){return e.baseState=n,Gs(e,ks,"function"==typeof r?r:Vs)}function ri(e,t,n,r,a){if(qi(e))throw Error(s(485));if(null!==(e=t.action)){var i={payload:a,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){i.listeners.push(e)}};null!==O.T?n(!0):i.isTransition=!1,r(i),null===(n=t.pending)?(i.next=t.pending=i,ai(t,i)):(i.next=n.next,t.pending=n.next=i)}}function ai(e,t){var n=t.action,r=t.payload,a=e.state;if(t.isTransition){var s=O.T,i={};O.T=i;try{var l=n(a,r),o=O.S;null!==o&&o(i,l),si(e,t,l)}catch(c){li(e,t,c)}finally{O.T=s}}else try{si(e,t,s=n(a,r))}catch(u){li(e,t,u)}}function si(e,t,n){null!==n&&"object"==typeof n&&"function"==typeof n.then?n.then(function(n){ii(e,t,n)},function(n){return li(e,t,n)}):ii(e,t,n)}function ii(e,t,n){t.status="fulfilled",t.value=n,oi(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,ai(e,n)))}function li(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,oi(t),t=t.next}while(t!==r)}e.action=null}function oi(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function ci(e,t){return t}function ui(e,t){if(la){var n=sc.formState;if(null!==n){e:{var r=ws;if(la){if(ia){t:{for(var a=ia,s=ca;8!==a.nodeType;){if(!s){a=null;break t}if(null===(a=bd(a.nextSibling))){a=null;break t}}a="F!"===(s=a.data)||"F"===s?a:null}if(a){ia=bd(a.nextSibling),r="F!"===a.data;break e}}da(r)}r=!1}r&&(t=n[0])}}return(n=Fs()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ci,lastRenderedState:t},n.queue=r,n=Fi.bind(null,ws,r),r.dispatch=n,r=ti(!1),s=Ui.bind(null,ws,!1,r.queue),a={state:t,dispatch:null,action:e,pending:null},(r=Fs()).queue=a,n=ri.bind(null,ws,a,s,n),a.dispatch=n,r.memoizedState=e,[t,n,!1]}function di(e){return hi(Bs(),ks,e)}function hi(e,t,n){if(t=Gs(e,t,ci)[0],e=Hs(Vs)[0],"object"==typeof t&&null!==t&&"function"==typeof t.then)try{var r=Us(t)}catch(i){if(i===Ga)throw Ja;throw i}else r=t;var a=(t=Bs()).queue,s=a.dispatch;return n!==t.memoizedState&&(ws.flags|=2048,fi(9,{destroy:void 0,resource:void 0},pi.bind(null,a,n),null)),[r,s,e]}function pi(e,t){e.action=t}function mi(e){var t=Bs(),n=ks;if(null!==n)return hi(t,n,e);Bs(),t=t.memoizedState;var r=(n=Bs()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function fi(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=ws.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},ws.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function gi(){return Bs().memoizedState}function yi(e,t,n,r){var a=Fs();r=void 0===r?null:r,ws.flags|=e,a.memoizedState=fi(1|t,{destroy:void 0,resource:void 0},n,r)}function vi(e,t,n,r){var a=Bs();r=void 0===r?null:r;var s=a.memoizedState.inst;null!==ks&&null!==r&&As(r,ks.memoizedState.deps)?a.memoizedState=fi(t,s,n,r):(ws.flags|=e,a.memoizedState=fi(1|t,s,n,r))}function bi(e,t){yi(8390656,8,e,t)}function xi(e,t){vi(2048,8,e,t)}function wi(e,t){return vi(4,2,e,t)}function ki(e,t){return vi(4,4,e,t)}function Si(e,t){if("function"==typeof t){e=e();var n=t(e);return function(){"function"==typeof n?n():t(null)}}if(null!=t)return e=e(),t.current=e,function(){t.current=null}}function ji(e,t,n){n=null!=n?n.concat([e]):null,vi(4,4,Si.bind(null,t,e),n)}function Ni(){}function Ei(e,t){var n=Bs();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&As(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Pi(e,t){var n=Bs();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&As(t,r[1]))return r[0];if(r=e(),Es){me(!0);try{e()}finally{me(!1)}}return n.memoizedState=[r,t],r}function _i(e,t,n){return void 0===n||1073741824&xs?e.memoizedState=t:(e.memoizedState=n,e=Ic(),ws.lanes|=e,fc|=e,n)}function Ti(e,t,n,r){return Yn(n,t)?n:null!==fs.current?(e=_i(e,n,r),Yn(e,t)||(_l=!0),e):42&xs?(e=Ic(),ws.lanes|=e,fc|=e,t):(_l=!0,e.memoizedState=n)}function Ci(e,t,n,r,a){var s=I.p;I.p=0!==s&&8>s?s:8;var i,l,o,c=O.T,u={};O.T=u,Ui(e,!1,t,n);try{var d=a(),h=O.S;if(null!==h&&h(u,d),null!==d&&"object"==typeof d&&"function"==typeof d.then)Bi(e,t,(i=r,l=[],o={status:"pending",value:null,reason:null,then:function(e){l.push(e)}},d.then(function(){o.status="fulfilled",o.value=i;for(var e=0;e<l.length;e++)(0,l[e])(i)},function(e){for(o.status="rejected",o.reason=e,e=0;e<l.length;e++)(0,l[e])(void 0)}),o),Oc());else Bi(e,t,r,Oc())}catch(p){Bi(e,t,{then:function(){},status:"rejected",reason:p},Oc())}finally{I.p=s,O.T=c}}function Mi(){}function Ai(e,t,n,r){if(5!==e.tag)throw Error(s(476));var a=Ri(e).queue;Ci(e,a,t,z,null===n?Mi:function(){return Di(e),n(r)})}function Ri(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:z,baseState:z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vs,lastRenderedState:z},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vs,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function Di(e){Bi(e,Ri(e).next.queue,{},Oc())}function Li(){return _a(Qd)}function Oi(){return Bs().memoizedState}function Ii(){return Bs().memoizedState}function zi(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Oc(),r=ls(t,e=is(n),n);return null!==r&&(zc(r,t,n),os(r,t,n)),t={cache:La()},void(e.payload=t)}t=t.return}}function $i(e,t,n){var r=Oc();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},qi(e)?Wi(t,n):null!==(n=Ar(e,t,n,r))&&(zc(n,e,r),Vi(n,t,r))}function Fi(e,t,n){Bi(e,t,n,Oc())}function Bi(e,t,n,r){var a={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(qi(e))Wi(t,a);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var i=t.lastRenderedState,l=s(i,n);if(a.hasEagerState=!0,a.eagerState=l,Yn(l,i))return Mr(e,t,a,0),null===sc&&Cr(),!1}catch(o){}if(null!==(n=Ar(e,t,a,r)))return zc(n,e,r),Vi(n,t,r),!0}return!1}function Ui(e,t,n,r){if(r={lane:2,revertLane:Mu(),action:r,hasEagerState:!1,eagerState:null,next:null},qi(e)){if(t)throw Error(s(479))}else null!==(t=Ar(e,n,r,2))&&zc(t,e,2)}function qi(e){var t=e.alternate;return e===ws||null!==t&&t===ws}function Wi(e,t){Ns=js=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Vi(e,t,n){if(4194048&n){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Te(e,n)}}var Hi={readContext:_a,use:qs,useCallback:Ms,useContext:Ms,useEffect:Ms,useImperativeHandle:Ms,useLayoutEffect:Ms,useInsertionEffect:Ms,useMemo:Ms,useReducer:Ms,useRef:Ms,useState:Ms,useDebugValue:Ms,useDeferredValue:Ms,useTransition:Ms,useSyncExternalStore:Ms,useId:Ms,useHostTransitionStatus:Ms,useFormState:Ms,useActionState:Ms,useOptimistic:Ms,useMemoCache:Ms,useCacheRefresh:Ms},Gi={readContext:_a,use:qs,useCallback:function(e,t){return Fs().memoizedState=[e,void 0===t?null:t],e},useContext:_a,useEffect:bi,useImperativeHandle:function(e,t,n){n=null!=n?n.concat([e]):null,yi(4194308,4,Si.bind(null,t,e),n)},useLayoutEffect:function(e,t){return yi(4194308,4,e,t)},useInsertionEffect:function(e,t){yi(4,2,e,t)},useMemo:function(e,t){var n=Fs();t=void 0===t?null:t;var r=e();if(Es){me(!0);try{e()}finally{me(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=Fs();if(void 0!==n){var a=n(t);if(Es){me(!0);try{n(t)}finally{me(!1)}}}else a=t;return r.memoizedState=r.baseState=a,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:a},r.queue=e,e=e.dispatch=$i.bind(null,ws,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Fs().memoizedState=e},useState:function(e){var t=(e=ti(e)).queue,n=Fi.bind(null,ws,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Ni,useDeferredValue:function(e,t){return _i(Fs(),e,t)},useTransition:function(){var e=ti(!1);return e=Ci.bind(null,ws,e.queue,!0,!1),Fs().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=ws,a=Fs();if(la){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===sc)throw Error(s(349));124&lc||Qs(r,t,n)}a.memoizedState=n;var i={value:n,getSnapshot:t};return a.queue=i,bi(Xs.bind(null,r,i,e),[e]),r.flags|=2048,fi(9,{destroy:void 0,resource:void 0},Ys.bind(null,r,i,n,t),null),n},useId:function(){var e=Fs(),t=sc.identifierPrefix;if(la){var n=ea;t="«"+t+"R"+(n=(Zr&~(1<<32-fe(Zr)-1)).toString(32)+n),0<(n=Ps++)&&(t+="H"+n.toString(32)),t+="»"}else t="«"+t+"r"+(n=Cs++).toString(32)+"»";return e.memoizedState=t},useHostTransitionStatus:Li,useFormState:ui,useActionState:ui,useOptimistic:function(e){var t=Fs();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Ui.bind(null,ws,!0,n),n.dispatch=t,[e,t]},useMemoCache:Ws,useCacheRefresh:function(){return Fs().memoizedState=zi.bind(null,ws)}},Ki={readContext:_a,use:qs,useCallback:Ei,useContext:_a,useEffect:xi,useImperativeHandle:ji,useInsertionEffect:wi,useLayoutEffect:ki,useMemo:Pi,useReducer:Hs,useRef:gi,useState:function(){return Hs(Vs)},useDebugValue:Ni,useDeferredValue:function(e,t){return Ti(Bs(),ks.memoizedState,e,t)},useTransition:function(){var e=Hs(Vs)[0],t=Bs().memoizedState;return["boolean"==typeof e?e:Us(e),t]},useSyncExternalStore:Js,useId:Oi,useHostTransitionStatus:Li,useFormState:di,useActionState:di,useOptimistic:function(e,t){return ni(Bs(),0,e,t)},useMemoCache:Ws,useCacheRefresh:Ii},Ji={readContext:_a,use:qs,useCallback:Ei,useContext:_a,useEffect:xi,useImperativeHandle:ji,useInsertionEffect:wi,useLayoutEffect:ki,useMemo:Pi,useReducer:Ks,useRef:gi,useState:function(){return Ks(Vs)},useDebugValue:Ni,useDeferredValue:function(e,t){var n=Bs();return null===ks?_i(n,e,t):Ti(n,ks.memoizedState,e,t)},useTransition:function(){var e=Ks(Vs)[0],t=Bs().memoizedState;return["boolean"==typeof e?e:Us(e),t]},useSyncExternalStore:Js,useId:Oi,useHostTransitionStatus:Li,useFormState:mi,useActionState:mi,useOptimistic:function(e,t){var n=Bs();return null!==ks?ni(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Ws,useCacheRefresh:Ii},Qi=null,Yi=0;function Xi(e){var t=Yi;return Yi+=1,null===Qi&&(Qi=[]),Za(Qi,e,t)}function Zi(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function el(e,t){if(t.$$typeof===h)throw Error(s(525));throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function tl(e){return(0,e._init)(e._payload)}function nl(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function a(e,t){return(e=Fr(e,t)).index=0,e.sibling=null,e}function i(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function l(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function o(e,t,n,r){return null===t||6!==t.tag?((t=Wr(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function c(e,t,n,r){var s=n.type;return s===y?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"==typeof s&&null!==s&&s.$$typeof===_&&tl(s)===t.type)?(Zi(t=a(t,n.props),n),t.return=e,t):(Zi(t=Ur(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Vr(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function d(e,t,n,r,s){return null===t||7!==t.tag?((t=qr(n,e.mode,r,s)).return=e,t):((t=a(t,n)).return=e,t)}function h(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t||"bigint"==typeof t)return(t=Wr(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case m:return Zi(n=Ur(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case f:return(t=Vr(t,e.mode,n)).return=e,t;case _:return h(e,t=(0,t._init)(t._payload),n)}if(L(t)||A(t))return(t=qr(t,e.mode,n,null)).return=e,t;if("function"==typeof t.then)return h(e,Xi(t),n);if(t.$$typeof===S)return h(e,Ta(e,t),n);el(e,t)}return null}function p(e,t,n,r){var a=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n||"bigint"==typeof n)return null!==a?null:o(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case m:return n.key===a?c(e,t,n,r):null;case f:return n.key===a?u(e,t,n,r):null;case _:return p(e,t,n=(a=n._init)(n._payload),r)}if(L(n)||A(n))return null!==a?null:d(e,t,n,r,null);if("function"==typeof n.then)return p(e,t,Xi(n),r);if(n.$$typeof===S)return p(e,t,Ta(e,n),r);el(e,n)}return null}function g(e,t,n,r,a){if("string"==typeof r&&""!==r||"number"==typeof r||"bigint"==typeof r)return o(t,e=e.get(n)||null,""+r,a);if("object"==typeof r&&null!==r){switch(r.$$typeof){case m:return c(t,e=e.get(null===r.key?n:r.key)||null,r,a);case f:return u(t,e=e.get(null===r.key?n:r.key)||null,r,a);case _:return g(e,t,n,r=(0,r._init)(r._payload),a)}if(L(r)||A(r))return d(t,e=e.get(n)||null,r,a,null);if("function"==typeof r.then)return g(e,t,n,Xi(r),a);if(r.$$typeof===S)return g(e,t,n,Ta(t,r),a);el(t,r)}return null}function v(o,c,u,d){if("object"==typeof u&&null!==u&&u.type===y&&null===u.key&&(u=u.props.children),"object"==typeof u&&null!==u){switch(u.$$typeof){case m:e:{for(var b=u.key;null!==c;){if(c.key===b){if((b=u.type)===y){if(7===c.tag){n(o,c.sibling),(d=a(c,u.props.children)).return=o,o=d;break e}}else if(c.elementType===b||"object"==typeof b&&null!==b&&b.$$typeof===_&&tl(b)===c.type){n(o,c.sibling),Zi(d=a(c,u.props),u),d.return=o,o=d;break e}n(o,c);break}t(o,c),c=c.sibling}u.type===y?((d=qr(u.props.children,o.mode,d,u.key)).return=o,o=d):(Zi(d=Ur(u.type,u.key,u.props,null,o.mode,d),u),d.return=o,o=d)}return l(o);case f:e:{for(b=u.key;null!==c;){if(c.key===b){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){n(o,c.sibling),(d=a(c,u.children||[])).return=o,o=d;break e}n(o,c);break}t(o,c),c=c.sibling}(d=Vr(u,o.mode,d)).return=o,o=d}return l(o);case _:return v(o,c,u=(b=u._init)(u._payload),d)}if(L(u))return function(a,s,l,o){for(var c=null,u=null,d=s,m=s=0,f=null;null!==d&&m<l.length;m++){d.index>m?(f=d,d=null):f=d.sibling;var y=p(a,d,l[m],o);if(null===y){null===d&&(d=f);break}e&&d&&null===y.alternate&&t(a,d),s=i(y,s,m),null===u?c=y:u.sibling=y,u=y,d=f}if(m===l.length)return n(a,d),la&&ta(a,m),c;if(null===d){for(;m<l.length;m++)null!==(d=h(a,l[m],o))&&(s=i(d,s,m),null===u?c=d:u.sibling=d,u=d);return la&&ta(a,m),c}for(d=r(d);m<l.length;m++)null!==(f=g(d,a,m,l[m],o))&&(e&&null!==f.alternate&&d.delete(null===f.key?m:f.key),s=i(f,s,m),null===u?c=f:u.sibling=f,u=f);return e&&d.forEach(function(e){return t(a,e)}),la&&ta(a,m),c}(o,c,u,d);if(A(u)){if("function"!=typeof(b=A(u)))throw Error(s(150));return function(a,l,o,c){if(null==o)throw Error(s(151));for(var u=null,d=null,m=l,f=l=0,y=null,v=o.next();null!==m&&!v.done;f++,v=o.next()){m.index>f?(y=m,m=null):y=m.sibling;var b=p(a,m,v.value,c);if(null===b){null===m&&(m=y);break}e&&m&&null===b.alternate&&t(a,m),l=i(b,l,f),null===d?u=b:d.sibling=b,d=b,m=y}if(v.done)return n(a,m),la&&ta(a,f),u;if(null===m){for(;!v.done;f++,v=o.next())null!==(v=h(a,v.value,c))&&(l=i(v,l,f),null===d?u=v:d.sibling=v,d=v);return la&&ta(a,f),u}for(m=r(m);!v.done;f++,v=o.next())null!==(v=g(m,a,f,v.value,c))&&(e&&null!==v.alternate&&m.delete(null===v.key?f:v.key),l=i(v,l,f),null===d?u=v:d.sibling=v,d=v);return e&&m.forEach(function(e){return t(a,e)}),la&&ta(a,f),u}(o,c,u=b.call(u),d)}if("function"==typeof u.then)return v(o,c,Xi(u),d);if(u.$$typeof===S)return v(o,c,Ta(o,u),d);el(o,u)}return"string"==typeof u&&""!==u||"number"==typeof u||"bigint"==typeof u?(u=""+u,null!==c&&6===c.tag?(n(o,c.sibling),(d=a(c,u)).return=o,o=d):(n(o,c),(d=Wr(u,o.mode,d)).return=o,o=d),l(o)):n(o,c)}return function(e,t,n,r){try{Yi=0;var a=v(e,t,n,r);return Qi=null,a}catch(i){if(i===Ga||i===Ja)throw i;var s=zr(29,i,null,e.mode);return s.lanes=r,s.return=e,s}}}var rl=nl(!0),al=nl(!1),sl=B(null),il=null;function ll(e){var t=e.alternate;q(dl,1&dl.current),q(sl,e),null===il&&(null===t||null!==fs.current||null!==t.memoizedState)&&(il=e)}function ol(e){if(22===e.tag){if(q(dl,dl.current),q(sl,e),null===il){var t=e.alternate;null!==t&&null!==t.memoizedState&&(il=e)}}else cl()}function cl(){q(dl,dl.current),q(sl,sl.current)}function ul(e){U(sl),il===e&&(il=null),U(dl)}var dl=B(0);function hl(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||vd(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(128&t.flags)return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function pl(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:d({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ml={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Oc(),a=is(r);a.payload=t,null!=n&&(a.callback=n),null!==(t=ls(e,a,r))&&(zc(t,e,r),os(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Oc(),a=is(r);a.tag=1,a.payload=t,null!=n&&(a.callback=n),null!==(t=ls(e,a,r))&&(zc(t,e,r),os(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Oc(),r=is(n);r.tag=2,null!=t&&(r.callback=t),null!==(t=ls(e,r,n))&&(zc(t,e,n),os(t,e,n))}};function fl(e,t,n,r,a,s,i){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,i):!t.prototype||!t.prototype.isPureReactComponent||(!Xn(n,r)||!Xn(a,s))}function gl(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ml.enqueueReplaceState(t,t.state,null)}function yl(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var a in n===t&&(n=d({},n)),e)void 0===n[a]&&(n[a]=e[a]);return n}var vl="function"==typeof reportError?reportError:function(e){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof e&&null!==e&&"string"==typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"==typeof process&&"function"==typeof process.emit)return void process.emit("uncaughtException",e)};function bl(e){vl(e)}function xl(e){}function wl(e){vl(e)}function kl(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function Sl(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function jl(e,t,n){return(n=is(n)).tag=3,n.payload={element:null},n.callback=function(){kl(e,t)},n}function Nl(e){return(e=is(e)).tag=3,e}function El(e,t,n,r){var a=n.type.getDerivedStateFromError;if("function"==typeof a){var s=r.value;e.payload=function(){return a(s)},e.callback=function(){Sl(t,n,r)}}var i=n.stateNode;null!==i&&"function"==typeof i.componentDidCatch&&(e.callback=function(){Sl(t,n,r),"function"!=typeof a&&(null===Ec?Ec=new Set([this]):Ec.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var Pl=Error(s(461)),_l=!1;function Tl(e,t,n,r){t.child=null===e?al(t,null,n,r):rl(t,e.child,n,r)}function Cl(e,t,n,r,a){n=n.render;var s=t.ref;if("ref"in r){var i={};for(var l in r)"ref"!==l&&(i[l]=r[l])}else i=r;return Pa(t),r=Rs(e,t,n,i,s,a),l=Is(),null===e||_l?(la&&l&&ra(t),t.flags|=1,Tl(e,t,r,a),t.child):(zs(e,t,a),Ql(e,t,a))}function Ml(e,t,n,r,a){if(null===e){var s=n.type;return"function"!=typeof s||$r(s)||void 0!==s.defaultProps||null!==n.compare?((e=Ur(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Al(e,t,s,r,a))}if(s=e.child,!Yl(e,a)){var i=s.memoizedProps;if((n=null!==(n=n.compare)?n:Xn)(i,r)&&e.ref===t.ref)return Ql(e,t,a)}return t.flags|=1,(e=Fr(s,r)).ref=t.ref,e.return=t,t.child=e}function Al(e,t,n,r,a){if(null!==e){var s=e.memoizedProps;if(Xn(s,r)&&e.ref===t.ref){if(_l=!1,t.pendingProps=r=s,!Yl(e,a))return t.lanes=e.lanes,Ql(e,t,a);131072&e.flags&&(_l=!0)}}return Ol(e,t,n,r,a)}function Rl(e,t,n){var r=t.pendingProps,a=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode){if(128&t.flags){if(r=null!==s?s.baseLanes|n:n,null!==e){for(a=t.child=e.child,s=0;null!==a;)s=s|a.lanes|a.childLanes,a=a.sibling;t.childLanes=s&~r}else t.childLanes=0,t.child=null;return Dl(e,t,r,n)}if(!(536870912&n))return t.lanes=t.childLanes=536870912,Dl(e,t,null!==s?s.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Va(0,null!==s?s.cachePool:null),null!==s?ys(t,s):vs(),ol(t)}else null!==s?(Va(0,s.cachePool),ys(t,s),cl(),t.memoizedState=null):(null!==e&&Va(0,null),vs(),cl());return Tl(e,t,a,n),t.child}function Dl(e,t,n,r){var a=Wa();return a=null===a?null:{parent:Da._currentValue,pool:a},t.memoizedState={baseLanes:n,cachePool:a},null!==e&&Va(0,null),vs(),ol(t),null!==e&&Na(e,t,r,!0),null}function Ll(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!=typeof n&&"object"!=typeof n)throw Error(s(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Ol(e,t,n,r,a){return Pa(t),n=Rs(e,t,n,r,void 0,a),r=Is(),null===e||_l?(la&&r&&ra(t),t.flags|=1,Tl(e,t,n,a),t.child):(zs(e,t,a),Ql(e,t,a))}function Il(e,t,n,r,a,s){return Pa(t),t.updateQueue=null,n=Ls(t,r,n,a),Ds(e),r=Is(),null===e||_l?(la&&r&&ra(t),t.flags|=1,Tl(e,t,n,s),t.child):(zs(e,t,s),Ql(e,t,s))}function zl(e,t,n,r,a){if(Pa(t),null===t.stateNode){var s=Or,i=n.contextType;"object"==typeof i&&null!==i&&(s=_a(i)),s=new n(r,s),t.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,s.updater=ml,t.stateNode=s,s._reactInternals=t,(s=t.stateNode).props=r,s.state=t.memoizedState,s.refs={},as(t),i=n.contextType,s.context="object"==typeof i&&null!==i?_a(i):Or,s.state=t.memoizedState,"function"==typeof(i=n.getDerivedStateFromProps)&&(pl(t,n,i,r),s.state=t.memoizedState),"function"==typeof n.getDerivedStateFromProps||"function"==typeof s.getSnapshotBeforeUpdate||"function"!=typeof s.UNSAFE_componentWillMount&&"function"!=typeof s.componentWillMount||(i=s.state,"function"==typeof s.componentWillMount&&s.componentWillMount(),"function"==typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount(),i!==s.state&&ml.enqueueReplaceState(s,s.state,null),hs(t,r,s,a),ds(),s.state=t.memoizedState),"function"==typeof s.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){s=t.stateNode;var l=t.memoizedProps,o=yl(n,l);s.props=o;var c=s.context,u=n.contextType;i=Or,"object"==typeof u&&null!==u&&(i=_a(u));var d=n.getDerivedStateFromProps;u="function"==typeof d||"function"==typeof s.getSnapshotBeforeUpdate,l=t.pendingProps!==l,u||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(l||c!==i)&&gl(t,s,r,i),rs=!1;var h=t.memoizedState;s.state=h,hs(t,r,s,a),ds(),c=t.memoizedState,l||h!==c||rs?("function"==typeof d&&(pl(t,n,d,r),c=t.memoizedState),(o=rs||fl(t,n,o,r,h,c,i))?(u||"function"!=typeof s.UNSAFE_componentWillMount&&"function"!=typeof s.componentWillMount||("function"==typeof s.componentWillMount&&s.componentWillMount(),"function"==typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"==typeof s.componentDidMount&&(t.flags|=4194308)):("function"==typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),s.props=r,s.state=c,s.context=i,r=o):("function"==typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,ss(e,t),u=yl(n,i=t.memoizedProps),s.props=u,d=t.pendingProps,h=s.context,c=n.contextType,o=Or,"object"==typeof c&&null!==c&&(o=_a(c)),(c="function"==typeof(l=n.getDerivedStateFromProps)||"function"==typeof s.getSnapshotBeforeUpdate)||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(i!==d||h!==o)&&gl(t,s,r,o),rs=!1,h=t.memoizedState,s.state=h,hs(t,r,s,a),ds();var p=t.memoizedState;i!==d||h!==p||rs||null!==e&&null!==e.dependencies&&Ea(e.dependencies)?("function"==typeof l&&(pl(t,n,l,r),p=t.memoizedState),(u=rs||fl(t,n,u,r,h,p,o)||null!==e&&null!==e.dependencies&&Ea(e.dependencies))?(c||"function"!=typeof s.UNSAFE_componentWillUpdate&&"function"!=typeof s.componentWillUpdate||("function"==typeof s.componentWillUpdate&&s.componentWillUpdate(r,p,o),"function"==typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,p,o)),"function"==typeof s.componentDidUpdate&&(t.flags|=4),"function"==typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof s.componentDidUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),s.props=r,s.state=p,s.context=o,r=u):("function"!=typeof s.componentDidUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return s=r,Ll(e,t),r=!!(128&t.flags),s||r?(s=t.stateNode,n=r&&"function"!=typeof n.getDerivedStateFromError?null:s.render(),t.flags|=1,null!==e&&r?(t.child=rl(t,e.child,null,a),t.child=rl(t,null,n,a)):Tl(e,t,n,a),t.memoizedState=s.state,e=t.child):e=Ql(e,t,a),e}function $l(e,t,n,r){return fa(),t.flags|=256,Tl(e,t,n,r),t.child}var Fl={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Bl(e){return{baseLanes:e,cachePool:Ha()}}function Ul(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=vc),e}function ql(e,t,n){var r,a=t.pendingProps,i=!1,l=!!(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&!!(2&dl.current)),r&&(i=!0,t.flags&=-129),r=!!(32&t.flags),t.flags&=-33,null===e){if(la){if(i?ll(t):cl(),la){var o,c=ia;if(o=c){e:{for(o=c,c=ca;8!==o.nodeType;){if(!c){c=null;break e}if(null===(o=bd(o.nextSibling))){c=null;break e}}c=o}null!==c?(t.memoizedState={dehydrated:c,treeContext:null!==Xr?{id:Zr,overflow:ea}:null,retryLane:536870912,hydrationErrors:null},(o=zr(18,null,null,0)).stateNode=c,o.return=t,t.child=o,sa=t,ia=null,o=!0):o=!1}o||da(t)}if(null!==(c=t.memoizedState)&&null!==(c=c.dehydrated))return vd(c)?t.lanes=32:t.lanes=536870912,null;ul(t)}return c=a.children,a=a.fallback,i?(cl(),c=Vl({mode:"hidden",children:c},i=t.mode),a=qr(a,i,n,null),c.return=t,a.return=t,c.sibling=a,t.child=c,(i=t.child).memoizedState=Bl(n),i.childLanes=Ul(e,r,n),t.memoizedState=Fl,a):(ll(t),Wl(t,c))}if(null!==(o=e.memoizedState)&&null!==(c=o.dehydrated)){if(l)256&t.flags?(ll(t),t.flags&=-257,t=Hl(e,t,n)):null!==t.memoizedState?(cl(),t.child=e.child,t.flags|=128,t=null):(cl(),i=a.fallback,c=t.mode,a=Vl({mode:"visible",children:a.children},c),(i=qr(i,c,n,null)).flags|=2,a.return=t,i.return=t,a.sibling=i,t.child=a,rl(t,e.child,null,n),(a=t.child).memoizedState=Bl(n),a.childLanes=Ul(e,r,n),t.memoizedState=Fl,t=i);else if(ll(t),vd(c)){if(r=c.nextSibling&&c.nextSibling.dataset)var u=r.dgst;r=u,(a=Error(s(419))).stack="",a.digest=r,ya({value:a,source:null,stack:null}),t=Hl(e,t,n)}else if(_l||Na(e,t,n,!1),r=0!==(n&e.childLanes),_l||r){if(null!==(r=sc)&&(0!==(a=0!==((a=42&(a=n&-n)?1:Ce(a))&(r.suspendedLanes|n))?0:a)&&a!==o.retryLane))throw o.retryLane=a,Rr(e,a),zc(r,e,a),Pl;"$?"===c.data||Jc(),t=Hl(e,t,n)}else"$?"===c.data?(t.flags|=192,t.child=e.child,t=null):(e=o.treeContext,ia=bd(c.nextSibling),sa=t,la=!0,oa=null,ca=!1,null!==e&&(Qr[Yr++]=Zr,Qr[Yr++]=ea,Qr[Yr++]=Xr,Zr=e.id,ea=e.overflow,Xr=t),(t=Wl(t,a.children)).flags|=4096);return t}return i?(cl(),i=a.fallback,c=t.mode,u=(o=e.child).sibling,(a=Fr(o,{mode:"hidden",children:a.children})).subtreeFlags=65011712&o.subtreeFlags,null!==u?i=Fr(u,i):(i=qr(i,c,n,null)).flags|=2,i.return=t,a.return=t,a.sibling=i,t.child=a,a=i,i=t.child,null===(c=e.child.memoizedState)?c=Bl(n):(null!==(o=c.cachePool)?(u=Da._currentValue,o=o.parent!==u?{parent:u,pool:u}:o):o=Ha(),c={baseLanes:c.baseLanes|n,cachePool:o}),i.memoizedState=c,i.childLanes=Ul(e,r,n),t.memoizedState=Fl,a):(ll(t),e=(n=e.child).sibling,(n=Fr(n,{mode:"visible",children:a.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function Wl(e,t){return(t=Vl({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Vl(e,t){return(e=zr(22,e,null,t)).lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Hl(e,t,n){return rl(t,e.child,null,n),(e=Wl(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Gl(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Sa(e.return,t,n)}function Kl(e,t,n,r,a){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=a)}function Jl(e,t,n){var r=t.pendingProps,a=r.revealOrder,s=r.tail;if(Tl(e,t,r.children,n),2&(r=dl.current))r=1&r|2,t.flags|=128;else{if(null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Gl(e,n,t);else if(19===e.tag)Gl(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(q(dl,r),a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===hl(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Kl(t,!1,a,n,s);break;case"backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===hl(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Kl(t,!0,n,null,s);break;case"together":Kl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ql(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),fc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(Na(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Fr(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Fr(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Yl(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Ea(e))}function Xl(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)_l=!0;else{if(!(Yl(e,n)||128&t.flags))return _l=!1,function(e,t,n){switch(t.tag){case 3:K(t,t.stateNode.containerInfo),wa(0,Da,e.memoizedState.cache),fa();break;case 27:case 5:Q(t);break;case 4:K(t,t.stateNode.containerInfo);break;case 10:wa(0,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(ll(t),t.flags|=128,null):0!==(n&t.child.childLanes)?ql(e,t,n):(ll(t),null!==(e=Ql(e,t,n))?e.sibling:null);ll(t);break;case 19:var a=!!(128&e.flags);if((r=0!==(n&t.childLanes))||(Na(e,t,n,!1),r=0!==(n&t.childLanes)),a){if(r)return Jl(e,t,n);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),q(dl,dl.current),r)break;return null;case 22:case 23:return t.lanes=0,Rl(e,t,n);case 24:wa(0,Da,e.memoizedState.cache)}return Ql(e,t,n)}(e,t,n);_l=!!(131072&e.flags)}else _l=!1,la&&1048576&t.flags&&na(t,Jr,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var r=t.elementType,a=r._init;if(r=a(r._payload),t.type=r,"function"!=typeof r){if(null!=r){if((a=r.$$typeof)===j){t.tag=11,t=Cl(null,t,r,e,n);break e}if(a===P){t.tag=14,t=Ml(null,t,r,e,n);break e}}throw t=D(r)||r,Error(s(306,t,""))}$r(r)?(e=yl(r,e),t.tag=1,t=zl(null,t,r,e,n)):(t.tag=0,t=Ol(null,t,r,e,n))}return t;case 0:return Ol(e,t,t.type,t.pendingProps,n);case 1:return zl(e,t,r=t.type,a=yl(r,t.pendingProps),n);case 3:e:{if(K(t,t.stateNode.containerInfo),null===e)throw Error(s(387));r=t.pendingProps;var i=t.memoizedState;a=i.element,ss(e,t),hs(t,r,null,n);var l=t.memoizedState;if(r=l.cache,wa(0,Da,r),r!==i.cache&&ja(t,[Da],n,!0),ds(),r=l.element,i.isDehydrated){if(i={element:r,isDehydrated:!1,cache:l.cache},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=$l(e,t,r,n);break e}if(r!==a){ya(a=Er(Error(s(424)),t)),t=$l(e,t,r,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(ia=bd(e.firstChild),sa=t,la=!0,oa=null,ca=!0,n=al(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fa(),r===a){t=Ql(e,t,n);break e}Tl(e,t,r,n)}t=t.child}return t;case 26:return Ll(e,t),null===e?(n=Cd(t.type,null,t.pendingProps,null))?t.memoizedState=n:la||(n=t.type,e=t.pendingProps,(r=sd(H.current).createElement(n))[De]=t,r[Le]=e,nd(r,n,e),Ge(r),t.stateNode=r):t.memoizedState=Cd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Q(t),null===e&&la&&(r=t.stateNode=kd(t.type,t.pendingProps,H.current),sa=t,ca=!0,a=ia,fd(t.type)?(xd=a,ia=bd(r.firstChild)):ia=a),Tl(e,t,t.pendingProps.children,n),Ll(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&la&&((a=r=ia)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var a=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[Be])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(s=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(s!==a.rel||e.getAttribute("href")!==(null==a.href||""===a.href?null:a.href)||e.getAttribute("crossorigin")!==(null==a.crossOrigin?null:a.crossOrigin)||e.getAttribute("title")!==(null==a.title?null:a.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((s=e.getAttribute("src"))!==(null==a.src?null:a.src)||e.getAttribute("type")!==(null==a.type?null:a.type)||e.getAttribute("crossorigin")!==(null==a.crossOrigin?null:a.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var s=null==a.name?null:""+a.name;if("hidden"===a.type&&e.getAttribute("name")===s)return e}if(null===(e=bd(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,ca))?(t.stateNode=r,sa=t,ia=bd(r.firstChild),ca=!1,a=!0):a=!1),a||da(t)),Q(t),a=t.type,i=t.pendingProps,l=null!==e?e.memoizedProps:null,r=i.children,od(a,i)?r=null:null!==l&&od(a,l)&&(t.flags|=32),null!==t.memoizedState&&(a=Rs(e,t,Os,null,null,n),Qd._currentValue=a),Ll(e,t),Tl(e,t,r,n),t.child;case 6:return null===e&&la&&((e=n=ia)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=bd(e.nextSibling)))return null}return e}(n,t.pendingProps,ca))?(t.stateNode=n,sa=t,ia=null,e=!0):e=!1),e||da(t)),null;case 13:return ql(e,t,n);case 4:return K(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=rl(t,null,r,n):Tl(e,t,r,n),t.child;case 11:return Cl(e,t,t.type,t.pendingProps,n);case 7:return Tl(e,t,t.pendingProps,n),t.child;case 8:case 12:return Tl(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,wa(0,t.type,r.value),Tl(e,t,r.children,n),t.child;case 9:return a=t.type._context,r=t.pendingProps.children,Pa(t),r=r(a=_a(a)),t.flags|=1,Tl(e,t,r,n),t.child;case 14:return Ml(e,t,t.type,t.pendingProps,n);case 15:return Al(e,t,t.type,t.pendingProps,n);case 19:return Jl(e,t,n);case 31:return r=t.pendingProps,n=t.mode,r={mode:r.mode,children:r.children},null===e?((n=Vl(r,n)).ref=t.ref,t.child=n,n.return=t,t=n):((n=Fr(e.child,r)).ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return Rl(e,t,n);case 24:return Pa(t),r=_a(Da),null===e?(null===(a=Wa())&&(a=sc,i=La(),a.pooledCache=i,i.refCount++,null!==i&&(a.pooledCacheLanes|=n),a=i),t.memoizedState={parent:r,cache:a},as(t),wa(0,Da,a)):(0!==(e.lanes&n)&&(ss(e,t),hs(t,null,null,n),ds()),a=e.memoizedState,i=t.memoizedState,a.parent!==r?(a={parent:r,cache:r},t.memoizedState=a,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=a),wa(0,Da,r)):(r=i.cache,wa(0,Da,r),r!==a.cache&&ja(t,[Da],n,!0))),Tl(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(s(156,t.tag))}function Zl(e){e.flags|=4}function eo(e,t){if("stylesheet"!==t.type||4&t.state.loading)e.flags&=-16777217;else if(e.flags|=16777216,!qd(t)){if(null!==(t=sl.current)&&((4194048&lc)===lc?null!==il:(62914560&lc)!==lc&&!(536870912&lc)||t!==il))throw es=Qa,Ka;e.flags|=8192}}function to(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Ne():536870912,e.lanes|=t,bc|=t)}function no(e,t){if(!la)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ro(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=65011712&a.subtreeFlags,r|=65011712&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function ao(e,t,n){var r=t.pendingProps;switch(aa(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return ro(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),ka(Da),J(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(ma(t)?Zl(t):null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,ga())),ro(t),null;case 26:return n=t.memoizedState,null===e?(Zl(t),null!==n?(ro(t),eo(t,n)):(ro(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Zl(t),ro(t),eo(t,n)):(ro(t),t.flags&=-16777217):(e.memoizedProps!==r&&Zl(t),ro(t),t.flags&=-16777217),null;case 27:Y(t),n=H.current;var a=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Zl(t);else{if(!r){if(null===t.stateNode)throw Error(s(166));return ro(t),null}e=W.current,ma(t)?ha(t):(e=kd(a,r,n),t.stateNode=e,Zl(t))}return ro(t),null;case 5:if(Y(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Zl(t);else{if(!r){if(null===t.stateNode)throw Error(s(166));return ro(t),null}if(e=W.current,ma(t))ha(t);else{switch(a=sd(H.current),e){case 1:e=a.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=a.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=a.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=a.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=a.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"==typeof r.is?a.createElement("select",{is:r.is}):a.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e="string"==typeof r.is?a.createElement(n,{is:r.is}):a.createElement(n)}}e[De]=t,e[Le]=r;e:for(a=t.child;null!==a;){if(5===a.tag||6===a.tag)e.appendChild(a.stateNode);else if(4!==a.tag&&27!==a.tag&&null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break e;for(;null===a.sibling;){if(null===a.return||a.return===t)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}t.stateNode=e;e:switch(nd(e,n,r),n){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Zl(t)}}return ro(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&Zl(t);else{if("string"!=typeof r&&null===t.stateNode)throw Error(s(166));if(e=H.current,ma(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(a=sa))switch(a.tag){case 27:case 5:r=a.memoizedProps}e[De]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||Xu(e.nodeValue,n)))||da(t)}else(e=sd(e).createTextNode(r))[De]=t,t.stateNode=e}return ro(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(a=ma(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(s(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(s(317));a[De]=t}else fa(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;ro(t),a=!1}else a=ga(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=a),a=!0;if(!a)return 256&t.flags?(ul(t),t):(ul(t),null)}if(ul(t),128&t.flags)return t.lanes=n,t;if(n=null!==r,e=null!==e&&null!==e.memoizedState,n){a=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(a=r.alternate.memoizedState.cachePool.pool);var i=null;null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(i=r.memoizedState.cachePool.pool),i!==a&&(r.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),to(t,t.updateQueue),ro(t),null;case 4:return J(),null===e&&Uu(t.stateNode.containerInfo),ro(t),null;case 10:return ka(t.type),ro(t),null;case 19:if(U(dl),null===(a=t.memoizedState))return ro(t),null;if(r=!!(128&t.flags),null===(i=a.rendering))if(r)no(a,!1);else{if(0!==mc||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(i=hl(e))){for(t.flags|=128,no(a,!1),e=i.updateQueue,t.updateQueue=e,to(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Br(n,e),n=n.sibling;return q(dl,1&dl.current|2),t.child}e=e.sibling}null!==a.tail&&re()>jc&&(t.flags|=128,r=!0,no(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=hl(i))){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,to(t,e),no(a,!0),null===a.tail&&"hidden"===a.tailMode&&!i.alternate&&!la)return ro(t),null}else 2*re()-a.renderingStartTime>jc&&536870912!==n&&(t.flags|=128,r=!0,no(a,!1),t.lanes=4194304);a.isBackwards?(i.sibling=t.child,t.child=i):(null!==(e=a.last)?e.sibling=i:t.child=i,a.last=i)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=re(),t.sibling=null,e=dl.current,q(dl,r?1&e|2:1&e),t):(ro(t),null);case 22:case 23:return ul(t),bs(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?!!(536870912&n)&&!(128&t.flags)&&(ro(t),6&t.subtreeFlags&&(t.flags|=8192)):ro(t),null!==(n=t.updateQueue)&&to(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&U(qa),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),ka(Da),ro(t),null;case 25:case 30:return null}throw Error(s(156,t.tag))}function so(e,t){switch(aa(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return ka(Da),J(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return Y(t),null;case 13:if(ul(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));fa()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return U(dl),null;case 4:return J(),null;case 10:return ka(t.type),null;case 22:case 23:return ul(t),bs(),null!==e&&U(qa),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return ka(Da),null;default:return null}}function io(e,t){switch(aa(t),t.tag){case 3:ka(Da),J();break;case 26:case 27:case 5:Y(t);break;case 4:J();break;case 13:ul(t);break;case 19:U(dl);break;case 10:ka(t.type);break;case 22:case 23:ul(t),bs(),null!==e&&U(qa);break;case 24:ka(Da)}}function lo(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var a=r.next;n=a;do{if((n.tag&e)===e){r=void 0;var s=n.create,i=n.inst;r=s(),i.destroy=r}n=n.next}while(n!==a)}}catch(l){hu(t,t.return,l)}}function oo(e,t,n){try{var r=t.updateQueue,a=null!==r?r.lastEffect:null;if(null!==a){var s=a.next;r=s;do{if((r.tag&e)===e){var i=r.inst,l=i.destroy;if(void 0!==l){i.destroy=void 0,a=t;var o=n,c=l;try{c()}catch(u){hu(a,o,u)}}}r=r.next}while(r!==s)}}catch(u){hu(t,t.return,u)}}function co(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{ms(t,n)}catch(r){hu(e,e.return,r)}}}function uo(e,t,n){n.props=yl(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){hu(e,t,r)}}function ho(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"==typeof n?e.refCleanup=n(r):n.current=r}}catch(a){hu(e,t,a)}}function po(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"==typeof r)try{r()}catch(a){hu(e,t,a)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"==typeof n)try{n(null)}catch(s){hu(e,t,s)}else n.current=null}function mo(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(a){hu(e,e.return,a)}}function fo(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var a=null,i=null,l=null,o=null,c=null,u=null,d=null;for(m in n){var h=n[m];if(n.hasOwnProperty(m)&&null!=h)switch(m){case"checked":case"value":break;case"defaultValue":c=h;default:r.hasOwnProperty(m)||ed(e,t,m,null,r,h)}}for(var p in r){var m=r[p];if(h=n[p],r.hasOwnProperty(p)&&(null!=m||null!=h))switch(p){case"type":i=m;break;case"name":a=m;break;case"checked":u=m;break;case"defaultChecked":d=m;break;case"value":l=m;break;case"defaultValue":o=m;break;case"children":case"dangerouslySetInnerHTML":if(null!=m)throw Error(s(137,t));break;default:m!==h&&ed(e,t,p,m,r,h)}}return void vt(e,l,o,c,u,d,i,a);case"select":for(i in m=l=o=p=null,n)if(c=n[i],n.hasOwnProperty(i)&&null!=c)switch(i){case"value":break;case"multiple":m=c;default:r.hasOwnProperty(i)||ed(e,t,i,null,r,c)}for(a in r)if(i=r[a],c=n[a],r.hasOwnProperty(a)&&(null!=i||null!=c))switch(a){case"value":p=i;break;case"defaultValue":o=i;break;case"multiple":l=i;default:i!==c&&ed(e,t,a,i,r,c)}return t=o,n=l,r=m,void(null!=p?wt(e,!!n,p,!1):!!r!=!!n&&(null!=t?wt(e,!!n,t,!0):wt(e,!!n,n?[]:"",!1)));case"textarea":for(o in m=p=null,n)if(a=n[o],n.hasOwnProperty(o)&&null!=a&&!r.hasOwnProperty(o))switch(o){case"value":case"children":break;default:ed(e,t,o,null,r,a)}for(l in r)if(a=r[l],i=n[l],r.hasOwnProperty(l)&&(null!=a||null!=i))switch(l){case"value":p=a;break;case"defaultValue":m=a;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=a)throw Error(s(91));break;default:a!==i&&ed(e,t,l,a,r,i)}return void kt(e,p,m);case"option":for(var f in n)if(p=n[f],n.hasOwnProperty(f)&&null!=p&&!r.hasOwnProperty(f))if("selected"===f)e.selected=!1;else ed(e,t,f,null,r,p);for(c in r)if(p=r[c],m=n[c],r.hasOwnProperty(c)&&p!==m&&(null!=p||null!=m))if("selected"===c)e.selected=p&&"function"!=typeof p&&"symbol"!=typeof p;else ed(e,t,c,p,r,m);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)p=n[g],n.hasOwnProperty(g)&&null!=p&&!r.hasOwnProperty(g)&&ed(e,t,g,null,r,p);for(u in r)if(p=r[u],m=n[u],r.hasOwnProperty(u)&&p!==m&&(null!=p||null!=m))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(s(137,t));break;default:ed(e,t,u,p,r,m)}return;default:if(_t(t)){for(var y in n)p=n[y],n.hasOwnProperty(y)&&void 0!==p&&!r.hasOwnProperty(y)&&td(e,t,y,void 0,r,p);for(d in r)p=r[d],m=n[d],!r.hasOwnProperty(d)||p===m||void 0===p&&void 0===m||td(e,t,d,p,r,m);return}}for(var v in n)p=n[v],n.hasOwnProperty(v)&&null!=p&&!r.hasOwnProperty(v)&&ed(e,t,v,null,r,p);for(h in r)p=r[h],m=n[h],!r.hasOwnProperty(h)||p===m||null==p&&null==m||ed(e,t,h,p,r,m)}(r,e.type,n,t),r[Le]=t}catch(a){hu(e,e.return,a)}}function go(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&fd(e.type)||4===e.tag}function yo(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||go(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&fd(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function vo(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Zu));else if(4!==r&&(27===r&&fd(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(vo(e,t,n),e=e.sibling;null!==e;)vo(e,t,n),e=e.sibling}function bo(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&fd(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(bo(e,t,n),e=e.sibling;null!==e;)bo(e,t,n),e=e.sibling}function xo(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,a=t.attributes;a.length;)t.removeAttributeNode(a[0]);nd(t,r,n),t[De]=e,t[Le]=n}catch(s){hu(e,e.return,s)}}var wo=!1,ko=!1,So=!1,jo="function"==typeof WeakSet?WeakSet:Set,No=null;function Eo(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:$o(e,n),4&r&&lo(5,n);break;case 1:if($o(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(i){hu(n,n.return,i)}else{var a=yl(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(a,t,e.__reactInternalSnapshotBeforeUpdate)}catch(l){hu(n,n.return,l)}}64&r&&co(n),512&r&&ho(n,n.return);break;case 3:if($o(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{ms(e,t)}catch(i){hu(n,n.return,i)}}break;case 27:null===t&&4&r&&xo(n);case 26:case 5:$o(e,n),null===t&&4&r&&mo(n),512&r&&ho(n,n.return);break;case 12:$o(e,n);break;case 13:$o(e,n),4&r&&Ao(e,n),64&r&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$?"!==e.data||"complete"===n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=gu.bind(null,n))));break;case 22:if(!(r=null!==n.memoizedState||wo)){t=null!==t&&null!==t.memoizedState||ko,a=wo;var s=ko;wo=r,(ko=t)&&!s?Bo(e,n,!!(8772&n.subtreeFlags)):$o(e,n),wo=a,ko=s}break;case 30:break;default:$o(e,n)}}function Po(e){var t=e.alternate;null!==t&&(e.alternate=null,Po(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Ue(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var _o=null,To=!1;function Co(e,t,n){for(n=n.child;null!==n;)Mo(e,t,n),n=n.sibling}function Mo(e,t,n){if(pe&&"function"==typeof pe.onCommitFiberUnmount)try{pe.onCommitFiberUnmount(he,n)}catch(s){}switch(n.tag){case 26:ko||po(n,t),Co(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:ko||po(n,t);var r=_o,a=To;fd(n.type)&&(_o=n.stateNode,To=!1),Co(e,t,n),Sd(n.stateNode),_o=r,To=a;break;case 5:ko||po(n,t);case 6:if(r=_o,a=To,_o=null,Co(e,t,n),To=a,null!==(_o=r))if(To)try{(9===_o.nodeType?_o.body:"HTML"===_o.nodeName?_o.ownerDocument.body:_o).removeChild(n.stateNode)}catch(i){hu(n,t,i)}else try{_o.removeChild(n.stateNode)}catch(i){hu(n,t,i)}break;case 18:null!==_o&&(To?(gd(9===(e=_o).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Th(e)):gd(_o,n.stateNode));break;case 4:r=_o,a=To,_o=n.stateNode.containerInfo,To=!0,Co(e,t,n),_o=r,To=a;break;case 0:case 11:case 14:case 15:ko||oo(2,n,t),ko||oo(4,n,t),Co(e,t,n);break;case 1:ko||(po(n,t),"function"==typeof(r=n.stateNode).componentWillUnmount&&uo(n,t,r)),Co(e,t,n);break;case 21:Co(e,t,n);break;case 22:ko=(r=ko)||null!==n.memoizedState,Co(e,t,n),ko=r;break;default:Co(e,t,n)}}function Ao(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Th(e)}catch(n){hu(t,t.return,n)}}function Ro(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new jo),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new jo),t;default:throw Error(s(435,e.tag))}}(e);t.forEach(function(t){var r=yu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}function Do(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var a=n[r],i=e,l=t,o=l;e:for(;null!==o;){switch(o.tag){case 27:if(fd(o.type)){_o=o.stateNode,To=!1;break e}break;case 5:_o=o.stateNode,To=!1;break e;case 3:case 4:_o=o.stateNode.containerInfo,To=!0;break e}o=o.return}if(null===_o)throw Error(s(160));Mo(i,l,a),_o=null,To=!1,null!==(i=a.alternate)&&(i.return=null),a.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)Oo(t,e),t=t.sibling}var Lo=null;function Oo(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Do(t,e),Io(e),4&r&&(oo(3,e,e.return),lo(3,e),oo(5,e,e.return));break;case 1:Do(t,e),Io(e),512&r&&(ko||null===n||po(n,n.return)),64&r&&wo&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var a=Lo;if(Do(t,e),Io(e),512&r&&(ko||null===n||po(n,n.return)),4&r){var i=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,a=a.ownerDocument||a;t:switch(r){case"title":(!(i=a.getElementsByTagName("title")[0])||i[Be]||i[De]||"http://www.w3.org/2000/svg"===i.namespaceURI||i.hasAttribute("itemprop"))&&(i=a.createElement(r),a.head.insertBefore(i,a.querySelector("head > title"))),nd(i,r,n),i[De]=e,Ge(i),r=i;break e;case"link":var l=Bd("link","href",a).get(r+(n.href||""));if(l)for(var o=0;o<l.length;o++)if((i=l[o]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&i.getAttribute("rel")===(null==n.rel?null:n.rel)&&i.getAttribute("title")===(null==n.title?null:n.title)&&i.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){l.splice(o,1);break t}nd(i=a.createElement(r),r,n),a.head.appendChild(i);break;case"meta":if(l=Bd("meta","content",a).get(r+(n.content||"")))for(o=0;o<l.length;o++)if((i=l[o]).getAttribute("content")===(null==n.content?null:""+n.content)&&i.getAttribute("name")===(null==n.name?null:n.name)&&i.getAttribute("property")===(null==n.property?null:n.property)&&i.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&i.getAttribute("charset")===(null==n.charSet?null:n.charSet)){l.splice(o,1);break t}nd(i=a.createElement(r),r,n),a.head.appendChild(i);break;default:throw Error(s(468,r))}i[De]=e,Ge(i),r=i}e.stateNode=r}else Ud(a,e.type,e.stateNode);else e.stateNode=Od(a,r,e.memoizedProps);else i!==r?(null===i?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):i.count--,null===r?Ud(a,e.type,e.stateNode):Od(a,r,e.memoizedProps)):null===r&&null!==e.stateNode&&fo(e,e.memoizedProps,n.memoizedProps)}break;case 27:Do(t,e),Io(e),512&r&&(ko||null===n||po(n,n.return)),null!==n&&4&r&&fo(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Do(t,e),Io(e),512&r&&(ko||null===n||po(n,n.return)),32&e.flags){a=e.stateNode;try{jt(a,"")}catch(m){hu(e,e.return,m)}}4&r&&null!=e.stateNode&&fo(e,a=e.memoizedProps,null!==n?n.memoizedProps:a),1024&r&&(So=!0);break;case 6:if(Do(t,e),Io(e),4&r){if(null===e.stateNode)throw Error(s(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(m){hu(e,e.return,m)}}break;case 3:if(Fd=null,a=Lo,Lo=Ed(t.containerInfo),Do(t,e),Lo=a,Io(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Th(t.containerInfo)}catch(m){hu(e,e.return,m)}So&&(So=!1,zo(e));break;case 4:r=Lo,Lo=Ed(e.stateNode.containerInfo),Do(t,e),Io(e),Lo=r;break;case 12:default:Do(t,e),Io(e);break;case 13:Do(t,e),Io(e),8192&e.child.flags&&null!==e.memoizedState!=(null!==n&&null!==n.memoizedState)&&(Sc=re()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Ro(e,r)));break;case 22:a=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,u=wo,d=ko;if(wo=u||a,ko=d||c,Do(t,e),ko=d,wo=u,Io(e),8192&r)e:for(t=e.stateNode,t._visibility=a?-2&t._visibility:1|t._visibility,a&&(null===n||c||wo||ko||Fo(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(i=c.stateNode,a)"function"==typeof(l=i.style).setProperty?l.setProperty("display","none","important"):l.display="none";else{o=c.stateNode;var h=c.memoizedProps.style,p=null!=h&&h.hasOwnProperty("display")?h.display:null;o.style.display=null==p||"boolean"==typeof p?"":(""+p).trim()}}catch(m){hu(c,c.return,m)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=a?"":c.memoizedProps}catch(m){hu(c,c.return,m)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,Ro(e,n))));break;case 19:Do(t,e),Io(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Ro(e,r)));case 30:case 21:}}function Io(e){var t=e.flags;if(2&t){try{for(var n,r=e.return;null!==r;){if(go(r)){n=r;break}r=r.return}if(null==n)throw Error(s(160));switch(n.tag){case 27:var a=n.stateNode;bo(e,yo(e),a);break;case 5:var i=n.stateNode;32&n.flags&&(jt(i,""),n.flags&=-33),bo(e,yo(e),i);break;case 3:case 4:var l=n.stateNode.containerInfo;vo(e,yo(e),l);break;default:throw Error(s(161))}}catch(o){hu(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function zo(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;zo(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function $o(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Eo(e,t.alternate,t),t=t.sibling}function Fo(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:oo(4,t,t.return),Fo(t);break;case 1:po(t,t.return);var n=t.stateNode;"function"==typeof n.componentWillUnmount&&uo(t,t.return,n),Fo(t);break;case 27:Sd(t.stateNode);case 26:case 5:po(t,t.return),Fo(t);break;case 22:null===t.memoizedState&&Fo(t);break;default:Fo(t)}e=e.sibling}}function Bo(e,t,n){for(n=n&&!!(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,a=e,s=t,i=s.flags;switch(s.tag){case 0:case 11:case 15:Bo(a,s,n),lo(4,s);break;case 1:if(Bo(a,s,n),"function"==typeof(a=(r=s).stateNode).componentDidMount)try{a.componentDidMount()}catch(c){hu(r,r.return,c)}if(null!==(a=(r=s).updateQueue)){var l=r.stateNode;try{var o=a.shared.hiddenCallbacks;if(null!==o)for(a.shared.hiddenCallbacks=null,a=0;a<o.length;a++)ps(o[a],l)}catch(c){hu(r,r.return,c)}}n&&64&i&&co(s),ho(s,s.return);break;case 27:xo(s);case 26:case 5:Bo(a,s,n),n&&null===r&&4&i&&mo(s),ho(s,s.return);break;case 12:Bo(a,s,n);break;case 13:Bo(a,s,n),n&&4&i&&Ao(a,s);break;case 22:null===s.memoizedState&&Bo(a,s,n),ho(s,s.return);break;case 30:break;default:Bo(a,s,n)}t=t.sibling}}function Uo(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Oa(n))}function qo(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Oa(e))}function Wo(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)Vo(e,t,n,r),t=t.sibling}function Vo(e,t,n,r){var a=t.flags;switch(t.tag){case 0:case 11:case 15:Wo(e,t,n,r),2048&a&&lo(9,t);break;case 1:case 13:default:Wo(e,t,n,r);break;case 3:Wo(e,t,n,r),2048&a&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Oa(e)));break;case 12:if(2048&a){Wo(e,t,n,r),e=t.stateNode;try{var s=t.memoizedProps,i=s.id,l=s.onPostCommit;"function"==typeof l&&l(i,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(o){hu(t,t.return,o)}}else Wo(e,t,n,r);break;case 23:break;case 22:s=t.stateNode,i=t.alternate,null!==t.memoizedState?2&s._visibility?Wo(e,t,n,r):Go(e,t):2&s._visibility?Wo(e,t,n,r):(s._visibility|=2,Ho(e,t,n,r,!!(10256&t.subtreeFlags))),2048&a&&Uo(i,t);break;case 24:Wo(e,t,n,r),2048&a&&qo(t.alternate,t)}}function Ho(e,t,n,r,a){for(a=a&&!!(10256&t.subtreeFlags),t=t.child;null!==t;){var s=e,i=t,l=n,o=r,c=i.flags;switch(i.tag){case 0:case 11:case 15:Ho(s,i,l,o,a),lo(8,i);break;case 23:break;case 22:var u=i.stateNode;null!==i.memoizedState?2&u._visibility?Ho(s,i,l,o,a):Go(s,i):(u._visibility|=2,Ho(s,i,l,o,a)),a&&2048&c&&Uo(i.alternate,i);break;case 24:Ho(s,i,l,o,a),a&&2048&c&&qo(i.alternate,i);break;default:Ho(s,i,l,o,a)}t=t.sibling}}function Go(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,a=r.flags;switch(r.tag){case 22:Go(n,r),2048&a&&Uo(r.alternate,r);break;case 24:Go(n,r),2048&a&&qo(r.alternate,r);break;default:Go(n,r)}t=t.sibling}}var Ko=8192;function Jo(e){if(e.subtreeFlags&Ko)for(e=e.child;null!==e;)Qo(e),e=e.sibling}function Qo(e){switch(e.tag){case 26:Jo(e),e.flags&Ko&&null!==e.memoizedState&&function(e,t,n){if(null===Wd)throw Error(s(475));var r=Wd;if(!("stylesheet"!==t.type||"string"==typeof n.media&&!1===matchMedia(n.media).matches||4&t.state.loading)){if(null===t.instance){var a=Md(n.href),i=e.querySelector(Ad(a));if(i)return null!==(e=i._p)&&"object"==typeof e&&"function"==typeof e.then&&(r.count++,r=Hd.bind(r),e.then(r,r)),t.state.loading|=4,t.instance=i,void Ge(i);i=e.ownerDocument||e,n=Rd(n),(a=jd.get(a))&&zd(n,a),Ge(i=i.createElement("link"));var l=i;l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),nd(i,"link",n),t.instance=i}null===r.stylesheets&&(r.stylesheets=new Map),r.stylesheets.set(t,e),(e=t.state.preload)&&!(3&t.state.loading)&&(r.count++,t=Hd.bind(r),e.addEventListener("load",t),e.addEventListener("error",t))}}(Lo,e.memoizedState,e.memoizedProps);break;case 5:default:Jo(e);break;case 3:case 4:var t=Lo;Lo=Ed(e.stateNode.containerInfo),Jo(e),Lo=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=Ko,Ko=16777216,Jo(e),Ko=t):Jo(e))}}function Yo(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function Xo(e){var t=e.deletions;if(16&e.flags){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];No=r,tc(r,e)}Yo(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Zo(e),e=e.sibling}function Zo(e){switch(e.tag){case 0:case 11:case 15:Xo(e),2048&e.flags&&oo(9,e,e.return);break;case 3:case 12:default:Xo(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,ec(e)):Xo(e)}}function ec(e){var t=e.deletions;if(16&e.flags){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];No=r,tc(r,e)}Yo(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:oo(8,t,t.return),ec(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,ec(t));break;default:ec(t)}e=e.sibling}}function tc(e,t){for(;null!==No;){var n=No;switch(n.tag){case 0:case 11:case 15:oo(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Oa(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,No=r;else e:for(n=e;null!==No;){var a=(r=No).sibling,s=r.return;if(Po(r),r===n){No=null;break e}if(null!==a){a.return=s,No=a;break e}No=s}}}var nc={getCacheForType:function(e){var t=_a(Da),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},rc="function"==typeof WeakMap?WeakMap:Map,ac=0,sc=null,ic=null,lc=0,oc=0,cc=null,uc=!1,dc=!1,hc=!1,pc=0,mc=0,fc=0,gc=0,yc=0,vc=0,bc=0,xc=null,wc=null,kc=!1,Sc=0,jc=1/0,Nc=null,Ec=null,Pc=0,_c=null,Tc=null,Cc=0,Mc=0,Ac=null,Rc=null,Dc=0,Lc=null;function Oc(){if(2&ac&&0!==lc)return lc&-lc;if(null!==O.T){return 0!==$a?$a:Mu()}return Ae()}function Ic(){0===vc&&(vc=536870912&lc&&!la?536870912:je());var e=sl.current;return null!==e&&(e.flags|=32),vc}function zc(e,t,n){(e!==sc||2!==oc&&9!==oc)&&null===e.cancelPendingCommit||(Vc(e,0),Uc(e,lc,vc,!1)),Pe(e,n),2&ac&&e===sc||(e===sc&&(!(2&ac)&&(gc|=n),4===mc&&Uc(e,lc,vc,!1)),ju(e))}function $c(e,t,n){if(6&ac)throw Error(s(327));for(var r=!n&&!(124&t)&&0===(t&e.expiredLanes)||ke(e,t),a=r?function(e,t){var n=ac;ac|=2;var r=Gc(),a=Kc();sc!==e||lc!==t?(Nc=null,jc=re()+500,Vc(e,t)):dc=ke(e,t);e:for(;;)try{if(0!==oc&&null!==ic){t=ic;var i=cc;t:switch(oc){case 1:oc=0,cc=null,tu(e,t,i,1);break;case 2:case 9:if(Ya(i)){oc=0,cc=null,eu(t);break}t=function(){2!==oc&&9!==oc||sc!==e||(oc=7),ju(e)},i.then(t,t);break e;case 3:oc=7;break e;case 4:oc=5;break e;case 7:Ya(i)?(oc=0,cc=null,eu(t)):(oc=0,cc=null,tu(e,t,i,7));break;case 5:var l=null;switch(ic.tag){case 26:l=ic.memoizedState;case 5:case 27:var o=ic;if(!l||qd(l)){oc=0,cc=null;var c=o.sibling;if(null!==c)ic=c;else{var u=o.return;null!==u?(ic=u,nu(u)):ic=null}break t}}oc=0,cc=null,tu(e,t,i,5);break;case 6:oc=0,cc=null,tu(e,t,i,6);break;case 8:Wc(),mc=6;break e;default:throw Error(s(462))}}Xc();break}catch(d){Hc(e,d)}return xa=ba=null,O.H=r,O.A=a,ac=n,null!==ic?0:(sc=null,lc=0,Cr(),mc)}(e,t):Qc(e,t,!0),i=r;;){if(0===a){dc&&!r&&Uc(e,t,0,!1);break}if(n=e.current.alternate,!i||Bc(n)){if(2===a){if(i=t,e.errorRecoveryDisabledLanes&i)var l=0;else l=0!==(l=-536870913&e.pendingLanes)?l:536870912&l?536870912:0;if(0!==l){t=l;e:{var o=e;a=xc;var c=o.current.memoizedState.isDehydrated;if(c&&(Vc(o,l).flags|=256),2!==(l=Qc(o,l,!1))){if(hc&&!c){o.errorRecoveryDisabledLanes|=i,gc|=i,a=4;break e}i=wc,wc=a,null!==i&&(null===wc?wc=i:wc.push.apply(wc,i))}a=l}if(i=!1,2!==a)continue}}if(1===a){Vc(e,0),Uc(e,t,0,!0);break}e:{switch(r=e,i=a){case 0:case 1:throw Error(s(345));case 4:if((4194048&t)!==t)break;case 6:Uc(r,t,vc,!uc);break e;case 2:wc=null;break;case 3:case 5:break;default:throw Error(s(329))}if((62914560&t)===t&&10<(a=Sc+300-re())){if(Uc(r,t,vc,!uc),0!==we(r,0,!0))break e;r.timeoutHandle=ud(Fc.bind(null,r,n,wc,Nc,kc,t,vc,gc,bc,uc,i,2,-0,0),a)}else Fc(r,n,wc,Nc,kc,t,vc,gc,bc,uc,i,0,-0,0)}break}a=Qc(e,t,!1),i=!1}ju(e)}function Fc(e,t,n,r,a,i,l,o,c,u,d,h,p,m){if(e.timeoutHandle=-1,(8192&(h=t.subtreeFlags)||!(16785408&~h))&&(Wd={stylesheets:null,count:0,unsuspend:Vd},Qo(t),null!==(h=function(){if(null===Wd)throw Error(s(475));var e=Wd;return e.stylesheets&&0===e.count&&Kd(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&Kd(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}())))return e.cancelPendingCommit=h(au.bind(null,e,t,i,n,r,a,l,o,c,d,1,p,m)),void Uc(e,i,l,!u);au(e,t,i,n,r,a,l,o,c)}function Bc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var a=n[r],s=a.getSnapshot;a=a.value;try{if(!Yn(s(),a))return!1}catch(i){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Uc(e,t,n,r){t&=~yc,t&=~gc,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var a=t;0<a;){var s=31-fe(a),i=1<<s;r[s]=-1,a&=~i}0!==n&&_e(e,n,t)}function qc(){return!!(6&ac)||(Nu(0),!1)}function Wc(){if(null!==ic){if(0===oc)var e=ic.return;else xa=ba=null,$s(e=ic),Qi=null,Yi=0,e=ic;for(;null!==e;)io(e.alternate,e),e=e.return;ic=null}}function Vc(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,dd(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Wc(),sc=e,ic=n=Fr(e.current,null),lc=t,oc=0,cc=null,uc=!1,dc=ke(e,t),hc=!1,bc=vc=yc=gc=fc=mc=0,wc=xc=null,kc=!1,8&t&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var a=31-fe(r),s=1<<a;t|=e[a],r&=~s}return pc=t,Cr(),n}function Hc(e,t){ws=null,O.H=Hi,t===Ga||t===Ja?(t=ts(),oc=3):t===Ka?(t=ts(),oc=4):oc=t===Pl?8:null!==t&&"object"==typeof t&&"function"==typeof t.then?6:1,cc=t,null===ic&&(mc=1,kl(e,Er(t,e.current)))}function Gc(){var e=O.H;return O.H=Hi,null===e?Hi:e}function Kc(){var e=O.A;return O.A=nc,e}function Jc(){mc=4,uc||(4194048&lc)!==lc&&null!==sl.current||(dc=!0),!(134217727&fc)&&!(134217727&gc)||null===sc||Uc(sc,lc,vc,!1)}function Qc(e,t,n){var r=ac;ac|=2;var a=Gc(),s=Kc();sc===e&&lc===t||(Nc=null,Vc(e,t)),t=!1;var i=mc;e:for(;;)try{if(0!==oc&&null!==ic){var l=ic,o=cc;switch(oc){case 8:Wc(),i=6;break e;case 3:case 2:case 9:case 6:null===sl.current&&(t=!0);var c=oc;if(oc=0,cc=null,tu(e,l,o,c),n&&dc){i=0;break e}break;default:c=oc,oc=0,cc=null,tu(e,l,o,c)}}Yc(),i=mc;break}catch(u){Hc(e,u)}return t&&e.shellSuspendCounter++,xa=ba=null,ac=r,O.H=a,O.A=s,null===ic&&(sc=null,lc=0,Cr()),i}function Yc(){for(;null!==ic;)Zc(ic)}function Xc(){for(;null!==ic&&!te();)Zc(ic)}function Zc(e){var t=Xl(e.alternate,e,pc);e.memoizedProps=e.pendingProps,null===t?nu(e):ic=t}function eu(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Il(n,t,t.pendingProps,t.type,void 0,lc);break;case 11:t=Il(n,t,t.pendingProps,t.type.render,t.ref,lc);break;case 5:$s(t);default:io(n,t),t=Xl(n,t=ic=Br(t,pc),pc)}e.memoizedProps=e.pendingProps,null===t?nu(e):ic=t}function tu(e,t,n,r){xa=ba=null,$s(t),Qi=null,Yi=0;var a=t.return;try{if(function(e,t,n,r,a){if(n.flags|=32768,null!==r&&"object"==typeof r&&"function"==typeof r.then){if(null!==(t=n.alternate)&&Na(t,n,a,!0),null!==(n=sl.current)){switch(n.tag){case 13:return null===il?Jc():null===n.alternate&&0===mc&&(mc=3),n.flags&=-257,n.flags|=65536,n.lanes=a,r===Qa?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),pu(e,r,a)),!1;case 22:return n.flags|=65536,r===Qa?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),pu(e,r,a)),!1}throw Error(s(435,n.tag))}return pu(e,r,a),Jc(),!1}if(la)return null!==(t=sl.current)?(!(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=a,r!==ua&&ya(Er(e=Error(s(422),{cause:r}),n))):(r!==ua&&ya(Er(t=Error(s(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,a&=-a,e.lanes|=a,r=Er(r,n),cs(e,a=jl(e.stateNode,r,a)),4!==mc&&(mc=2)),!1;var i=Error(s(520),{cause:r});if(i=Er(i,n),null===xc?xc=[i]:xc.push(i),4!==mc&&(mc=2),null===t)return!0;r=Er(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=a&-a,n.lanes|=e,cs(n,e=jl(n.stateNode,r,e)),!1;case 1:if(t=n.type,i=n.stateNode,!(128&n.flags||"function"!=typeof t.getDerivedStateFromError&&(null===i||"function"!=typeof i.componentDidCatch||null!==Ec&&Ec.has(i))))return n.flags|=65536,a&=-a,n.lanes|=a,El(a=Nl(a),e,n,r),cs(n,a),!1}n=n.return}while(null!==n);return!1}(e,a,t,n,lc))return mc=1,kl(e,Er(n,e.current)),void(ic=null)}catch(i){if(null!==a)throw ic=a,i;return mc=1,kl(e,Er(n,e.current)),void(ic=null)}32768&t.flags?(la||1===r?e=!0:dc||536870912&lc?e=!1:(uc=e=!0,(2===r||9===r||3===r||6===r)&&(null!==(r=sl.current)&&13===r.tag&&(r.flags|=16384))),ru(t,e)):nu(t)}function nu(e){var t=e;do{if(32768&t.flags)return void ru(t,uc);e=t.return;var n=ao(t.alternate,t,pc);if(null!==n)return void(ic=n);if(null!==(t=t.sibling))return void(ic=t);ic=t=e}while(null!==t);0===mc&&(mc=5)}function ru(e,t){do{var n=so(e.alternate,e);if(null!==n)return n.flags&=32767,void(ic=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(ic=e);ic=e=n}while(null!==e);mc=6,ic=null}function au(e,t,n,r,a,i,l,o,c){e.cancelPendingCommit=null;do{cu()}while(0!==Pc);if(6&ac)throw Error(s(327));if(null!==t){if(t===e.current)throw Error(s(177));if(i=t.lanes|t.childLanes,function(e,t,n,r,a,s){var i=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var l=e.entanglements,o=e.expirationTimes,c=e.hiddenUpdates;for(n=i&~n;0<n;){var u=31-fe(n),d=1<<u;l[u]=0,o[u]=-1;var h=c[u];if(null!==h)for(c[u]=null,u=0;u<h.length;u++){var p=h[u];null!==p&&(p.lane&=-536870913)}n&=~d}0!==r&&_e(e,r,0),0!==s&&0===a&&0!==e.tag&&(e.suspendedLanes|=s&~(i&~t))}(e,n,i|=Tr,l,o,c),e===sc&&(ic=sc=null,lc=0),Tc=t,_c=e,Cc=n,Mc=i,Ac=a,Rc=r,10256&t.subtreeFlags||10256&t.flags?(e.callbackNode=null,e.callbackPriority=0,Z(le,function(){return uu(),null})):(e.callbackNode=null,e.callbackPriority=0),r=!!(13878&t.flags),13878&t.subtreeFlags||r){r=O.T,O.T=null,a=I.p,I.p=2,l=ac,ac|=4;try{!function(e,t){if(e=e.containerInfo,rd=ah,rr(e=nr(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var a=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch(g){n=null;break e}var l=0,o=-1,c=-1,u=0,d=0,h=e,p=null;t:for(;;){for(var m;h!==n||0!==a&&3!==h.nodeType||(o=l+a),h!==i||0!==r&&3!==h.nodeType||(c=l+r),3===h.nodeType&&(l+=h.nodeValue.length),null!==(m=h.firstChild);)p=h,h=m;for(;;){if(h===e)break t;if(p===n&&++u===a&&(o=l),p===i&&++d===r&&(c=l),null!==(m=h.nextSibling))break;p=(h=p).parentNode}h=m}n=-1===o||-1===c?null:{start:o,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ad={focusedElem:e,selectionRange:n},ah=!1,No=t;null!==No;)if(e=(t=No).child,1024&t.subtreeFlags&&null!==e)e.return=t,No=e;else for(;null!==No;){switch(i=(t=No).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(1024&e&&null!==i){e=void 0,n=t,a=i.memoizedProps,i=i.memoizedState,r=n.stateNode;try{var f=yl(n.type,a,(n.elementType,n.type));e=r.getSnapshotBeforeUpdate(f,i),r.__reactInternalSnapshotBeforeUpdate=e}catch(y){hu(n,n.return,y)}}break;case 3:if(1024&e)if(9===(n=(e=t.stateNode.containerInfo).nodeType))yd(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":yd(e);break;default:e.textContent=""}break;default:if(1024&e)throw Error(s(163))}if(null!==(e=t.sibling)){e.return=t.return,No=e;break}No=t.return}}(e,t)}finally{ac=l,I.p=a,O.T=r}}Pc=1,su(),iu(),lu()}}function su(){if(1===Pc){Pc=0;var e=_c,t=Tc,n=!!(13878&t.flags);if(13878&t.subtreeFlags||n){n=O.T,O.T=null;var r=I.p;I.p=2;var a=ac;ac|=4;try{Oo(t,e);var s=ad,i=nr(e.containerInfo),l=s.focusedElem,o=s.selectionRange;if(i!==l&&l&&l.ownerDocument&&tr(l.ownerDocument.documentElement,l)){if(null!==o&&rr(l)){var c=o.start,u=o.end;if(void 0===u&&(u=c),"selectionStart"in l)l.selectionStart=c,l.selectionEnd=Math.min(u,l.value.length);else{var d=l.ownerDocument||document,h=d&&d.defaultView||window;if(h.getSelection){var p=h.getSelection(),m=l.textContent.length,f=Math.min(o.start,m),g=void 0===o.end?f:Math.min(o.end,m);!p.extend&&f>g&&(i=g,g=f,f=i);var y=er(l,f),v=er(l,g);if(y&&v&&(1!==p.rangeCount||p.anchorNode!==y.node||p.anchorOffset!==y.offset||p.focusNode!==v.node||p.focusOffset!==v.offset)){var b=d.createRange();b.setStart(y.node,y.offset),p.removeAllRanges(),f>g?(p.addRange(b),p.extend(v.node,v.offset)):(b.setEnd(v.node,v.offset),p.addRange(b))}}}}for(d=[],p=l;p=p.parentNode;)1===p.nodeType&&d.push({element:p,left:p.scrollLeft,top:p.scrollTop});for("function"==typeof l.focus&&l.focus(),l=0;l<d.length;l++){var x=d[l];x.element.scrollLeft=x.left,x.element.scrollTop=x.top}}ah=!!rd,ad=rd=null}finally{ac=a,I.p=r,O.T=n}}e.current=t,Pc=2}}function iu(){if(2===Pc){Pc=0;var e=_c,t=Tc,n=!!(8772&t.flags);if(8772&t.subtreeFlags||n){n=O.T,O.T=null;var r=I.p;I.p=2;var a=ac;ac|=4;try{Eo(e,t.alternate,t)}finally{ac=a,I.p=r,O.T=n}}Pc=3}}function lu(){if(4===Pc||3===Pc){Pc=0,ne();var e=_c,t=Tc,n=Cc,r=Rc;10256&t.subtreeFlags||10256&t.flags?Pc=5:(Pc=0,Tc=_c=null,ou(e,e.pendingLanes));var a=e.pendingLanes;if(0===a&&(Ec=null),Me(n),t=t.stateNode,pe&&"function"==typeof pe.onCommitFiberRoot)try{pe.onCommitFiberRoot(he,t,void 0,!(128&~t.current.flags))}catch(o){}if(null!==r){t=O.T,a=I.p,I.p=2,O.T=null;try{for(var s=e.onRecoverableError,i=0;i<r.length;i++){var l=r[i];s(l.value,{componentStack:l.stack})}}finally{O.T=t,I.p=a}}3&Cc&&cu(),ju(e),a=e.pendingLanes,4194090&n&&42&a?e===Lc?Dc++:(Dc=0,Lc=e):Dc=0,Nu(0)}}function ou(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Oa(t)))}function cu(e){return su(),iu(),lu(),uu()}function uu(){if(5!==Pc)return!1;var e=_c,t=Mc;Mc=0;var n=Me(Cc),r=O.T,a=I.p;try{I.p=32>n?32:n,O.T=null,n=Ac,Ac=null;var i=_c,l=Cc;if(Pc=0,Tc=_c=null,Cc=0,6&ac)throw Error(s(331));var o=ac;if(ac|=4,Zo(i.current),Vo(i,i.current,l,n),ac=o,Nu(0,!1),pe&&"function"==typeof pe.onPostCommitFiberRoot)try{pe.onPostCommitFiberRoot(he,i)}catch(c){}return!0}finally{I.p=a,O.T=r,ou(e,t)}}function du(e,t,n){t=Er(n,t),null!==(e=ls(e,t=jl(e.stateNode,t,2),2))&&(Pe(e,2),ju(e))}function hu(e,t,n){if(3===e.tag)du(e,e,n);else for(;null!==t;){if(3===t.tag){du(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Ec||!Ec.has(r))){e=Er(n,e),null!==(r=ls(t,n=Nl(2),2))&&(El(n,r,t,e),Pe(r,2),ju(r));break}}t=t.return}}function pu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new rc;var a=new Set;r.set(t,a)}else void 0===(a=r.get(t))&&(a=new Set,r.set(t,a));a.has(n)||(hc=!0,a.add(n),e=mu.bind(null,e,t,n),t.then(e,e))}function mu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,sc===e&&(lc&n)===n&&(4===mc||3===mc&&(62914560&lc)===lc&&300>re()-Sc?!(2&ac)&&Vc(e,0):yc|=n,bc===lc&&(bc=0)),ju(e)}function fu(e,t){0===t&&(t=Ne()),null!==(e=Rr(e,t))&&(Pe(e,t),ju(e))}function gu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),fu(e,n)}function yu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(s(314))}null!==r&&r.delete(t),fu(e,n)}var vu=null,bu=null,xu=!1,wu=!1,ku=!1,Su=0;function ju(e){e!==bu&&null===e.next&&(null===bu?vu=bu=e:bu=bu.next=e),wu=!0,xu||(xu=!0,pd(function(){6&ac?Z(se,Eu):Pu()}))}function Nu(e,t){if(!ku&&wu){ku=!0;do{for(var n=!1,r=vu;null!==r;){if(0!==e){var a=r.pendingLanes;if(0===a)var s=0;else{var i=r.suspendedLanes,l=r.pingedLanes;s=(1<<31-fe(42|e)+1)-1,s=201326741&(s&=a&~(i&~l))?201326741&s|1:s?2|s:0}0!==s&&(n=!0,Cu(r,s))}else s=lc,!(3&(s=we(r,r===sc?s:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||ke(r,s)||(n=!0,Cu(r,s));r=r.next}}while(n);ku=!1}}function Eu(){Pu()}function Pu(){wu=xu=!1;var e=0;0!==Su&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==cd&&(cd=e,!0);return cd=null,!1}()&&(e=Su),Su=0);for(var t=re(),n=null,r=vu;null!==r;){var a=r.next,s=_u(r,t);0===s?(r.next=null,null===n?vu=a:n.next=a,null===a&&(bu=n)):(n=r,(0!==e||3&s)&&(wu=!0)),r=a}Nu(e)}function _u(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,s=-62914561&e.pendingLanes;0<s;){var i=31-fe(s),l=1<<i,o=a[i];-1===o?0!==(l&n)&&0===(l&r)||(a[i]=Se(l,t)):o<=t&&(e.expiredLanes|=l),s&=~l}if(n=lc,n=we(e,e===(t=sc)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===oc||9===oc)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&ee(r),e.callbackNode=null,e.callbackPriority=0;if(!(3&n)||ke(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&ee(r),Me(n)){case 2:case 8:n=ie;break;case 32:default:n=le;break;case 268435456:n=ce}return r=Tu.bind(null,e),n=Z(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&ee(r),e.callbackPriority=2,e.callbackNode=null,2}function Tu(e,t){if(0!==Pc&&5!==Pc)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(cu()&&e.callbackNode!==n)return null;var r=lc;return 0===(r=we(e,e===sc?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:($c(e,r,t),_u(e,re()),null!=e.callbackNode&&e.callbackNode===n?Tu.bind(null,e):null)}function Cu(e,t){if(cu())return null;$c(e,t,!0)}function Mu(){return 0===Su&&(Su=je()),Su}function Au(e){return null==e||"symbol"==typeof e||"boolean"==typeof e?null:"function"==typeof e?e:Mt(""+e)}function Ru(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Du=0;Du<Sr.length;Du++){var Lu=Sr[Du];jr(Lu.toLowerCase(),"on"+(Lu[0].toUpperCase()+Lu.slice(1)))}jr(fr,"onAnimationEnd"),jr(gr,"onAnimationIteration"),jr(yr,"onAnimationStart"),jr("dblclick","onDoubleClick"),jr("focusin","onFocus"),jr("focusout","onBlur"),jr(vr,"onTransitionRun"),jr(br,"onTransitionStart"),jr(xr,"onTransitionCancel"),jr(wr,"onTransitionEnd"),Ye("onMouseEnter",["mouseout","mouseover"]),Ye("onMouseLeave",["mouseout","mouseover"]),Ye("onPointerEnter",["pointerout","pointerover"]),Ye("onPointerLeave",["pointerout","pointerover"]),Qe("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Qe("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Qe("onBeforeInput",["compositionend","keypress","textInput","paste"]),Qe("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Qe("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Qe("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ou="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Iu=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ou));function zu(e,t){t=!!(4&t);for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var i=r.length-1;0<=i;i--){var l=r[i],o=l.instance,c=l.currentTarget;if(l=l.listener,o!==s&&a.isPropagationStopped())break e;s=l,a.currentTarget=c;try{s(a)}catch(u){vl(u)}a.currentTarget=null,s=o}else for(i=0;i<r.length;i++){if(o=(l=r[i]).instance,c=l.currentTarget,l=l.listener,o!==s&&a.isPropagationStopped())break e;s=l,a.currentTarget=c;try{s(a)}catch(u){vl(u)}a.currentTarget=null,s=o}}}}function $u(e,t){var n=t[Ie];void 0===n&&(n=t[Ie]=new Set);var r=e+"__bubble";n.has(r)||(qu(t,e,2,!1),n.add(r))}function Fu(e,t,n){var r=0;t&&(r|=4),qu(n,e,r,t)}var Bu="_reactListening"+Math.random().toString(36).slice(2);function Uu(e){if(!e[Bu]){e[Bu]=!0,Ke.forEach(function(t){"selectionchange"!==t&&(Iu.has(t)||Fu(t,!1,e),Fu(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Bu]||(t[Bu]=!0,Fu("selectionchange",!1,t))}}function qu(e,t,n,r){switch(dh(t)){case 2:var a=sh;break;case 8:a=ih;break;default:a=lh}n=a.bind(null,t,n,e),a=void 0,!Bt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),r?void 0!==a?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):void 0!==a?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Wu(e,t,n,r,a){var s=r;if(!(1&t||2&t||null===r))e:for(;;){if(null===r)return;var i=r.tag;if(3===i||4===i){var o=r.stateNode.containerInfo;if(o===a)break;if(4===i)for(i=r.return;null!==i;){var c=i.tag;if((3===c||4===c)&&i.stateNode.containerInfo===a)return;i=i.return}for(;null!==o;){if(null===(i=qe(o)))return;if(5===(c=i.tag)||6===c||26===c||27===c){r=s=i;continue e}o=o.parentNode}}r=r.return}zt(function(){var r=s,a=Rt(n),i=[];e:{var o=kr.get(e);if(void 0!==o){var c=tn,u=e;switch(e){case"keypress":if(0===Gt(n))break e;case"keydown":case"keyup":c=yn;break;case"focusin":u="focus",c=on;break;case"focusout":u="blur",c=on;break;case"beforeblur":case"afterblur":c=on;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=sn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=ln;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=bn;break;case fr:case gr:case yr:c=cn;break;case wr:c=xn;break;case"scroll":case"scrollend":c=rn;break;case"wheel":c=wn;break;case"copy":case"cut":case"paste":c=un;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=vn;break;case"toggle":case"beforetoggle":c=kn}var d=!!(4&t),h=!d&&("scroll"===e||"scrollend"===e),p=d?null!==o?o+"Capture":null:o;d=[];for(var m,f=r;null!==f;){var g=f;if(m=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===m||null===p||null!=(g=$t(f,p))&&d.push(Vu(f,g,m)),h)break;f=f.return}0<d.length&&(o=new c(o,u,null,n,a),i.push({event:o,listeners:d}))}}if(!(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===At||!(u=n.relatedTarget||n.fromElement)||!qe(u)&&!u[Oe])&&(c||o)&&(o=a.window===a?a:(o=a.ownerDocument)?o.defaultView||o.parentWindow:window,c?(c=r,null!==(u=(u=n.relatedTarget||n.toElement)?qe(u):null)&&(h=l(u),d=u.tag,u!==h||5!==d&&27!==d&&6!==d)&&(u=null)):(c=null,u=r),c!==u)){if(d=sn,g="onMouseLeave",p="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(d=vn,g="onPointerLeave",p="onPointerEnter",f="pointer"),h=null==c?o:Ve(c),m=null==u?o:Ve(u),(o=new d(g,f+"leave",c,n,a)).target=h,o.relatedTarget=m,g=null,qe(a)===r&&((d=new d(p,f+"enter",u,n,a)).target=m,d.relatedTarget=h,g=d),h=g,c&&u)e:{for(p=u,f=0,m=d=c;m;m=Gu(m))f++;for(m=0,g=p;g;g=Gu(g))m++;for(;0<f-m;)d=Gu(d),f--;for(;0<m-f;)p=Gu(p),m--;for(;f--;){if(d===p||null!==p&&d===p.alternate)break e;d=Gu(d),p=Gu(p)}d=null}else d=null;null!==c&&Ku(i,o,c,d,!1),null!==u&&null!==h&&Ku(i,h,u,d,!0)}if("select"===(c=(o=r?Ve(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===c&&"file"===o.type)var y=Fn;else if(Dn(o))if(Bn)y=Qn;else{y=Kn;var v=Gn}else!(c=o.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==o.type&&"radio"!==o.type?r&&_t(r.elementType)&&(y=Fn):y=Jn;switch(y&&(y=y(e,r))?Ln(i,y,n,a):(v&&v(e,o,r),"focusout"===e&&r&&"number"===o.type&&null!=r.memoizedProps.value&&xt(o,"number",o.value)),v=r?Ve(r):window,e){case"focusin":(Dn(v)||"true"===v.contentEditable)&&(sr=v,ir=r,lr=null);break;case"focusout":lr=ir=sr=null;break;case"mousedown":or=!0;break;case"contextmenu":case"mouseup":case"dragend":or=!1,cr(i,n,a);break;case"selectionchange":if(ar)break;case"keydown":case"keyup":cr(i,n,a)}var b;if(jn)e:{switch(e){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else An?Cn(e,n)&&(x="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(x="onCompositionStart");x&&(Pn&&"ko"!==n.locale&&(An||"onCompositionStart"!==x?"onCompositionEnd"===x&&An&&(b=Ht()):(Wt="value"in(qt=a)?qt.value:qt.textContent,An=!0)),0<(v=Hu(r,x)).length&&(x=new dn(x,e,null,n,a),i.push({event:x,listeners:v}),b?x.data=b:null!==(b=Mn(n))&&(x.data=b))),(b=En?function(e,t){switch(e){case"compositionend":return Mn(t);case"keypress":return 32!==t.which?null:(Tn=!0,_n);case"textInput":return(e=t.data)===_n&&Tn?null:e;default:return null}}(e,n):function(e,t){if(An)return"compositionend"===e||!jn&&Cn(e,t)?(e=Ht(),Vt=Wt=qt=null,An=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Pn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(x=Hu(r,"onBeforeInput")).length&&(v=new dn("onBeforeInput","beforeinput",null,n,a),i.push({event:v,listeners:x}),v.data=b)),function(e,t,n,r,a){if("submit"===t&&n&&n.stateNode===a){var s=Au((a[Le]||null).action),i=r.submitter;i&&null!==(t=(t=i[Le]||null)?Au(t.formAction):i.getAttribute("formAction"))&&(s=t,i=null);var l=new tn("action","action",null,r,a);e.push({event:l,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==Su){var e=i?Ru(a,i):new FormData(a);Ai(n,{pending:!0,data:e,method:a.method,action:s},null,e)}}else"function"==typeof s&&(l.preventDefault(),e=i?Ru(a,i):new FormData(a),Ai(n,{pending:!0,data:e,method:a.method,action:s},s,e))},currentTarget:a}]})}}(i,e,r,n,a)}zu(i,t)})}function Vu(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hu(e,t){for(var n=t+"Capture",r=[];null!==e;){var a=e,s=a.stateNode;if(5!==(a=a.tag)&&26!==a&&27!==a||null===s||(null!=(a=$t(e,n))&&r.unshift(Vu(e,a,s)),null!=(a=$t(e,t))&&r.push(Vu(e,a,s))),3===e.tag)return r;e=e.return}return[]}function Gu(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function Ku(e,t,n,r,a){for(var s=t._reactName,i=[];null!==n&&n!==r;){var l=n,o=l.alternate,c=l.stateNode;if(l=l.tag,null!==o&&o===r)break;5!==l&&26!==l&&27!==l||null===c||(o=c,a?null!=(c=$t(n,s))&&i.unshift(Vu(n,c,o)):a||null!=(c=$t(n,s))&&i.push(Vu(n,c,o))),n=n.return}0!==i.length&&e.push({event:t,listeners:i})}var Ju=/\r\n?/g,Qu=/\u0000|\uFFFD/g;function Yu(e){return("string"==typeof e?e:""+e).replace(Ju,"\n").replace(Qu,"")}function Xu(e,t){return t=Yu(t),Yu(e)===t}function Zu(){}function ed(e,t,n,r,a,i){switch(n){case"children":"string"==typeof r?"body"===t||"textarea"===t&&""===r||jt(e,r):("number"==typeof r||"bigint"==typeof r)&&"body"!==t&&jt(e,""+r);break;case"className":at(e,"class",r);break;case"tabIndex":at(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":at(e,n,r);break;case"style":Pt(e,r,i);break;case"data":if("object"!==t){at(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"==typeof r||"symbol"==typeof r||"boolean"==typeof r){e.removeAttribute(n);break}r=Mt(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"==typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"==typeof i&&("formAction"===n?("input"!==t&&ed(e,t,"name",a.name,a,null),ed(e,t,"formEncType",a.formEncType,a,null),ed(e,t,"formMethod",a.formMethod,a,null),ed(e,t,"formTarget",a.formTarget,a,null)):(ed(e,t,"encType",a.encType,a,null),ed(e,t,"method",a.method,a,null),ed(e,t,"target",a.target,a,null))),null==r||"symbol"==typeof r||"boolean"==typeof r){e.removeAttribute(n);break}r=Mt(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=Zu);break;case"onScroll":null!=r&&$u("scroll",e);break;case"onScrollEnd":null!=r&&$u("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!=typeof r||!("__html"in r))throw Error(s(61));if(null!=(n=r.__html)){if(null!=a.children)throw Error(s(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!=typeof r&&"symbol"!=typeof r;break;case"muted":e.muted=r&&"function"!=typeof r&&"symbol"!=typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"==typeof r||"boolean"==typeof r||"symbol"==typeof r){e.removeAttribute("xlink:href");break}n=Mt(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!=typeof r&&"symbol"!=typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!=typeof r&&"symbol"!=typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!=typeof r&&"symbol"!=typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!=typeof r&&"symbol"!=typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"==typeof r||"symbol"==typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":$u("beforetoggle",e),$u("toggle",e),rt(e,"popover",r);break;case"xlinkActuate":st(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":st(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":st(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":st(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":st(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":st(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":st(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":st(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":st(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":rt(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&rt(e,n=Tt.get(n)||n,r)}}function td(e,t,n,r,a,i){switch(n){case"style":Pt(e,r,i);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!=typeof r||!("__html"in r))throw Error(s(61));if(null!=(n=r.__html)){if(null!=a.children)throw Error(s(60));e.innerHTML=n}}break;case"children":"string"==typeof r?jt(e,r):("number"==typeof r||"bigint"==typeof r)&&jt(e,""+r);break;case"onScroll":null!=r&&$u("scroll",e);break;case"onScrollEnd":null!=r&&$u("scrollend",e);break;case"onClick":null!=r&&(e.onclick=Zu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Je.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(a=n.endsWith("Capture"),t=n.slice(2,a?n.length-7:void 0),"function"==typeof(i=null!=(i=e[Le]||null)?i[n]:null)&&e.removeEventListener(t,i,a),"function"!=typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):rt(e,n,r):("function"!=typeof i&&null!==i&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,a)))}}function nd(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":$u("error",e),$u("load",e);var r,a=!1,i=!1;for(r in n)if(n.hasOwnProperty(r)){var l=n[r];if(null!=l)switch(r){case"src":a=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:ed(e,t,r,l,n,null)}}return i&&ed(e,t,"srcSet",n.srcSet,n,null),void(a&&ed(e,t,"src",n.src,n,null));case"input":$u("invalid",e);var o=r=l=i=null,c=null,u=null;for(a in n)if(n.hasOwnProperty(a)){var d=n[a];if(null!=d)switch(a){case"name":i=d;break;case"type":l=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":r=d;break;case"defaultValue":o=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(s(137,t));break;default:ed(e,t,a,d,n,null)}}return bt(e,r,o,c,u,l,i,!1),void pt(e);case"select":for(i in $u("invalid",e),a=l=r=null,n)if(n.hasOwnProperty(i)&&null!=(o=n[i]))switch(i){case"value":r=o;break;case"defaultValue":l=o;break;case"multiple":a=o;default:ed(e,t,i,o,n,null)}return t=r,n=l,e.multiple=!!a,void(null!=t?wt(e,!!a,t,!1):null!=n&&wt(e,!!a,n,!0));case"textarea":for(l in $u("invalid",e),r=i=a=null,n)if(n.hasOwnProperty(l)&&null!=(o=n[l]))switch(l){case"value":a=o;break;case"defaultValue":i=o;break;case"children":r=o;break;case"dangerouslySetInnerHTML":if(null!=o)throw Error(s(91));break;default:ed(e,t,l,o,n,null)}return St(e,a,i,r),void pt(e);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(a=n[c]))if("selected"===c)e.selected=a&&"function"!=typeof a&&"symbol"!=typeof a;else ed(e,t,c,a,n,null);return;case"dialog":$u("beforetoggle",e),$u("toggle",e),$u("cancel",e),$u("close",e);break;case"iframe":case"object":$u("load",e);break;case"video":case"audio":for(a=0;a<Ou.length;a++)$u(Ou[a],e);break;case"image":$u("error",e),$u("load",e);break;case"details":$u("toggle",e);break;case"embed":case"source":case"link":$u("error",e),$u("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(a=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:ed(e,t,u,a,n,null)}return;default:if(_t(t)){for(d in n)n.hasOwnProperty(d)&&(void 0!==(a=n[d])&&td(e,t,d,a,n,void 0));return}}for(o in n)n.hasOwnProperty(o)&&(null!=(a=n[o])&&ed(e,t,o,a,n,null))}var rd=null,ad=null;function sd(e){return 9===e.nodeType?e:e.ownerDocument}function id(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ld(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function od(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"bigint"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var cd=null;var ud="function"==typeof setTimeout?setTimeout:void 0,dd="function"==typeof clearTimeout?clearTimeout:void 0,hd="function"==typeof Promise?Promise:void 0,pd="function"==typeof queueMicrotask?queueMicrotask:void 0!==hd?function(e){return hd.resolve(null).then(e).catch(md)}:ud;function md(e){setTimeout(function(){throw e})}function fd(e){return"head"===e}function gd(e,t){var n=t,r=0,a=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&8===s.nodeType)if("/$"===(n=s.data)){if(0<r&&8>r){n=r;var i=e.ownerDocument;if(1&n&&Sd(i.documentElement),2&n&&Sd(i.body),4&n)for(Sd(n=i.head),i=n.firstChild;i;){var l=i.nextSibling,o=i.nodeName;i[Be]||"SCRIPT"===o||"STYLE"===o||"LINK"===o&&"stylesheet"===i.rel.toLowerCase()||n.removeChild(i),i=l}}if(0===a)return e.removeChild(s),void Th(t);a--}else"$"===n||"$?"===n||"$!"===n?a++:r=n.charCodeAt(0)-48;else r=0;n=s}while(n);Th(t)}function yd(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":yd(n),Ue(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function vd(e){return"$!"===e.data||"$?"===e.data&&"complete"===e.ownerDocument.readyState}function bd(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}var xd=null;function wd(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function kd(e,t,n){switch(t=sd(n),e){case"html":if(!(e=t.documentElement))throw Error(s(452));return e;case"head":if(!(e=t.head))throw Error(s(453));return e;case"body":if(!(e=t.body))throw Error(s(454));return e;default:throw Error(s(451))}}function Sd(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ue(e)}var jd=new Map,Nd=new Set;function Ed(e){return"function"==typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Pd=I.d;I.d={f:function(){var e=Pd.f(),t=qc();return e||t},r:function(e){var t=We(e);null!==t&&5===t.tag&&"form"===t.type?Di(t):Pd.r(e)},D:function(e){Pd.D(e),Td("dns-prefetch",e,null)},C:function(e,t){Pd.C(e,t),Td("preconnect",e,t)},L:function(e,t,n){Pd.L(e,t,n);var r=_d;if(r&&e&&t){var a='link[rel="preload"][as="'+yt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(a+='[imagesrcset="'+yt(n.imageSrcSet)+'"]',"string"==typeof n.imageSizes&&(a+='[imagesizes="'+yt(n.imageSizes)+'"]')):a+='[href="'+yt(e)+'"]';var s=a;switch(t){case"style":s=Md(e);break;case"script":s=Dd(e)}jd.has(s)||(e=d({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),jd.set(s,e),null!==r.querySelector(a)||"style"===t&&r.querySelector(Ad(s))||"script"===t&&r.querySelector(Ld(s))||(nd(t=r.createElement("link"),"link",e),Ge(t),r.head.appendChild(t)))}},m:function(e,t){Pd.m(e,t);var n=_d;if(n&&e){var r=t&&"string"==typeof t.as?t.as:"script",a='link[rel="modulepreload"][as="'+yt(r)+'"][href="'+yt(e)+'"]',s=a;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=Dd(e)}if(!jd.has(s)&&(e=d({rel:"modulepreload",href:e},t),jd.set(s,e),null===n.querySelector(a))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Ld(s)))return}nd(r=n.createElement("link"),"link",e),Ge(r),n.head.appendChild(r)}}},X:function(e,t){Pd.X(e,t);var n=_d;if(n&&e){var r=He(n).hoistableScripts,a=Dd(e),s=r.get(a);s||((s=n.querySelector(Ld(a)))||(e=d({src:e,async:!0},t),(t=jd.get(a))&&$d(e,t),Ge(s=n.createElement("script")),nd(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(a,s))}},S:function(e,t,n){Pd.S(e,t,n);var r=_d;if(r&&e){var a=He(r).hoistableStyles,s=Md(e);t=t||"default";var i=a.get(s);if(!i){var l={loading:0,preload:null};if(i=r.querySelector(Ad(s)))l.loading=5;else{e=d({rel:"stylesheet",href:e,"data-precedence":t},n),(n=jd.get(s))&&zd(e,n);var o=i=r.createElement("link");Ge(o),nd(o,"link",e),o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),o.addEventListener("load",function(){l.loading|=1}),o.addEventListener("error",function(){l.loading|=2}),l.loading|=4,Id(i,t,r)}i={type:"stylesheet",instance:i,count:1,state:l},a.set(s,i)}}},M:function(e,t){Pd.M(e,t);var n=_d;if(n&&e){var r=He(n).hoistableScripts,a=Dd(e),s=r.get(a);s||((s=n.querySelector(Ld(a)))||(e=d({src:e,async:!0,type:"module"},t),(t=jd.get(a))&&$d(e,t),Ge(s=n.createElement("script")),nd(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(a,s))}}};var _d="undefined"==typeof document?null:document;function Td(e,t,n){var r=_d;if(r&&"string"==typeof t&&t){var a=yt(t);a='link[rel="'+e+'"][href="'+a+'"]',"string"==typeof n&&(a+='[crossorigin="'+n+'"]'),Nd.has(a)||(Nd.add(a),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(a)&&(nd(t=r.createElement("link"),"link",e),Ge(t),r.head.appendChild(t)))}}function Cd(e,t,n,r){var a,i,l,o,c=(c=H.current)?Ed(c):null;if(!c)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return"string"==typeof n.precedence&&"string"==typeof n.href?(t=Md(n.href),(r=(n=He(c).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"==typeof n.href&&"string"==typeof n.precedence){e=Md(n.href);var u=He(c).hoistableStyles,d=u.get(e);if(d||(c=c.ownerDocument||c,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,d),(u=c.querySelector(Ad(e)))&&!u._p&&(d.instance=u,d.state.loading=5),jd.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},jd.set(e,n),u||(a=c,i=e,l=n,o=d.state,a.querySelector('link[rel="preload"][as="style"]['+i+"]")?o.loading=1:(i=a.createElement("link"),o.preload=i,i.addEventListener("load",function(){return o.loading|=1}),i.addEventListener("error",function(){return o.loading|=2}),nd(i,"link",l),Ge(i),a.head.appendChild(i))))),t&&null===r)throw Error(s(528,""));return d}if(t&&null!==r)throw Error(s(529,""));return null;case"script":return t=n.async,"string"==typeof(n=n.src)&&t&&"function"!=typeof t&&"symbol"!=typeof t?(t=Dd(n),(r=(n=He(c).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Md(e){return'href="'+yt(e)+'"'}function Ad(e){return'link[rel="stylesheet"]['+e+"]"}function Rd(e){return d({},e,{"data-precedence":e.precedence,precedence:null})}function Dd(e){return'[src="'+yt(e)+'"]'}function Ld(e){return"script[async]"+e}function Od(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+yt(n.href)+'"]');if(r)return t.instance=r,Ge(r),r;var a=d({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return Ge(r=(e.ownerDocument||e).createElement("style")),nd(r,"style",a),Id(r,n.precedence,e),t.instance=r;case"stylesheet":a=Md(n.href);var i=e.querySelector(Ad(a));if(i)return t.state.loading|=4,t.instance=i,Ge(i),i;r=Rd(n),(a=jd.get(a))&&zd(r,a),Ge(i=(e.ownerDocument||e).createElement("link"));var l=i;return l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),nd(i,"link",r),t.state.loading|=4,Id(i,n.precedence,e),t.instance=i;case"script":return i=Dd(n.src),(a=e.querySelector(Ld(i)))?(t.instance=a,Ge(a),a):(r=n,(a=jd.get(i))&&$d(r=d({},n),a),Ge(a=(e=e.ownerDocument||e).createElement("script")),nd(a,"link",r),e.head.appendChild(a),t.instance=a);case"void":return null;default:throw Error(s(443,t.type))}else"stylesheet"===t.type&&!(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,Id(r,n.precedence,e));return t.instance}function Id(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),a=r.length?r[r.length-1]:null,s=a,i=0;i<r.length;i++){var l=r[i];if(l.dataset.precedence===t)s=l;else if(s!==a)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function zd(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function $d(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var Fd=null;function Bd(e,t,n){if(null===Fd){var r=new Map,a=Fd=new Map;a.set(n,r)}else(r=(a=Fd).get(n))||(r=new Map,a.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),a=0;a<n.length;a++){var s=n[a];if(!(s[Be]||s[De]||"link"===e&&"stylesheet"===s.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==s.namespaceURI){var i=s.getAttribute(t)||"";i=e+i;var l=r.get(i);l?l.push(s):r.set(i,[s])}}return r}function Ud(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function qd(e){return!!("stylesheet"!==e.type||3&e.state.loading)}var Wd=null;function Vd(){}function Hd(){if(this.count--,0===this.count)if(this.stylesheets)Kd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var Gd=null;function Kd(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,Gd=new Map,t.forEach(Jd,e),Gd=null,Hd.call(e))}function Jd(e,t){if(!(4&t.state.loading)){var n=Gd.get(e);if(n)var r=n.get(null);else{n=new Map,Gd.set(e,n);for(var a=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<a.length;s++){var i=a[s];"LINK"!==i.nodeName&&"not all"===i.getAttribute("media")||(n.set(i.dataset.precedence,i),r=i)}r&&n.set(null,r)}i=(a=t.instance).getAttribute("data-precedence"),(s=n.get(i)||r)===r&&n.set(null,a),n.set(i,a),this.count++,r=Hd.bind(this),a.addEventListener("load",r),a.addEventListener("error",r),s?s.parentNode.insertBefore(a,s.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(a,e.firstChild),t.state.loading|=4}}var Qd={$$typeof:S,Provider:null,Consumer:null,_currentValue:z,_currentValue2:z,_threadCount:0};function Yd(e,t,n,r,a,s,i,l){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ee(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ee(0),this.hiddenUpdates=Ee(null),this.identifierPrefix=r,this.onUncaughtError=a,this.onCaughtError=s,this.onRecoverableError=i,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function Xd(e,t,n,r,a,s,i,l,o,c,u,d){return e=new Yd(e,t,n,i,l,o,c,d),t=1,!0===s&&(t|=24),s=zr(3,null,null,t),e.current=s,s.stateNode=e,(t=La()).refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:r,isDehydrated:n,cache:t},as(s),e}function Zd(e){return e?e=Or:Or}function eh(e,t,n,r,a,s){a=Zd(a),null===r.context?r.context=a:r.pendingContext=a,(r=is(t)).payload={element:n},null!==(s=void 0===s?null:s)&&(r.callback=s),null!==(n=ls(e,r,t))&&(zc(n,0,t),os(n,e,t))}function th(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function nh(e,t){th(e,t),(e=e.alternate)&&th(e,t)}function rh(e){if(13===e.tag){var t=Rr(e,67108864);null!==t&&zc(t,0,67108864),nh(e,67108864)}}var ah=!0;function sh(e,t,n,r){var a=O.T;O.T=null;var s=I.p;try{I.p=2,lh(e,t,n,r)}finally{I.p=s,O.T=a}}function ih(e,t,n,r){var a=O.T;O.T=null;var s=I.p;try{I.p=8,lh(e,t,n,r)}finally{I.p=s,O.T=a}}function lh(e,t,n,r){if(ah){var a=oh(r);if(null===a)Wu(e,t,r,ch,n),xh(e,r);else if(function(e,t,n,r,a){switch(t){case"focusin":return ph=wh(ph,e,t,n,r,a),!0;case"dragenter":return mh=wh(mh,e,t,n,r,a),!0;case"mouseover":return fh=wh(fh,e,t,n,r,a),!0;case"pointerover":var s=a.pointerId;return gh.set(s,wh(gh.get(s)||null,e,t,n,r,a)),!0;case"gotpointercapture":return s=a.pointerId,yh.set(s,wh(yh.get(s)||null,e,t,n,r,a)),!0}return!1}(a,e,t,n,r))r.stopPropagation();else if(xh(e,r),4&t&&-1<bh.indexOf(e)){for(;null!==a;){var s=We(a);if(null!==s)switch(s.tag){case 3:if((s=s.stateNode).current.memoizedState.isDehydrated){var i=xe(s.pendingLanes);if(0!==i){var l=s;for(l.pendingLanes|=2,l.entangledLanes|=2;i;){var o=1<<31-fe(i);l.entanglements[1]|=o,i&=~o}ju(s),!(6&ac)&&(jc=re()+500,Nu(0))}}break;case 13:null!==(l=Rr(s,2))&&zc(l,0,2),qc(),nh(s,2)}if(null===(s=oh(r))&&Wu(e,t,r,ch,n),s===a)break;a=s}null!==a&&r.stopPropagation()}else Wu(e,t,r,null,n)}}function oh(e){return uh(e=Rt(e))}var ch=null;function uh(e){if(ch=null,null!==(e=qe(e))){var t=l(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=o(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return ch=e,null}function dh(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ae()){case se:return 2;case ie:return 8;case le:case oe:return 32;case ce:return 268435456;default:return 32}default:return 32}}var hh=!1,ph=null,mh=null,fh=null,gh=new Map,yh=new Map,vh=[],bh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function xh(e,t){switch(e){case"focusin":case"focusout":ph=null;break;case"dragenter":case"dragleave":mh=null;break;case"mouseover":case"mouseout":fh=null;break;case"pointerover":case"pointerout":gh.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":yh.delete(t.pointerId)}}function wh(e,t,n,r,a,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[a]},null!==t&&(null!==(t=We(t))&&rh(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function kh(e){var t=qe(e.target);if(null!==t){var n=l(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=o(n)))return e.blockedOn=t,void function(e,t){var n=I.p;try{return I.p=e,t()}finally{I.p=n}}(e.priority,function(){if(13===n.tag){var e=Oc();e=Ce(e);var t=Rr(n,e);null!==t&&zc(t,0,e),nh(n,e)}})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Sh(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=oh(e.nativeEvent);if(null!==n)return null!==(t=We(n))&&rh(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);At=r,n.target.dispatchEvent(r),At=null,t.shift()}return!0}function jh(e,t,n){Sh(e)&&n.delete(t)}function Nh(){hh=!1,null!==ph&&Sh(ph)&&(ph=null),null!==mh&&Sh(mh)&&(mh=null),null!==fh&&Sh(fh)&&(fh=null),gh.forEach(jh),yh.forEach(jh)}function Eh(e,n){e.blockedOn===n&&(e.blockedOn=null,hh||(hh=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Nh)))}var Ph=null;function _h(e){Ph!==e&&(Ph=e,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Ph===e&&(Ph=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],a=e[t+2];if("function"!=typeof r){if(null===uh(r||n))continue;break}var s=We(n);null!==s&&(e.splice(t,3),t-=3,Ai(s,{pending:!0,data:a,method:n.method,action:r},r,a))}}))}function Th(e){function t(t){return Eh(t,e)}null!==ph&&Eh(ph,e),null!==mh&&Eh(mh,e),null!==fh&&Eh(fh,e),gh.forEach(t),yh.forEach(t);for(var n=0;n<vh.length;n++){var r=vh[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<vh.length&&null===(n=vh[0]).blockedOn;)kh(n),null===n.blockedOn&&vh.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var a=n[r],s=n[r+1],i=a[Le]||null;if("function"==typeof s)i||_h(n);else if(i){var l=null;if(s&&s.hasAttribute("formAction")){if(a=s,i=s[Le]||null)l=i.formAction;else if(null!==uh(a))continue}else l=i.action;"function"==typeof l?n[r+1]=l:(n.splice(r,3),r-=3),_h(n)}}}function Ch(e){this._internalRoot=e}function Mh(e){this._internalRoot=e}Mh.prototype.render=Ch.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));eh(t.current,Oc(),e,t,null,null)},Mh.prototype.unmount=Ch.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;eh(e.current,2,null,e,null,null),qc(),t[Oe]=null}},Mh.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ae();e={blockedOn:null,target:e,priority:t};for(var n=0;n<vh.length&&0!==t&&t<vh[n].priority;n++);vh.splice(n,0,e),0===n&&kh(e)}};var Ah=r.version;if("19.1.0"!==Ah)throw Error(s(527,Ah,"19.1.0"));I.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=l(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var i=a.alternate;if(null===i){if(null!==(r=a.return)){n=r;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===n)return c(a),e;if(i===r)return c(a),t;i=i.sibling}throw Error(s(188))}if(n.return!==r.return)n=a,r=i;else{for(var o=!1,u=a.child;u;){if(u===n){o=!0,n=a,r=i;break}if(u===r){o=!0,r=a,n=i;break}u=u.sibling}if(!o){for(u=i.child;u;){if(u===n){o=!0,n=i,r=a;break}if(u===r){o=!0,r=i,n=a;break}u=u.sibling}if(!o)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?u(e):null)?null:e.stateNode};var Rh={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:O,reconcilerVersion:"19.1.0"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Dh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Dh.isDisabled&&Dh.supportsFiber)try{he=Dh.inject(Rh),pe=Dh}catch(Oh){}}return g.createRoot=function(e,t){if(!i(e))throw Error(s(299));var n=!1,r="",a=bl,l=xl,o=wl;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(a=t.onUncaughtError),void 0!==t.onCaughtError&&(l=t.onCaughtError),void 0!==t.onRecoverableError&&(o=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=Xd(e,1,!1,null,0,n,r,a,l,o,0,null),e[Oe]=t.current,Uu(e),new Ch(t)},g.hydrateRoot=function(e,t,n){if(!i(e))throw Error(s(299));var r=!1,a="",l=bl,o=xl,c=wl,u=null;return null!=n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onUncaughtError&&(l=n.onUncaughtError),void 0!==n.onCaughtError&&(o=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&n.unstable_transitionCallbacks,void 0!==n.formState&&(u=n.formState)),(t=Xd(e,1,!0,t,0,r,a,l,o,c,0,u)).context=Zd(null),n=t.current,(a=is(r=Ce(r=Oc()))).callback=null,ls(n,a,r),n=r,t.current.lanes=n,Pe(t,n),ju(t),e[Oe]=t.current,Uu(e),new Mh(t)},g.version="19.1.0",g}const w=t((m||(m=1,function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){}}(),f.exports=x()),f.exports));var k,S={};!function(){if(k)return S;k=1,Object.defineProperty(S,"__esModule",{value:!0}),S.parse=function(e,t){const n=new s,r=e.length;if(r<2)return n;const a=(null==t?void 0:t.decode)||o;let c=0;do{const t=e.indexOf("=",c);if(-1===t)break;const s=e.indexOf(";",c),o=-1===s?r:s;if(t>o){c=e.lastIndexOf(";",t-1)+1;continue}const u=i(e,c,t),d=l(e,t,u),h=e.slice(u,d);if(void 0===n[h]){let r=i(e,t+1,o),s=l(e,o,r);const c=a(e.slice(r,s));n[h]=c}c=o+1}while(c<r);return n},S.serialize=function(s,i,l){const o=(null==l?void 0:l.encode)||encodeURIComponent;if(!e.test(s))throw new TypeError(`argument name is invalid: ${s}`);const c=o(i);if(!t.test(c))throw new TypeError(`argument val is invalid: ${i}`);let u=s+"="+c;if(!l)return u;if(void 0!==l.maxAge){if(!Number.isInteger(l.maxAge))throw new TypeError(`option maxAge is invalid: ${l.maxAge}`);u+="; Max-Age="+l.maxAge}if(l.domain){if(!n.test(l.domain))throw new TypeError(`option domain is invalid: ${l.domain}`);u+="; Domain="+l.domain}if(l.path){if(!r.test(l.path))throw new TypeError(`option path is invalid: ${l.path}`);u+="; Path="+l.path}if(l.expires){if(!function(e){return"[object Date]"===a.call(e)}(l.expires)||!Number.isFinite(l.expires.valueOf()))throw new TypeError(`option expires is invalid: ${l.expires}`);u+="; Expires="+l.expires.toUTCString()}l.httpOnly&&(u+="; HttpOnly");l.secure&&(u+="; Secure");l.partitioned&&(u+="; Partitioned");if(l.priority){switch("string"==typeof l.priority?l.priority.toLowerCase():void 0){case"low":u+="; Priority=Low";break;case"medium":u+="; Priority=Medium";break;case"high":u+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${l.priority}`)}}if(l.sameSite){switch("string"==typeof l.sameSite?l.sameSite.toLowerCase():l.sameSite){case!0:case"strict":u+="; SameSite=Strict";break;case"lax":u+="; SameSite=Lax";break;case"none":u+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${l.sameSite}`)}}return u};const e=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,s=(()=>{const e=function(){};return e.prototype=Object.create(null),e})();function i(e,t,n){do{const n=e.charCodeAt(t);if(32!==n&&9!==n)return t}while(++t<n);return n}function l(e,t,n){for(;t>n;){const n=e.charCodeAt(--t);if(32!==n&&9!==n)return t+1}return n}function o(e){if(-1===e.indexOf("%"))return e;try{return decodeURIComponent(e)}catch(t){return e}}}();var j="popstate";function N(e={}){return function(e,t,n,r={}){let{window:a=document.defaultView,v5Compat:s=!1}=r,i=a.history,l="POP",o=null,c=u();null==c&&(c=0,i.replaceState({...i.state,idx:c},""));function u(){return(i.state||{idx:null}).idx}function d(){l="POP";let e=u(),t=null==e?null:e-c;c=e,o&&o({action:l,location:f.location,delta:t})}function h(e,t){l="PUSH";let n=T(f.location,e,t);c=u()+1;let r=_(n,c),d=f.createHref(n);try{i.pushState(r,"",d)}catch(h){if(h instanceof DOMException&&"DataCloneError"===h.name)throw h;a.location.assign(d)}s&&o&&o({action:l,location:f.location,delta:1})}function p(e,t){l="REPLACE";let n=T(f.location,e,t);c=u();let r=_(n,c),a=f.createHref(n);i.replaceState(r,"",a),s&&o&&o({action:l,location:f.location,delta:0})}function m(e){return function(e,t=!1){let n="http://localhost";"undefined"!=typeof window&&(n="null"!==window.location.origin?window.location.origin:window.location.href);E(n,"No window.location.(origin|href) available to create URL");let r="string"==typeof e?e:C(e);r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r);return new URL(r,n)}(e)}let f={get action(){return l},get location(){return e(a,i)},listen(e){if(o)throw new Error("A history only accepts one active listener");return a.addEventListener(j,d),o=e,()=>{a.removeEventListener(j,d),o=null}},createHref:e=>t(a,e),createURL:m,encodeLocation(e){let t=m(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:h,replace:p,go:e=>i.go(e)};return f}(function(e,t){let{pathname:n,search:r,hash:a}=e.location;return T("",{pathname:n,search:r,hash:a},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"==typeof t?t:C(t)},0,e)}function E(e,t){if(!1===e||null==e)throw new Error(t)}function P(e,t){if(!e)try{throw new Error(t)}catch(n){}}function _(e,t){return{usr:e.state,key:e.key,idx:t}}function T(e,t,n=null,r){return{pathname:"string"==typeof e?e:e.pathname,search:"",hash:"",..."string"==typeof t?M(t):t,state:n,key:t&&t.key||r||Math.random().toString(36).substring(2,10)}}function C({pathname:e="/",search:t="",hash:n=""}){return t&&"?"!==t&&(e+="?"===t.charAt(0)?t:"?"+t),n&&"#"!==n&&(e+="#"===n.charAt(0)?n:"#"+n),e}function M(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function A(e,t,n="/"){return function(e,t,n,r){let a="string"==typeof t?M(t):t,s=H(a.pathname||"/",n);if(null==s)return null;let i=R(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(i);let l=null;for(let o=0;null==l&&o<i.length;++o){let e=V(s);l=q(i[o],e,r)}return l}(e,t,n,!1)}function R(e,t=[],n=[],r=""){let a=(e,a,s)=>{let i={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:a,route:e};i.relativePath.startsWith("/")&&(E(i.relativePath.startsWith(r),`Absolute route path "${i.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),i.relativePath=i.relativePath.slice(r.length));let l=Q([r,i.relativePath]),o=n.concat(i);e.children&&e.children.length>0&&(E(!0!==e.index,`Index routes must not have child routes. Please remove all child routes from route path "${l}".`),R(e.children,t,o,l)),(null!=e.path||e.index)&&t.push({path:l,score:U(l,e.index),routesMeta:o})};return e.forEach((e,t)=>{var n;if(""!==e.path&&(null==(n=e.path)?void 0:n.includes("?")))for(let r of D(e.path))a(e,t,r);else a(e,t)}),t}function D(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,a=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return a?[s,""]:[s];let i=D(r.join("/")),l=[];return l.push(...i.map(e=>""===e?s:[s,e].join("/"))),a&&l.push(...i),l.map(t=>e.startsWith("/")&&""===t?"/":t)}var L=/^:[\w-]+$/,O=3,I=2,z=1,$=10,F=-2,B=e=>"*"===e;function U(e,t){let n=e.split("/"),r=n.length;return n.some(B)&&(r+=F),t&&(r+=I),n.filter(e=>!B(e)).reduce((e,t)=>e+(L.test(t)?O:""===t?z:$),r)}function q(e,t,n=!1){let{routesMeta:r}=e,a={},s="/",i=[];for(let l=0;l<r.length;++l){let e=r[l],o=l===r.length-1,c="/"===s?t:t.slice(s.length)||"/",u=W({path:e.relativePath,caseSensitive:e.caseSensitive,end:o},c),d=e.route;if(!u&&o&&n&&!r[r.length-1].route.index&&(u=W({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(a,u.params),i.push({params:a,pathname:Q([s,u.pathname]),pathnameBase:Y(Q([s,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(s=Q([s,u.pathnameBase]))}return i}function W(e,t){"string"==typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t=!1,n=!0){P("*"===e||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(r.push({paramName:"*"}),a+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":""!==e&&"/"!==e&&(a+="(?:(?=\\/|$))");let s=new RegExp(a,t?void 0:"i");return[s,r]}(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let s=a[0],i=s.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:r.reduce((e,{paramName:t,isOptional:n},r)=>{if("*"===t){let e=l[r]||"";i=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const a=l[r];return e[t]=n&&!a?void 0:(a||"").replace(/%2F/g,"/"),e},{}),pathname:s,pathnameBase:i,pattern:e}}function V(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return P(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function H(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function G(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function K(e){let t=function(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}(e);return t.map((e,n)=>n===t.length-1?e.pathname:e.pathnameBase)}function J(e,t,n,r=!1){let a;"string"==typeof e?a=M(e):(a={...e},E(!a.pathname||!a.pathname.includes("?"),G("?","pathname","search",a)),E(!a.pathname||!a.pathname.includes("#"),G("#","pathname","hash",a)),E(!a.search||!a.search.includes("#"),G("#","search","hash",a)));let s,i=""===e||""===a.pathname,l=i?"/":a.pathname;if(null==l)s=n;else{let e=t.length-1;if(!r&&l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;a.pathname=t.join("/")}s=e>=0?t[e]:"/"}let o=function(e,t="/"){let{pathname:n,search:r="",hash:a=""}="string"==typeof e?M(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:X(r),hash:Z(a)}}(a,s),c=l&&"/"!==l&&l.endsWith("/"),u=(i||"."===l)&&n.endsWith("/");return o.pathname.endsWith("/")||!c&&!u||(o.pathname+="/"),o}var Q=e=>e.join("/").replace(/\/\/+/g,"/"),Y=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),X=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",Z=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";var ee=["POST","PUT","PATCH","DELETE"];new Set(ee);var te=["GET",...ee];new Set(te);var ne=c.createContext(null);ne.displayName="DataRouter";var re=c.createContext(null);re.displayName="DataRouterState";var ae=c.createContext({isTransitioning:!1});ae.displayName="ViewTransition",c.createContext(new Map).displayName="Fetchers",c.createContext(null).displayName="Await";var se=c.createContext(null);se.displayName="Navigation";var ie=c.createContext(null);ie.displayName="Location";var le=c.createContext({outlet:null,matches:[],isDataRoute:!1});le.displayName="Route";var oe=c.createContext(null);function ce(){return null!=c.useContext(ie)}function ue(){return E(ce(),"useLocation() may be used only in the context of a <Router> component."),c.useContext(ie).location}oe.displayName="RouteError";var de="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function he(e){c.useContext(se).static||c.useLayoutEffect(e)}function pe(){let{isDataRoute:e}=c.useContext(le);return e?function(){let{router:e}=function(e){let t=c.useContext(ne);return E(t,xe(e)),t}("useNavigate"),t=we("useNavigate"),n=c.useRef(!1);return he(()=>{n.current=!0}),c.useCallback(async(r,a={})=>{P(n.current,de),n.current&&("number"==typeof r?e.navigate(r):await e.navigate(r,{fromRouteId:t,...a}))},[e,t])}():function(){E(ce(),"useNavigate() may be used only in the context of a <Router> component.");let e=c.useContext(ne),{basename:t,navigator:n}=c.useContext(se),{matches:r}=c.useContext(le),{pathname:a}=ue(),s=JSON.stringify(K(r)),i=c.useRef(!1);return he(()=>{i.current=!0}),c.useCallback((r,l={})=>{if(P(i.current,de),!i.current)return;if("number"==typeof r)return void n.go(r);let o=J(r,JSON.parse(s),a,"path"===l.relative);null==e&&"/"!==t&&(o.pathname="/"===o.pathname?t:Q([t,o.pathname])),(l.replace?n.replace:n.push)(o,l.state,l)},[t,n,s,a,e])}()}function me(e,{relative:t}={}){let{matches:n}=c.useContext(le),{pathname:r}=ue(),a=JSON.stringify(K(n));return c.useMemo(()=>J(e,JSON.parse(a),r,"path"===t),[e,a,r,t])}function fe(e,t,n,r){var a;E(ce(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=c.useContext(se),{matches:i}=c.useContext(le),l=i[i.length-1],o=l?l.params:{},u=l?l.pathname:"/",d=l?l.pathnameBase:"/",h=l&&l.route;{let e=h&&h.path||"";Se(u,!h||e.endsWith("*")||e.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${e}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="${e}"> to <Route path="${"/"===e?"*":`${e}/*`}">.`)}let p,m=ue();if(t){let e="string"==typeof t?M(t):t;E("/"===d||(null==(a=e.pathname)?void 0:a.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${e.pathname}" was given in the \`location\` prop.`),p=e}else p=m;let f=p.pathname||"/",g=f;if("/"!==d){let e=d.replace(/^\//,"").split("/");g="/"+f.replace(/^\//,"").split("/").slice(e.length).join("/")}let y=A(e,{pathname:g});P(h||null!=y,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),P(null==y||void 0!==y[y.length-1].route.element||void 0!==y[y.length-1].route.Component||void 0!==y[y.length-1].route.lazy,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let v=function(e,t=[],n=null){if(null==e){if(!n)return null;if(n.errors)e=n.matches;else{if(0!==t.length||n.initialized||!(n.matches.length>0))return null;e=n.matches}}let r=e,a=null==n?void 0:n.errors;if(null!=a){let e=r.findIndex(e=>e.route.id&&void 0!==(null==a?void 0:a[e.route.id]));E(e>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),r=r.slice(0,Math.min(r.length,e+1))}let s=!1,i=-1;if(n)for(let l=0;l<r.length;l++){let e=r[l];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(i=l),e.route.id){let{loaderData:t,errors:a}=n,l=e.route.loader&&!t.hasOwnProperty(e.route.id)&&(!a||void 0===a[e.route.id]);if(e.route.lazy||l){s=!0,r=i>=0?r.slice(0,i+1):[r[0]];break}}}return r.reduceRight((e,l,o)=>{let u,d=!1,h=null,p=null;n&&(u=a&&l.route.id?a[l.route.id]:void 0,h=l.route.errorElement||ye,s&&(i<0&&0===o?(Se("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),d=!0,p=null):i===o&&(d=!0,p=l.route.hydrateFallbackElement||null)));let m=t.concat(r.slice(0,o+1)),f=()=>{let t;return t=u?h:d?p:l.route.Component?c.createElement(l.route.Component,null):l.route.element?l.route.element:e,c.createElement(be,{match:l,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:t})};return n&&(l.route.ErrorBoundary||l.route.errorElement||0===o)?c.createElement(ve,{location:n.location,revalidation:n.revalidation,component:h,error:u,children:f(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):f()},null)}(y&&y.map(e=>Object.assign({},e,{params:Object.assign({},o,e.params),pathname:Q([d,s.encodeLocation?s.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?d:Q([d,s.encodeLocation?s.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),i,n,r);return t&&v?c.createElement(ie.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...p},navigationType:"POP"}},v):v}function ge(){let e=function(){var e;let t=c.useContext(oe),n=function(e){let t=c.useContext(re);return E(t,xe(e)),t}("useRouteError"),r=we("useRouteError");if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=function(e){return null!=e&&"number"==typeof e.status&&"string"==typeof e.statusText&&"boolean"==typeof e.internal&&"data"in e}(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},i=null;return i=c.createElement(c.Fragment,null,c.createElement("p",null,"💿 Hey developer 👋"),c.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",c.createElement("code",{style:s},"ErrorBoundary")," or"," ",c.createElement("code",{style:s},"errorElement")," prop on your route.")),c.createElement(c.Fragment,null,c.createElement("h2",null,"Unexpected Application Error!"),c.createElement("h3",{style:{fontStyle:"italic"}},t),n?c.createElement("pre",{style:a},n):null,i)}c.createContext(null);var ye=c.createElement(ge,null),ve=class extends c.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){}render(){return void 0!==this.state.error?c.createElement(le.Provider,{value:this.props.routeContext},c.createElement(oe.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function be({routeContext:e,match:t,children:n}){let r=c.useContext(ne);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),c.createElement(le.Provider,{value:e},n)}function xe(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function we(e){let t=function(e){let t=c.useContext(le);return E(t,xe(e)),t}(e),n=t.matches[t.matches.length-1];return E(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}var ke={};function Se(e,t,n){t||ke[e]||(ke[e]=!0,P(!1,n))}function je(e){E(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Ne({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:a,static:s=!1}){E(!ce(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let i=e.replace(/^\/*/,"/"),l=c.useMemo(()=>({basename:i,navigator:a,static:s,future:{}}),[i,a,s]);"string"==typeof n&&(n=M(n));let{pathname:o="/",search:u="",hash:d="",state:h=null,key:p="default"}=n,m=c.useMemo(()=>{let e=H(o,i);return null==e?null:{location:{pathname:e,search:u,hash:d,state:h,key:p},navigationType:r}},[i,o,u,d,h,p,r]);return P(null!=m,`<Router basename="${i}"> is not able to match the URL "${o}${u}${d}" because it does not start with the basename, so the <Router> won't render anything.`),null==m?null:c.createElement(se.Provider,{value:l},c.createElement(ie.Provider,{children:t,value:m}))}function Ee({children:e,location:t}){return fe(Pe(e),t)}function Pe(e,t=[]){let n=[];return c.Children.forEach(e,(e,r)=>{if(!c.isValidElement(e))return;let a=[...t,r];if(e.type===c.Fragment)return void n.push.apply(n,Pe(e.props.children,a));E(e.type===je,`[${"string"==typeof e.type?e.type:e.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),E(!e.props.index||!e.props.children,"An index route cannot have child routes.");let s={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:!0===e.props.hasErrorBoundary||null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(s.children=Pe(e.props.children,a)),n.push(s)}),n}c.memo(function({routes:e,future:t,state:n}){return fe(e,void 0,n,t)});var _e="get",Te="application/x-www-form-urlencoded";function Ce(e){return null!=e&&"string"==typeof e.tagName}var Me=null;var Ae=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Re(e){return null==e||Ae.has(e)?e:(P(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Te}"`),null)}function De(e,t){let n,r,a,s,i;if(Ce(l=e)&&"form"===l.tagName.toLowerCase()){let i=e.getAttribute("action");r=i?H(i,t):null,n=e.getAttribute("method")||_e,a=Re(e.getAttribute("enctype"))||Te,s=new FormData(e)}else if(function(e){return Ce(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return Ce(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let i=e.form;if(null==i)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=e.getAttribute("formaction")||i.getAttribute("action");if(r=l?H(l,t):null,n=e.getAttribute("formmethod")||i.getAttribute("method")||_e,a=Re(e.getAttribute("formenctype"))||Re(i.getAttribute("enctype"))||Te,s=new FormData(i,e),!function(){if(null===Me)try{new FormData(document.createElement("form"),0),Me=!1}catch(e){Me=!0}return Me}()){let{name:t,type:n,value:r}=e;if("image"===n){let e=t?`${t}.`:"";s.append(`${e}x`,"0"),s.append(`${e}y`,"0")}else t&&s.append(t,r)}}else{if(Ce(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=_e,r=null,a=Te,i=e}var l;return s&&"text/plain"===a&&(i=s,s=void 0),{action:r,method:n.toLowerCase(),encType:a,formData:s,body:i}}function Le(e,t){if(!1===e||null==e)throw new Error(t)}function Oe(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"==typeof e.imageSrcSet&&"string"==typeof e.imageSizes:"string"==typeof e.rel&&"string"==typeof e.href)}async function Ie(e,t,n){return function(e,t){let n=new Set;return new Set(t),e.reduce((e,t)=>{let r=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}(t));return n.has(r)||(n.add(r),e.push({key:r,link:t})),e},[])}((await Promise.all(e.map(async e=>{let r=t.routes[e.route.id];if(r){let e=await async function(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}(r,n);return e.links?e.links():[]}return[]}))).flat(1).filter(Oe).filter(e=>"stylesheet"===e.rel||"preload"===e.rel).map(e=>"stylesheet"===e.rel?{...e,rel:"prefetch",as:"style"}:{...e,rel:"prefetch"}))}function ze(e,t,n,r,a,s){let i=(e,t)=>!n[t]||e.route.id!==n[t].route.id,l=(e,t)=>{var r;return n[t].pathname!==e.pathname||(null==(r=n[t].route.path)?void 0:r.endsWith("*"))&&n[t].params["*"]!==e.params["*"]};return"assets"===s?t.filter((e,t)=>i(e,t)||l(e,t)):"data"===s?t.filter((t,s)=>{var o;let c=r.routes[t.route.id];if(!c||!c.hasLoader)return!1;if(i(t,s)||l(t,s))return!0;if(t.route.shouldRevalidate){let r=t.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:(null==(o=n[0])?void 0:o.params)||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"==typeof r)return r}return!0}):[]}function $e(e,t,{includeHydrateFallback:n}={}){return r=e.map(e=>{let r=t.routes[e.route.id];if(!r)return[];let a=[r.module];return r.clientActionModule&&(a=a.concat(r.clientActionModule)),r.clientLoaderModule&&(a=a.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(a=a.concat(r.hydrateFallbackModule)),r.imports&&(a=a.concat(r.imports)),a}).flat(1),[...new Set(r)];var r}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Fe(){let e=c.useContext(ne);return Le(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}var Be=c.createContext(void 0);function Ue(){let e=c.useContext(Be);return Le(e,"You must render this element inside a <HydratedRouter> element"),e}function qe(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function We({page:e,...t}){let{router:n}=Fe(),r=c.useMemo(()=>A(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?c.createElement(Ve,{page:e,matches:r,...t}):null}function Ve({page:e,matches:t,...n}){let r=ue(),{manifest:a,routeModules:s}=Ue(),{basename:i}=Fe(),{loaderData:l,matches:o}=function(){let e=c.useContext(re);return Le(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}(),u=c.useMemo(()=>ze(e,t,o,a,r,"data"),[e,t,o,a,r]),d=c.useMemo(()=>ze(e,t,o,a,r,"assets"),[e,t,o,a,r]),h=c.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let n=new Set,o=!1;if(t.forEach(e=>{var t;let r=a.routes[e.route.id];r&&r.hasLoader&&(!u.some(t=>t.route.id===e.route.id)&&e.route.id in l&&(null==(t=s[e.route.id])?void 0:t.shouldRevalidate)||r.hasClientLoader?o=!0:n.add(e.route.id))}),0===n.size)return[];let c=function(e,t){let n="string"==typeof e?new URL(e,"undefined"==typeof window?"server://singlefetch/":window.location.origin):e;return"/"===n.pathname?n.pathname="_root.data":t&&"/"===H(n.pathname,t)?n.pathname=`${t.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}(e,i);return o&&n.size>0&&c.searchParams.set("_routes",t.filter(e=>n.has(e.route.id)).map(e=>e.route.id).join(",")),[c.pathname+c.search]},[i,l,r,a,u,t,e,s]),p=c.useMemo(()=>$e(d,a),[d,a]),m=function(e){let{manifest:t,routeModules:n}=Ue(),[r,a]=c.useState([]);return c.useEffect(()=>{let r=!1;return Ie(e,t,n).then(e=>{r||a(e)}),()=>{r=!0}},[e,t,n]),r}(d);return c.createElement(c.Fragment,null,h.map(e=>c.createElement("link",{key:e,rel:"prefetch",as:"fetch",href:e,...n})),p.map(e=>c.createElement("link",{key:e,rel:"modulepreload",href:e,...n})),m.map(({key:e,link:t})=>c.createElement("link",{key:e,...t})))}function He(...e){return t=>{e.forEach(e=>{"function"==typeof e?e(t):null!=e&&(e.current=t)})}}Be.displayName="FrameworkContext";var Ge="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement;try{Ge&&(window.__reactRouterVersion="7.6.2")}catch(_l){}function Ke({basename:e,children:t,window:n}){let r=c.useRef();null==r.current&&(r.current=N({window:n,v5Compat:!0}));let a=r.current,[s,i]=c.useState({action:a.action,location:a.location}),l=c.useCallback(e=>{c.startTransition(()=>i(e))},[i]);return c.useLayoutEffect(()=>a.listen(l),[a,l]),c.createElement(Ne,{basename:e,children:t,location:s.location,navigationType:s.action,navigator:a})}var Je=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Qe=c.forwardRef(function({onClick:e,discover:t="render",prefetch:n="none",relative:r,reloadDocument:a,replace:s,state:i,target:l,to:o,preventScrollReset:u,viewTransition:d,...h},p){let m,{basename:f}=c.useContext(se),g="string"==typeof o&&Je.test(o),y=!1;if("string"==typeof o&&g&&(m=o,Ge))try{let e=new URL(window.location.href),t=o.startsWith("//")?new URL(e.protocol+o):new URL(o),n=H(t.pathname,f);t.origin===e.origin&&null!=n?o=n+t.search+t.hash:y=!0}catch(_l){P(!1,`<Link to="${o}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let v=function(e,{relative:t}={}){E(ce(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=c.useContext(se),{hash:a,pathname:s,search:i}=me(e,{relative:t}),l=s;return"/"!==n&&(l="/"===s?n:Q([n,s])),r.createHref({pathname:l,search:i,hash:a})}(o,{relative:r}),[b,x,w]=function(e,t){let n=c.useContext(Be),[r,a]=c.useState(!1),[s,i]=c.useState(!1),{onFocus:l,onBlur:o,onMouseEnter:u,onMouseLeave:d,onTouchStart:h}=t,p=c.useRef(null);c.useEffect(()=>{if("render"===e&&i(!0),"viewport"===e){let e=new IntersectionObserver(e=>{e.forEach(e=>{i(e.isIntersecting)})},{threshold:.5});return p.current&&e.observe(p.current),()=>{e.disconnect()}}},[e]),c.useEffect(()=>{if(r){let e=setTimeout(()=>{i(!0)},100);return()=>{clearTimeout(e)}}},[r]);let m=()=>{a(!0)},f=()=>{a(!1),i(!1)};return n?"intent"!==e?[s,p,{}]:[s,p,{onFocus:qe(l,m),onBlur:qe(o,f),onMouseEnter:qe(u,m),onMouseLeave:qe(d,f),onTouchStart:qe(h,m)}]:[!1,p,{}]}(n,h),k=function(e,{target:t,replace:n,state:r,preventScrollReset:a,relative:s,viewTransition:i}={}){let l=pe(),o=ue(),u=me(e,{relative:s});return c.useCallback(c=>{if(function(e,t){return!(0!==e.button||t&&"_self"!==t||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e))}(c,t)){c.preventDefault();let t=void 0!==n?n:C(o)===C(u);l(e,{replace:t,state:r,preventScrollReset:a,relative:s,viewTransition:i})}},[o,l,u,n,r,t,e,a,s,i])}(o,{replace:s,state:i,target:l,preventScrollReset:u,relative:r,viewTransition:d});let S=c.createElement("a",{...h,...w,href:m||v,onClick:y||a?e:function(t){e&&e(t),t.defaultPrevented||k(t)},ref:He(p,x),target:l,"data-discover":g||"render"!==t?void 0:"true"});return b&&!g?c.createElement(c.Fragment,null,S,c.createElement(We,{page:v})):S});Qe.displayName="Link",c.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:n="",end:r=!1,style:a,to:s,viewTransition:i,children:l,...o},u){let d=me(s,{relative:o.relative}),h=ue(),p=c.useContext(re),{navigator:m,basename:f}=c.useContext(se),g=null!=p&&function(e,t={}){let n=c.useContext(ae);E(null!=n,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Xe("useViewTransitionState"),a=me(e,{relative:t.relative});if(!n.isTransitioning)return!1;let s=H(n.currentLocation.pathname,r)||n.currentLocation.pathname,i=H(n.nextLocation.pathname,r)||n.nextLocation.pathname;return null!=W(a.pathname,i)||null!=W(a.pathname,s)}(d)&&!0===i,y=m.encodeLocation?m.encodeLocation(d).pathname:d.pathname,v=h.pathname,b=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;t||(v=v.toLowerCase(),b=b?b.toLowerCase():null,y=y.toLowerCase()),b&&f&&(b=H(b,f)||b);const x="/"!==y&&y.endsWith("/")?y.length-1:y.length;let w,k=v===y||!r&&v.startsWith(y)&&"/"===v.charAt(x),S=null!=b&&(b===y||!r&&b.startsWith(y)&&"/"===b.charAt(y.length)),j={isActive:k,isPending:S,isTransitioning:g},N=k?e:void 0;w="function"==typeof n?n(j):[n,k?"active":null,S?"pending":null,g?"transitioning":null].filter(Boolean).join(" ");let P="function"==typeof a?a(j):a;return c.createElement(Qe,{...o,"aria-current":N,className:w,ref:u,style:P,to:s,viewTransition:i},"function"==typeof l?l(j):l)}).displayName="NavLink";var Ye=c.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:a,state:s,method:i=_e,action:l,onSubmit:o,relative:u,preventScrollReset:d,viewTransition:h,...p},m)=>{let f=function(){let{router:e}=Xe("useSubmit"),{basename:t}=c.useContext(se),n=we("useRouteId");return c.useCallback(async(r,a={})=>{let{action:s,method:i,encType:l,formData:o,body:c}=De(r,t);if(!1===a.navigate){let t=a.fetcherKey||et();await e.fetch(t,n,a.action||s,{preventScrollReset:a.preventScrollReset,formData:o,body:c,formMethod:a.method||i,formEncType:a.encType||l,flushSync:a.flushSync})}else await e.navigate(a.action||s,{preventScrollReset:a.preventScrollReset,formData:o,body:c,formMethod:a.method||i,formEncType:a.encType||l,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[e,t,n])}(),g=function(e,{relative:t}={}){let{basename:n}=c.useContext(se),r=c.useContext(le);E(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),s={...me(e||".",{relative:t})},i=ue();if(null==e){s.search=i.search;let e=new URLSearchParams(s.search),t=e.getAll("index");if(t.some(e=>""===e)){e.delete("index"),t.filter(e=>e).forEach(t=>e.append("index",t));let n=e.toString();s.search=n?`?${n}`:""}}e&&"."!==e||!a.route.index||(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index");"/"!==n&&(s.pathname="/"===s.pathname?n:Q([n,s.pathname]));return C(s)}(l,{relative:u}),y="get"===i.toLowerCase()?"get":"post",v="string"==typeof l&&Je.test(l);return c.createElement("form",{ref:m,method:y,action:g,onSubmit:r?o:e=>{if(o&&o(e),e.defaultPrevented)return;e.preventDefault();let r=e.nativeEvent.submitter,l=(null==r?void 0:r.getAttribute("formmethod"))||i;f(r||e.currentTarget,{fetcherKey:t,method:l,navigate:n,replace:a,state:s,relative:u,preventScrollReset:d,viewTransition:h})},...p,"data-discover":v||"render"!==e?void 0:"true"})});function Xe(e){let t=c.useContext(ne);return E(t,function(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}(e)),t}Ye.displayName="Form";var Ze=0,et=()=>`__${String(++Ze)}__`;
/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const tt=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()))(e);return t.charAt(0).toUpperCase()+t.slice(1)},nt=(...e)=>e.filter((e,t,n)=>Boolean(e)&&""!==e.trim()&&n.indexOf(e)===t).join(" ").trim(),rt=e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};
/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
var at={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};
/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const st=c.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:a="",children:s,iconNode:i,...l},o)=>c.createElement("svg",{ref:o,...at,width:t,height:t,stroke:e,strokeWidth:r?24*Number(n)/Number(t):n,className:nt("lucide",a),...!s&&!rt(l)&&{"aria-hidden":"true"},...l},[...i.map(([e,t])=>c.createElement(e,t)),...Array.isArray(s)?s:[s]])),it=(e,t)=>{const n=c.forwardRef(({className:n,...r},a)=>{return c.createElement(st,{ref:a,iconNode:t,className:nt(`lucide-${s=tt(e),s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,n),...r});var s});return n.displayName=tt(e),n},lt=it("award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]),ot=it("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),ct=it("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),ut=it("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),dt=it("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),ht=it("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),pt=it("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),mt=it("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),ft=it("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),gt=it("clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),yt=it("coffee",[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]]),vt=it("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),bt=it("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]),xt=it("globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]),wt=it("heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),kt=it("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),St=it("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),jt=it("medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]),Nt=it("pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]),Et=it("play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]),Pt=it("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),_t=it("rotate-ccw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),Tt=it("settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Ct=it("share-2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),Mt=it("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]),At=it("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]),Rt=it("target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),Dt=it("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]),Lt=it("trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]),Ot=it("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),It=it("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),zt=it("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),$t=e=>{if(!e||"string"!=typeof e)return e;let t=e;return Object.entries({"Ã¤":"ä","Ã¶":"ö","Ã¼":"ü","ÃŸ":"ß","Ã„":"Ä","Ã–":"Ö","Ãœ":"Ü","Ã±":"ñ","Ã©":"é","Ã­":"í","Ã³":"ó","Ãº":"ú","Ã¡":"á","Ã":"Ñ","Ã¨":"è","Ã ":"à","Ã§":"ç","Ã´":"ô","Ã¢":"â","EspaÃ±a":"España","Ã–sterreich":"Österreich","BelgiÃ«":"België","DÃ¤nemark":"Dänemark","Ã¯":"ï","Ã«":"ë","Ã®":"î","Ã¬":"ì"}).forEach(([e,n])=>{t=t.replace(new RegExp(e,"g"),n)}),t},Ft={de:{app:{title:"Play2 Tournament",loading:"Lade...",noEventsSelected:"Wählen Sie ein Event aus oder erstellen Sie ein neues",selectEventOrCreate:"Wählen Sie ein Event aus oder erstellen Sie ein neues",selectEventToView:"Wählen Sie ein Event aus, um Details zu sehen",error:"Ein Fehler ist aufgetreten",backToOverview:"Zurück zur Übersicht",loadingProfile:"Profil wird geladen...",loadingEvents:"Events werden geladen...",offlineMode:"Offline-Modus: Events werden aus dem lokalen Speicher geladen",saving:"Speichere...",saved:"Erfolgreich gespeichert",backToEventOverview:"Zurück zur Veranstaltungsübersicht"},navigation:{home:"Startseite",events:"Events",players:"Spieler",settings:"Einstellungen",logout:"Abmelden",edit:"Bearbeiten",delete:"Löschen",close:"Schließen",save:"Speichern",cancel:"Abbrechen",back:"Zurück",next:"Weiter",finish:"Fertig"},auth:{login:"Anmelden",signup:"Registrieren",email:"E-Mail",password:"Passwort",confirmPassword:"Passwort bestätigen",forgotPassword:"Passwort vergessen?",loginButton:"Anmelden",signupButton:"Registrieren",roleSelection:"Ich bin...",player:"Spieler",tournamentDirector:"Turnierdirektor",noAccount:"Noch kein Konto?",alreadyHaveAccount:"Bereits registriert?",createAccount:"Konto erstellen",checkEmail:"Bitte prüfen Sie Ihre E-Mails zur Bestätigung",loginSuccess:"Erfolgreich angemeldet",loading:"Lade...",loggingOut:"Abmeldung...",loggedOut:"Erfolgreich abgemeldet"},userMenu:{profile:"Profil",settings:"Einstellungen",logout:"Abmelden",tournamentDirector:"Turnierdirektor",player:"Spieler"},event:{new:"Neues Event",edit:"Event bearbeiten",title:"Titel",description:"Beschreibung",date:"Datum",time:"Zeit",startTime:"Startzeit",endTime:"Endzeit",location:"Ort",sport:"Sportart",format:{title:"Format",single:"Einzel",double:"Doppel"},singles:"Einzel",doubles:"Doppel",courts:"Plätze",maxPlayers:"Max. Spieler",participationFee:"Teilnahmegebühr",gameTime:"Spielzeit",status:{upcoming:"Anstehend",scheduled:"Geplant",draft:"Entwurf",running:"Läuft",completed:"Abgeschlossen",cancelled:"Abgesagt",past:"Vergangen",today:"Heute",unknown:"Unbekannt"},playMode:"Spielmodus",noTime:"Keine Zeit festgelegt",startTournament:"Turnier starten",unnamed:"Unbenanntes Event",create:"Event erstellen",myEvents:"Meine Events",noEvents:"Keine Events vorhanden",noDate:"Kein Datum festgelegt",noLocation:"Kein Ort festgelegt",type:{americano:"Americano"},playersRegistered:"{{current}} von {{max}} Spielern angemeldet",creating:"Event wird erstellt...",created:"Event erfolgreich erstellt",updating:"Event wird aktualisiert...",updated:"Event erfolgreich aktualisiert",deleting:"Event wird gelöscht...",deleted:"Event erfolgreich gelöscht",registrationDeadline:"Anmeldeschluss"},results:{standings:"Tabelle",rank:"Rang",player:"Spieler",points:"Punkte",gamesWon:"Spiele gewonnen",matches:"Partien",liveStandings:"Live-Tabelle",finalStandings:"Endstand",results:"Ergebnisse",score:"Ergebnis",winner:"Gewinner",enterResult:"Ergebnis eintragen",matchResults:"Spielergebnisse",allResults:"Alle Ergebnisse",gamesPlayed:"Gespielt",partners:"Partner",opponents:"Gegner",tournamentResults:"Turnier-Ergebnisse",position:"Platz",games:"Spiele",won:"Gewonnen",sets:"Sets",diff:"Diff",hide:"Ausblenden",resultEntered:"Ergebnis eingegeben"},table:{hide:"Tabelle ausblenden",show:"Tabelle anzeigen",hiddenByDirector:"Die Tabelle wurde vom Turnierdirektor ausgeblendet."},form:{createEvent:"Event erstellen",editEvent:"Event bearbeiten",basicInfo:"Grundinformationen",eventDetails:"Event-Details",gameSettings:"Spieleinstellungen",registration:"Anmeldung",eventTitle:"Event-Titel",eventDescription:"Beschreibung",eventDate:"Datum",eventLocation:"Ort",eventSport:"Sportart",eventFormat:"Format",numberOfCourts:"Anzahl Plätze",price:"Teilnahmegebühr",timeSettings:"Zeiteinstellungen",startTime:"Startzeit",endTime:"Endzeit",addBreak:"Pause hinzufügen",breakTime:"Pausenzeit",breakDuration:"Pausendauer",minutes:"Minuten",removeBreak:"Pause entfernen",totalTime:"Gesamtzeit",playerSettings:"Spielereinstellungen",maxPlayers:"Maximale Spieleranzahl",averageGameTime:"Durchschnittliche Spieldauer",minGamesPerPlayer:"Mindestspiele pro Spieler",registrationSettings:"Anmeldeeinstellungen",registrationDeadline:"Anmeldeschluss",allowPublicRegistration:"Öffentliche Anmeldung erlauben",genderRestriction:"Geschlechtsbeschränkung",openToAll:"Offen für alle",menOnly:"Nur Männer",womenOnly:"Nur Frauen",updateEvent:"Event aktualisieren",cancel:"Abbrechen",steps:{basics:"Grundinformationen",timeLocation:"Zeit & Ort",playMode:"Spielmodus",players:"Spieler",details:"Details"},visibility:"Sichtbarkeit",makePublic:"Öffentlich machen",publicDesc:"Jeder kann dieses Event sehen und sich anmelden",enableRegistration:"Anmeldung aktivieren",registrationDesc:"Spieler können sich selbst anmelden",summary:"Zusammenfassung",date:"Datum",time:"Zeit",location:"Ort",min:"Min",public:"Öffentlich",private:"Privat",roundDuration:"Rundendauer",playTimePerPerson:"Spielzeit pro Person",quickTemplates:"Schnellvorlagen",selectTemplate:"Vorlage auswählen",americano:"Americano",americanoDesc:"Spieler wechseln Partner jede Runde",tournament:"Turnier",tournamentDesc:"Klassisches Turnierformat",league:"Liga",leagueDesc:"Liga-Format mit mehreren Spieltagen",eventBasics:"Event-Grundlagen",eventName:"Event-Name",sport:"Sportart",entryFee:"Teilnahmegebühr",required:"Pflichtfeld",eventType:"Event-Typ",americanoTooltip:"Im Americano-Format wechseln die Spieler jede Runde ihre Partner",selectSportTooltip:"Wählen Sie die Sportart für dieses Event",eventDescriptionPlaceholder:"Beschreiben Sie Ihr Event...",when:"Wann",courtsTooltip:"Anzahl der verfügbaren Plätze",timeOverview:"Zeitübersicht",breaks:"Pausen",netPlayTime:"Netto-Spielzeit",possibleRounds:"Mögliche Runden",contactPhone:"Kontakt-Telefon",howToPlay:"Wie wird gespielt?",roundDurationTooltip:"Wie lange dauert eine Runde?",relaxed:"Entspannt",relaxedDesc:"Keine Garantien - flexibel spielen",balanced:"Ausgewogen",balancedDesc:"Garantierte Mindestanzahl an Spielen",intensive:"Intensiv",intensiveDesc:"Maximale Spielzeit für alle",advancedSettings:"Erweiterte Einstellungen",guaranteeGames:"Mindestspiele garantieren",guaranteeTime:"Mindestspielzeit garantieren",minPlayTime:"Mindestspielzeit",pauseName:"Pausenname",lunchBreak:"Mittagspause",coffeBreak:"Kaffeepause",recommendations:"Empfehlungen",optimal:"Optimal",optimalDesc:"Beste Balance zwischen Spiel- und Pausenzeiten",adopt:"Übernehmen",maximum:"Maximum",withGuarantees:"Mit Garantien",atLeast4Players:"Mindestens 4 Spieler erforderlich",warning:"Achtung",guaranteeWarning:"Mit {{players}} Spielern können die Garantien eventuell nicht eingehalten werden",recommendedMax:"Empfohlenes Maximum",preview:"Vorschau mit",gamesPerPerson:"Spiele pro Person",breakTime:"Pausenzeit",utilization:"Auslastung",additionalInfo:"Zusätzliche Informationen",noName:"Kein Name",notSpecified:"Nicht angegeben",saveChanges:"Änderungen speichern",proceedAnyway:"Trotzdem fortfahren?",genderMode:"Geschlechterkategorie",mixed:"Mixed",playMode:"Spielmodus",registrationOpen:"Anmeldung geöffnet"},player:{players:"Spieler",name:"Name",gender:"Geschlecht",male:"Männlich",female:"Weiblich",skill:"Spielstärke",email:"E-Mail",phone:"Telefon",add:"Spieler hinzufügen",edit:"Spieler bearbeiten",remove:"Spieler entfernen",database:"Spielerdatenbank",selectFromDatabase:"Aus Datenbank wählen",addFromDatabase:"Aus Datenbank hinzufügen",enterName:"Name eingeben",search:"Spieler suchen...",managePlayer:"Spieler verwalten",fromDatabase:"Aus Datenbank",level:"Level",addPlayer:"Spieler hinzufügen",details:"Details für",skillLevel:"Spielstärke",noPlayers:"Noch keine Spieler hinzugefügt",waitingPlayers:"Warteliste",alreadyRegistered:"{{name}} ist bereits angemeldet",demoPlayers:"Demo-Spieler für {{sport}}",adding:"Spieler werden hinzugefügt..."},schedule:{schedule:"Spielplan",generateSchedule:"Spielplan generieren",round:"Runde",court:"Platz",match:"Spiel",waitingPlayers:"Wartende Spieler",scheduled:"{{rounds}} Runden geplant",chooseSchedule:"Spielplan auswählen",scheduleVariants:"Wählen Sie eine der drei generierten Varianten für optimale Durchmischung:",variant:"Variante",overallFairness:"Gesamt-Fairness",partnerVariety:"Partner-Vielfalt",opponentVariety:"Gegner-Vielfalt",maxPartnerRepeat:"Max. Partner-Wdh.",maxPartnerRepeats:"Max. Partner-Wdh.",gameBalance:"Spiele-Balance",firstRounds:"Erste Runden",moreMatches:"weitere Spiele",selectVariant:"Diese Variante wählen",fairnessRating:"Fairness-Bewertung",excellent:"Exzellent",good:"Gut",acceptable:"Akzeptabel",needsImprovement:"Verbesserungswürdig",fairness:"Fairness",regenerate:"Neu generieren",rounds:"Runden",courts:"Plätze",showRealTimeTable:"Live-Tabelle anzeigen",tableOnlyWhenComplete:"Tabelle wird erst nach Turnierende angezeigt",scheduleAndResults:"Spielplan & Ergebnisse",avgFairness:"Ø Fairness",avgUniquePartners:"Ø Partner",avgUniqueOpponents:"Ø Gegner",chooseScheduleDescription:"Wählen Sie die Variante mit der besten Fairness-Bewertung",ratingExcellent:"Exzellent",ratingGood:"Gut",ratingAcceptable:"Akzeptabel",ratingNeedsImprovement:"Verbesserungswürdig",matchError:"Fehler in Paarung",fairnessScoreExplanation:"Die Fairness-Bewertung zeigt, wie gut Spieler durchgemischt wurden",fairnessExcellent:"Exzellente Durchmischung",fairnessGood:"Gute Durchmischung",fairnessAverage:"Durchschnittliche Durchmischung",fairnessLowVariation:"Wenig Variation"},timer:{timer:"Timer",start:"Start",pause:"Pause",resume:"Fortsetzen",stop:"Stop",reset:"Zurücksetzen",roundTime:"Rundenzeit",roundTimer:"Rundentimer",continue:"Fortsetzen"},tournament:{running:"Turnier läuft",currentRound:"Aktuelle Runde",standings:"Tabelle",liveStandings:"Live-Tabelle",position:"Platz",points:"Punkte",games:"Spiele",gamesWon:"Gewonnen",completeTournament:"Turnier beenden",cancelTournament:"Turnier abbrechen",allMatchesComplete:"Alle Spiele abgeschlossen",nextRound:"Nächste Runde",previousRound:"Vorherige Runde",currentGames:"Aktuelle Spiele",waitingPlayers:"Wartende Spieler",roundNavigation:"Runden-Navigation",vs:"vs",previous:"Zurück",next:"Weiter",needMorePlayers:"Mindestens 4 Spieler benötigt",readyToStart:"Bereit zum Starten",started:"Turnier gestartet!",completed:"Turnier erfolgreich abgeschlossen!",resultsProcessing:"Ergebnisse werden verarbeitet..."},messages:{eventFull:"Veranstaltung ausgebucht",confirmDelete:"Möchten Sie dieses Event wirklich löschen?",minPlayersForSchedule:"Mindestens 4 Spieler erforderlich für Spielplan-Generierung",tournamentComplete:"Turnier abgeschlossen!",eventDatePast:"Das Event-Datum liegt in der Vergangenheit",minPlayersNeeded:"Noch {{count}} Spieler benötigt",waitingForSchedule:"Warte auf Spielplan-Generierung durch Turnierdirektor",saveSuccess:"Erfolgreich gespeichert",deleteSuccess:"Erfolgreich gelöscht",error:"Ein Fehler ist aufgetreten",tournamentManagement:"Turnierverwaltung",currentGames:"Aktuelle Spiele",tableSettings:"Tabellen-Einstellungen",errorGeneratingSchedule:"Fehler beim Generieren des Spielplans",minPlayersRequired:"Mindestens 4 Spieler erforderlich",eventNotLoaded:"Event konnte nicht geladen werden",enterBothScores:"Bitte beide Ergebnisse eingeben",note:"Hinweis",demoPlayerList:"Dies ist eine Demo-Spielerliste",noteEvent:"Hinweis: Dieses Event ist nur für {{gender}}",playerAlreadyRegistered:"{{name}} ist bereits für dieses Event angemeldet"},network:{offline:"Keine Internetverbindung. Die App arbeitet im Offline-Modus.",backOnline:"Verbindung wiederhergestellt"},errors:{network:{title:"Verbindungsfehler",message:"Bitte prüfen Sie Ihre Internetverbindung und versuchen Sie es erneut.",action:"Erneut versuchen"},auth:{title:"Anmeldung fehlgeschlagen",message:"Ihre Anmeldedaten sind ungültig oder abgelaufen.",action:"Erneut anmelden"},database:{title:"Speicherfehler",message:"Die Daten konnten nicht gespeichert werden. Versuchen Sie es erneut.",action:"Erneut versuchen"},validation:{title:"Eingabefehler",message:"Bitte überprüfen Sie Ihre Eingaben.",action:"Korrigieren"},unknown:{title:"Unbekannter Fehler",message:"Ein unerwarteter Fehler ist aufgetreten.",action:"Erneut versuchen"},localStorage:"Lokale Daten konnten nicht geladen werden.",localStorageSave:"Lokale Speicherung fehlgeschlagen."},eventTypes:{americano:"Americano",roundRobin:"Jeder gegen Jeden",swiss:"Schweizer System",knockout:"K.O.-System"},sports:{padel:"Padel",pickleball:"Pickleball",spinxball:"SpinXball"},buttons:{add:"Hinzufügen",remove:"Entfernen",edit:"Bearbeiten",save:"Speichern",cancel:"Abbrechen",delete:"Löschen",close:"Schließen",confirm:"Bestätigen",back:"Zurück",next:"Weiter",finish:"Fertigstellen",create:"Erstellen",update:"Aktualisieren",search:"Suchen",filter:"Filtern",export:"Exportieren",import:"Importieren",print:"Drucken",share:"Teilen",refresh:"Aktualisieren",selectVariant:"Variante wählen"},database:{title:"Spielerdatenbank",playerDatabase:"Spielerdatenbank",selectPlayers:"Spieler auswählen",importExcel:"Excel importieren",exportExcel:"Excel exportieren",addDemoPlayers:"Demo-Spieler hinzufügen",search:"Nach Name oder E-Mail suchen...",selected:"{{count}} ausgewählt",noPlayers:"Keine Spieler in der Datenbank",importSuccess:"{{count}} Spieler importiert",exportSuccess:"Spieler exportiert",columns:{name:"Name",email:"E-Mail",phone:"Telefon",gender:"Geschlecht",skillPadel:"Padel",skillPickleball:"Pickleball",skillSpinxball:"SpinXball"},showOnlyFor:"Zeige nur Spieler für {{sport}}",men:"Herren",women:"Damen",newPlayer:"Neuer Spieler",excelImport:"Excel Import",templateAndInstructions:"Vorlage & Anleitung",allAvailable:"Alle verfügbaren",selectAll:"alle auswählen",deselectAll:"abwählen",playersFound:"{{count}} Spieler gefunden, {{available}} verfügbar",edit:"Bearbeiten",delete:"Löschen",age:"Jahre",close:"Schließen",importPlayers:"{{count}} Spieler importieren",playersSelected:"{{count}} Spieler ausgewählt",cleanDuplicates:"Duplikate bereinigen",loadingPlayers:"Lade Spieler...",errorLoading:"Fehler beim Laden der Spieler",errorSaving:"Fehler beim Speichern",confirmDeletePlayer:"Möchten Sie diesen Spieler wirklich löschen?",alreadyRegistered:"bereits angemeldet",atLeastOneSport:"Mindestens eine Sportart muss ausgewählt werden",duplicateExists:"{{name}} existiert bereits. Trotzdem hinzufügen?",importCompleted:"Import abgeschlossen",newImported:"neue Spieler importiert",skipped:"übersprungen (bereits vorhanden)",errors:"Fehler",noValidPlayers:"Keine gültigen Spieler zum Importieren gefunden",errorReadingExcel:"Fehler beim Lesen der Excel-Datei",birthday:"Geburtstag",city:"Stadt",country:"Land",nationality:"Nationalität",clubAssociation:"Verein",duprIdOptional:"DUPR ID (optional)",optional:"optional",duprDescription:"Dynamic Universal Pickleball Rating ID",sports:"Sportarten",editPlayer:"Spieler bearbeiten",addPlayer:"Spieler hinzufügen",saveChanges:"Änderungen speichern",noDuplicatesFound:"Keine Duplikate gefunden",foundDuplicates:"Folgende Duplikate wurden gefunden",totalDuplicates:"Insgesamt {{count}} Duplikate",confirmDeleteDuplicates:"Möchten Sie die Duplikate löschen?",duplicatesDeleted:"{{count}} Duplikate wurden gelöscht",errorCleaning:"Fehler beim Bereinigen der Duplikate",noMatchingPlayers:"Keine passenden Spieler für dieses Event gefunden",noPlayersFound:"Keine Spieler gefunden"},playerManagement:{beginner:"Anfänger",advancedBeginner:"Fortgeschrittener Anfänger",lowerIntermediate:"Unteres Mittelfeld",goodIntermediate:"Gutes Mittelfeld",upperIntermediate:"Oberes Mittelfeld",advancedPro:"Fortgeschrittener/Profi",advanced:"Fortgeschrittener",good:"Gut",veryGood:"Sehr gut",expert:"Experte",menOnly:"Nur für Herren",womenOnly:"Nur für Damen",menEventNote:"Hinweis: Dies ist ein Herren-Event",womenEventNote:"Hinweis: Dies ist ein Damen-Event"}},es:{app:{title:"Play2 Tournament",loading:"Cargando...",noEventsSelected:"Selecciona un evento o crea uno nuevo",selectEventOrCreate:"Selecciona un evento o crea uno nuevo",selectEventToView:"Selecciona un evento para ver los detalles",error:"Ha ocurrido un error",backToOverview:"Volver al resumen",loadingProfile:"Cargando perfil...",loadingEvents:"Cargando eventos...",offlineMode:"Modo sin conexión: Eventos cargados desde almacenamiento local",saving:"Guardando...",saved:"Guardado exitosamente",backToEventOverview:"Volver al resumen del evento"},navigation:{home:"Inicio",events:"Eventos",players:"Jugadores",settings:"Configuración",logout:"Cerrar sesión",edit:"Editar",delete:"Eliminar",close:"Cerrar",save:"Guardar",cancel:"Cancelar",back:"Atrás",next:"Siguiente",finish:"Finalizar"},auth:{login:"Iniciar sesión",signup:"Registrarse",email:"Correo electrónico",password:"Contraseña",confirmPassword:"Confirmar contraseña",forgotPassword:"¿Olvidaste tu contraseña?",loginButton:"Iniciar sesión",signupButton:"Registrarse",roleSelection:"Soy...",player:"Jugador",tournamentDirector:"Director de torneo",noAccount:"¿No tienes cuenta?",alreadyHaveAccount:"¿Ya tienes cuenta?",createAccount:"Crear cuenta",checkEmail:"Por favor revisa tu correo para confirmar",loginSuccess:"Sesión iniciada correctamente",loading:"Cargando...",loggingOut:"Cerrando sesión...",loggedOut:"Sesión cerrada correctamente"},userMenu:{profile:"Perfil",settings:"Configuración",logout:"Cerrar sesión",tournamentDirector:"Director de torneo",player:"Jugador"},event:{new:"Nuevo evento",edit:"Editar evento",title:"Título",description:"Descripción",date:"Fecha",time:"Hora",startTime:"Hora de inicio",endTime:"Hora de fin",location:"Ubicación",sport:"Deporte",format:{title:"Formato",single:"Individual",double:"Dobles"},singles:"Individual",doubles:"Dobles",courts:"Pistas",maxPlayers:"Máx. jugadores",participationFee:"Cuota de participación",gameTime:"Tiempo de juego",status:{upcoming:"Próximo",scheduled:"Programado",draft:"Borrador",running:"En curso",completed:"Completado",cancelled:"Cancelado",past:"Pasado",today:"Hoy",unknown:"Desconocido"},playMode:"Modo de juego",noTime:"Sin hora establecida",startTournament:"Iniciar torneo",unnamed:"Evento sin nombre",create:"Crear evento",myEvents:"Mis eventos",noEvents:"No hay eventos disponibles",noDate:"Sin fecha establecida",noLocation:"Sin ubicación establecida",type:{americano:"Americano"},playersRegistered:"{{current}} de {{max}} jugadores registrados",creating:"Creando evento...",created:"Evento creado exitosamente",updating:"Actualizando evento...",updated:"Evento actualizado exitosamente",deleting:"Eliminando evento...",deleted:"Evento eliminado exitosamente",registrationDeadline:"Fecha límite de inscripción"},results:{standings:"Clasificación",rank:"Puesto",player:"Jugador",points:"Puntos",gamesWon:"Juegos Ganados",matches:"Partidos",liveStandings:"Clasificación en Vivo",finalStandings:"Clasificación Final",results:"Resultados",score:"Puntuación",winner:"Ganador",enterResult:"Introducir resultado",matchResults:"Resultados de partidos",allResults:"Todos los resultados",gamesPlayed:"Jugados",partners:"Compañeros",opponents:"Oponentes",tournamentResults:"Resultados del torneo",position:"Posición",games:"Juegos",won:"Ganados",sets:"Sets",diff:"Diff",hide:"Ocultar",resultEntered:"Resultado ingresado"},table:{hide:"Ocultar tabla",show:"Mostrar tabla",hiddenByDirector:"La tabla ha sido ocultada por el director del torneo."},form:{createEvent:"Crear Evento",editEvent:"Editar Evento",basicInfo:"Información básica",eventDetails:"Detalles del evento",gameSettings:"Configuración de juego",registration:"Inscripción",eventTitle:"Título del evento",eventDescription:"Descripción",eventDate:"Fecha",eventLocation:"Ubicación",eventSport:"Deporte",eventFormat:"Formato",numberOfCourts:"Número de pistas",price:"Cuota de participación",timeSettings:"Configuración de tiempo",startTime:"Hora de inicio",endTime:"Hora de fin",addBreak:"Añadir descanso",breakTime:"Hora del descanso",breakDuration:"Duración del descanso",minutes:"Minutos",removeBreak:"Eliminar descanso",totalTime:"Tiempo total",playerSettings:"Configuración de jugadores",maxPlayers:"Número máximo de jugadores",averageGameTime:"Duración promedio del juego",minGamesPerPlayer:"Juegos mínimos por jugador",registrationSettings:"Configuración de inscripción",registrationDeadline:"Fecha límite de inscripción",allowPublicRegistration:"Permitir inscripción pública",genderRestriction:"Restricción de género",openToAll:"Abierto a todos",menOnly:"Solo hombres",womenOnly:"Solo mujeres",updateEvent:"Actualizar evento",cancel:"Cancelar",steps:{basics:"Información básica",timeLocation:"Fecha y lugar",playMode:"Modo de juego",players:"Jugadores",details:"Detalles"},visibility:"Visibilidad",makePublic:"Hacer público",publicDesc:"Cualquiera puede ver y registrarse en este evento",enableRegistration:"Habilitar inscripción",registrationDesc:"Permitir que los jugadores se inscriban ellos mismos",summary:"Resumen",date:"Fecha",time:"Hora",location:"Ubicación",min:"min",public:"Público",private:"Privado",roundDuration:"Duración de ronda",playTimePerPerson:"Tiempo de juego por persona",quickTemplates:"Plantillas rápidas",selectTemplate:"Seleccionar plantilla",americano:"Americano",americanoDesc:"Los jugadores cambian de pareja cada ronda",tournament:"Torneo",tournamentDesc:"Formato de torneo clásico",league:"Liga",leagueDesc:"Formato de liga con múltiples jornadas",eventBasics:"Datos básicos del evento",eventName:"Nombre del evento",sport:"Deporte",entryFee:"Cuota de entrada",required:"Obligatorio",eventType:"Tipo de evento",americanoTooltip:"En formato Americano, los jugadores cambian de pareja cada ronda",selectSportTooltip:"Selecciona el deporte para este evento",eventDescriptionPlaceholder:"Describe tu evento...",when:"Cuándo",courtsTooltip:"Número de pistas disponibles",timeOverview:"Resumen de tiempo",breaks:"Descansos",netPlayTime:"Tiempo neto de juego",possibleRounds:"Rondas posibles",contactPhone:"Teléfono de contacto",howToPlay:"Cómo se juega",roundDurationTooltip:"¿Cuánto dura una ronda?",relaxed:"Relajado",relaxedDesc:"Sin garantías - jugar con flexibilidad",balanced:"Equilibrado",balancedDesc:"Número mínimo garantizado de juegos",intensive:"Intensivo",intensiveDesc:"Tiempo máximo de juego para todos",advancedSettings:"Configuración avanzada",guaranteeGames:"Garantizar juegos mínimos",guaranteeTime:"Garantizar tiempo mínimo de juego",minPlayTime:"Tiempo mínimo de juego",pauseName:"Nombre del descanso",lunchBreak:"Descanso para almorzar",coffeBreak:"Descanso para café",recommendations:"Recomendaciones",optimal:"Óptimo",optimalDesc:"Mejor equilibrio entre tiempo de juego y descansos",adopt:"Adoptar",maximum:"Máximo",withGuarantees:"Con garantías",atLeast4Players:"Se requieren al menos 4 jugadores",warning:"Advertencia",guaranteeWarning:"Con {{players}} jugadores, las garantías podrían no cumplirse",recommendedMax:"Máximo recomendado",preview:"Vista previa con",gamesPerPerson:"Juegos por persona",breakTime:"Tiempo de descanso",utilization:"Utilización",additionalInfo:"Información adicional",noName:"Sin nombre",notSpecified:"No especificado",saveChanges:"Guardar cambios",proceedAnyway:"¿Proceder de todos modos?",genderMode:"Categoría de género",mixed:"Mixto",playMode:"Modo de juego",registrationOpen:"Registro abierto"},player:{players:"Jugadores",name:"Nombre",gender:"Género",male:"Masculino",female:"Femenino",skill:"Nivel",email:"Correo",phone:"Teléfono",add:"Añadir jugador",edit:"Editar jugador",remove:"Eliminar jugador",database:"Base de datos de jugadores",selectFromDatabase:"Seleccionar de base de datos",addFromDatabase:"Desde base de datos",enterName:"Introducir nombre",search:"Buscar jugadores...",managePlayer:"Gestionar jugadores",fromDatabase:"Desde base de datos",level:"Nivel",addPlayer:"Añadir jugador",details:"Detalles de",skillLevel:"Nivel de juego",noPlayers:"Aún no se han añadido jugadores",waitingPlayers:"Lista de espera",alreadyRegistered:"{{name}} ya está registrado",demoPlayers:"Jugadores de demostración para {{sport}}",adding:"Añadiendo jugadores..."},schedule:{schedule:"Calendario",generateSchedule:"Generar calendario",round:"Ronda",court:"Pista",match:"Partido",waitingPlayers:"Jugadores esperando",scheduled:"{{rounds}} rondas programadas",chooseSchedule:"Elegir calendario",scheduleVariants:"Elige una de las tres variantes generadas para una mezcla óptima:",variant:"Variante",overallFairness:"Equidad general",partnerVariety:"Variedad de parejas",opponentVariety:"Variedad de oponentes",maxPartnerRepeat:"Máx. repetición pareja",maxPartnerRepeats:"Máx. repeticiones pareja",gameBalance:"Balance de juegos",firstRounds:"Primeras rondas",moreMatches:"más partidos",selectVariant:"Seleccionar esta variante",fairnessRating:"Calificación de equidad",excellent:"Excelente",good:"Bueno",acceptable:"Aceptable",needsImprovement:"Necesita mejora",fairness:"Equidad",regenerate:"Regenerar",rounds:"Rondas",courts:"Pistas",showRealTimeTable:"Mostrar tabla en vivo",tableOnlyWhenComplete:"La tabla solo se mostrará al finalizar el torneo",scheduleAndResults:"Calendario y resultados",avgFairness:"Equidad prom.",avgUniquePartners:"Parejas prom.",avgUniqueOpponents:"Oponentes prom.",chooseScheduleDescription:"Elige la variante con la mejor calificación de equidad",ratingExcellent:"Excelente",ratingGood:"Bueno",ratingAcceptable:"Aceptable",ratingNeedsImprovement:"Necesita mejora",matchError:"Error en emparejamiento",fairnessScoreExplanation:"La calificación de equidad muestra qué tan bien se mezclaron los jugadores",fairnessExcellent:"Excelente mezcla",fairnessGood:"Buena mezcla",fairnessAverage:"Mezcla promedio",fairnessLowVariation:"Poca variación"},timer:{timer:"Cronómetro",start:"Iniciar",pause:"Pausar",resume:"Reanudar",stop:"Detener",reset:"Reiniciar",roundTime:"Tiempo de ronda",roundTimer:"Cronómetro de ronda",continue:"Continuar"},tournament:{running:"Torneo en curso",currentRound:"Ronda actual",standings:"Clasificación",liveStandings:"Clasificación en vivo",position:"Posición",points:"Puntos",games:"Juegos",gamesWon:"Ganados",completeTournament:"Finalizar torneo",cancelTournament:"Cancelar torneo",allMatchesComplete:"Todos los partidos completados",nextRound:"Siguiente ronda",previousRound:"Ronda anterior",currentGames:"Juegos actuales",waitingPlayers:"Jugadores esperando",roundNavigation:"Navegación de rondas",vs:"vs",previous:"Atrás",next:"Siguiente",needMorePlayers:"Se necesitan al menos 4 jugadores",readyToStart:"Listo para empezar",started:"¡Torneo iniciado!",completed:"¡Torneo completado exitosamente!",resultsProcessing:"Procesando resultados..."},messages:{eventFull:"Evento completo",confirmDelete:"¿Estás seguro de que quieres eliminar este evento?",minPlayersForSchedule:"Se requieren al menos 4 jugadores para generar el calendario",tournamentComplete:"¡Torneo completado!",eventDatePast:"La fecha del evento ya pasó",minPlayersNeeded:"Faltan {{count}} jugadores",waitingForSchedule:"Esperando generación de calendario por el director del torneo",saveSuccess:"Guardado correctamente",deleteSuccess:"Eliminado correctamente",error:"Ha ocurrido un error",tournamentManagement:"Gestión del torneo",currentGames:"Juegos actuales",tableSettings:"Configuración de tabla",errorGeneratingSchedule:"Error al generar el calendario",minPlayersRequired:"Se requieren al menos 4 jugadores",eventNotLoaded:"No se pudo cargar el evento",enterBothScores:"Por favor introduce ambas puntuaciones",note:"Nota",demoPlayerList:"Esta es una lista de jugadores de demostración",noteEvent:"Nota: Este evento es solo para {{gender}}",playerAlreadyRegistered:"{{name}} ya está registrado para este evento"},network:{offline:"Sin conexión a internet. La aplicación funciona en modo sin conexión.",backOnline:"Conexión restaurada"},errors:{network:{title:"Error de conexión",message:"Por favor revisa tu conexión a internet e inténtalo de nuevo.",action:"Reintentar"},auth:{title:"Error de autenticación",message:"Tus credenciales son inválidas o han expirado.",action:"Iniciar sesión nuevamente"},database:{title:"Error de almacenamiento",message:"Los datos no pudieron guardarse. Inténtalo de nuevo.",action:"Reintentar"},validation:{title:"Error de validación",message:"Por favor revisa tus datos.",action:"Corregir"},unknown:{title:"Error desconocido",message:"Ha ocurrido un error inesperado.",action:"Reintentar"},localStorage:"No se pudieron cargar los datos locales.",localStorageSave:"Error al guardar localmente."},eventTypes:{americano:"Americano",roundRobin:"Todos contra todos",swiss:"Sistema suizo",knockout:"Eliminación directa"},sports:{padel:"Pádel",pickleball:"Pickleball",spinxball:"SpinXball"},buttons:{add:"Añadir",remove:"Eliminar",edit:"Editar",save:"Guardar",cancel:"Cancelar",delete:"Eliminar",close:"Cerrar",confirm:"Confirmar",back:"Atrás",next:"Siguiente",finish:"Finalizar",create:"Crear",update:"Actualizar",search:"Buscar",filter:"Filtrar",export:"Exportar",import:"Importar",print:"Imprimir",share:"Compartir",refresh:"Actualizar",selectVariant:"Seleccionar Variante"},database:{title:"Base de datos de jugadores",playerDatabase:"Base de datos de jugadores",selectPlayers:"Seleccionar jugadores",importExcel:"Importar Excel",exportExcel:"Exportar Excel",addDemoPlayers:"Añadir jugadores demo",search:"Buscar por nombre o correo...",selected:"{{count}} seleccionados",noPlayers:"No hay jugadores en la base de datos",importSuccess:"{{count}} jugadores importados",exportSuccess:"Jugadores exportados",columns:{name:"Nombre",email:"Correo",phone:"Teléfono",gender:"Género",skillPadel:"Pádel",skillPickleball:"Pickleball",skillSpinxball:"SpinXball"},showOnlyFor:"Mostrar solo jugadores para {{sport}}",men:"Hombres",women:"Mujeres",newPlayer:"Nuevo jugador",excelImport:"Importar Excel",templateAndInstructions:"Plantilla e instrucciones",allAvailable:"Todos disponibles",selectAll:"seleccionar todos",deselectAll:"deseleccionar todos",playersFound:"{{count}} jugadores encontrados, {{available}} disponibles",edit:"Editar",delete:"Eliminar",age:"años",close:"Cerrar",importPlayers:"Importar {{count}} jugadores",playersSelected:"{{count}} jugadores seleccionados",cleanDuplicates:"Limpiar duplicados",loadingPlayers:"Cargando jugadores...",errorLoading:"Error al cargar jugadores",errorSaving:"Error al guardar",confirmDeletePlayer:"¿Estás seguro de que quieres eliminar este jugador?",alreadyRegistered:"ya registrado",atLeastOneSport:"Se debe seleccionar al menos un deporte",duplicateExists:"{{name}} ya existe. ¿Añadir de todos modos?",importCompleted:"Importación completada",newImported:"nuevos jugadores importados",skipped:"omitidos (ya existen)",errors:"errores",noValidPlayers:"No se encontraron jugadores válidos para importar",errorReadingExcel:"Error al leer el archivo Excel",birthday:"Fecha de nacimiento",city:"Ciudad",country:"País",nationality:"Nacionalidad",clubAssociation:"Club",duprIdOptional:"DUPR ID (opcional)",optional:"opcional",duprDescription:"Dynamic Universal Pickleball Rating ID",sports:"Deportes",editPlayer:"Editar jugador",addPlayer:"Añadir jugador",saveChanges:"Guardar cambios",noDuplicatesFound:"No se encontraron duplicados",foundDuplicates:"Se encontraron los siguientes duplicados",totalDuplicates:"Total {{count}} duplicados",confirmDeleteDuplicates:"¿Quieres eliminar los duplicados?",duplicatesDeleted:"{{count}} duplicados eliminados",errorCleaning:"Error al limpiar duplicados",noMatchingPlayers:"No se encontraron jugadores coincidentes para este evento",noPlayersFound:"No se encontraron jugadores"},playerManagement:{beginner:"Principiante",advancedBeginner:"Principiante avanzado",lowerIntermediate:"Intermedio bajo",goodIntermediate:"Intermedio bueno",upperIntermediate:"Intermedio alto",advancedPro:"Avanzado/Profesional",advanced:"Avanzado",good:"Bueno",veryGood:"Muy bueno",expert:"Experto",menOnly:"Solo hombres",womenOnly:"Solo mujeres",menEventNote:"Nota: Este es un evento masculino",womenEventNote:"Nota: Este es un evento femenino"}}},Bt=(e,t)=>{if(!e||!t)return e||"";let n=e;return Object.keys(t).forEach(e=>{n=n.replace(new RegExp(`{{${e}}}`,"g"),t[e])}),n},Ut=c.createContext(),qt=({children:e})=>{const[t,n]=c.useState(()=>localStorage.getItem("preferredLanguage")||"de");return o.jsx(Ut.Provider,{value:{language:t,changeLanguage:e=>{n(e),localStorage.setItem("preferredLanguage",e)},t:e=>{const n=String(e||"");if(!n)return"";try{const e=n.split(".");let r=Ft[t]||Ft.de;for(const t of e){if(!r||"object"!=typeof r||!(t in r)){let t=Ft.de;for(const r of e){if(!t||"object"!=typeof t||!(r in t))return n;t=t[r]}return"string"==typeof t?t:n}r=r[t]}return"string"==typeof r?r:n}catch(r){return n}}},children:e})},Wt=()=>{const e=c.useContext(Ut);return e||{language:"de",changeLanguage:()=>{},t:e=>e}},Vt=()=>{const{language:e,changeLanguage:t}=Wt(),[n,r]=c.useState(!1),a=[{code:"de",name:"Deutsch",flag:"🇩🇪"},{code:"en",name:"English",flag:"🇬🇧"},{code:"es",name:"Español",flag:"🇪🇸"}],s=a.find(t=>t.code===e)||a[0];return o.jsxs("div",{className:"relative",children:[o.jsxs("button",{onClick:()=>r(!n),onBlur:()=>setTimeout(()=>r(!1),200),className:"flex items-center gap-2 px-3 py-2 rounded-lg hover:bg-gray-100 transition-colors","aria-label":"Select language",children:[o.jsx(xt,{className:"w-5 h-5 text-gray-600"}),o.jsx("span",{className:"text-2xl",children:s.flag}),o.jsx("span",{className:"hidden sm:inline text-sm font-medium",children:s.name})]}),n&&o.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 z-50",children:a.map(n=>o.jsxs("button",{onClick:()=>{t(n.code),r(!1)},className:`\n                w-full flex items-center gap-3 px-4 py-2 text-left hover:bg-gray-50 transition-colors\n                ${e===n.code?"bg-blue-50 text-blue-600":""}\n                ${"de"===n.code?"rounded-t-lg":""}\n                ${"es"===n.code?"rounded-b-lg":""}\n              `,children:[o.jsx("span",{className:"text-2xl",children:n.flag}),o.jsx("span",{className:"font-medium",children:n.name}),e===n.code&&o.jsx("span",{className:"ml-auto text-blue-600",children:"✓"})]},n.code))})]})},Ht=({events:e,selectedEvent:t,onSelectEvent:n,onDeleteEvent:r,canManageEvents:a})=>{var s;const i=(null==(s=Wt())?void 0:s.t)||(e=>e),l=c.useRef(0),u=c.useRef(0),d=c.useCallback(e=>{if(!e)return null;try{if(e.startsWith("000")||e.length<8)return null;let t;if(e.includes("T"))t=new Date(e.split("T")[0]+"T00:00:00");else if(e.includes("-")){const[n,r,a]=e.split("-").map(Number);if(n<2020||n>2030)return null;t=new Date(n,r-1,a)}else t=new Date(e);return isNaN(t.getTime())?null:t}catch(t){return null}},[]),h=c.useCallback(e=>{if("completed"===e.status)return i("event.status.completed");if("running"===e.status)return i("event.status.running");const t=d(e.date);if(!t)return i("event.status.unknown")||"Unknown";const n=new Date,r=new Date(n.getFullYear(),n.getMonth(),n.getDate()),a=new Date(t.getFullYear(),t.getMonth(),t.getDate()),s=Math.floor((a.getTime()-r.getTime())/864e5);if(s<0)return i("event.status.past");if(0===s){if(e.endTime||e.end_time)try{const t=e.endTime||e.end_time,[r,a]=t.split(":").map(Number),s=new Date;if(s.setHours(r,a,0,0),n>s)return i("event.status.past")}catch(l){}return i("event.status.today")}return i("event.status.upcoming")},[d,i]),p=c.useCallback(e=>({Abgeschlossen:"text-gray-500",Laufend:"text-green-600",Heute:"text-blue-600",Vergangen:"text-red-600",Geplant:"text-gray-700",Anstehend:"text-gray-700",Unbekannt:"text-gray-400",Completado:"text-gray-500","En curso":"text-green-600",Hoy:"text-blue-600",Pasado:"text-red-600","Próximo":"text-gray-700",Desconocido:"text-gray-400",Completed:"text-gray-500",Running:"text-green-600",Today:"text-blue-600",Past:"text-red-600",Upcoming:"text-gray-700",Unknown:"text-gray-400"}[e]||"text-gray-700"),[]),m=c.useMemo(()=>e&&Array.isArray(e)?[...e].sort((e,t)=>{try{const n=d(e.date),r=d(t.date);return n||r?n?r?r.getTime()-n.getTime():-1:1:0}catch(n){return 0}}):[],[e,d]),f=c.useCallback(e=>{n&&"function"==typeof n&&n(e)},[n]),g=c.useCallback(e=>{l.current=Date.now(),u.current=e.touches[0].clientY},[]),y=c.useCallback((e,t)=>{Date.now();l.current;const n=e.changedTouches[0].clientY;Math.abs(n-u.current)<10&&(e.preventDefault(),e.stopPropagation(),f(t))},[f]),v=c.useCallback((e,t)=>{e.stopPropagation(),e.preventDefault(),window.confirm(i("messages.confirmDelete"))&&r&&"function"==typeof r&&r(t)},[r,i]),b=c.useCallback(e=>{if(!e)return i("event.noDate")||"Kein Datum";const t=d(e);if(!t)return e;try{return t.toLocaleDateString("de-DE",{weekday:"short",year:"numeric",month:"short",day:"numeric"})}catch(n){return e||"Invalid Date"}},[d,i]);return o.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[o.jsx("h2",{className:"text-xl font-bold mb-4",children:i("event.myEvents")}),0===m.length?o.jsx("p",{className:"text-gray-500 text-center py-8",children:i("event.noEvents")||"Keine Events vorhanden"}):o.jsx("div",{className:"space-y-3",children:m.map(e=>{var n;const r=h(e),s=(null==t?void 0:t.id)===e.id;return o.jsxs("div",{onTouchStart:g,onTouchEnd:t=>y(t,e),onClick:t=>{"ontouchstart"in window||f(e)},role:"button",tabIndex:0,onKeyPress:t=>{"Enter"!==t.key&&" "!==t.key||f(e)},className:"p-4 rounded-lg transition-all select-none cursor-pointer "+(s?"bg-blue-50 border-2 border-blue-500":"bg-gray-50 border-2 border-transparent hover:bg-gray-100"),style:{WebkitTapHighlightColor:"transparent",touchAction:"manipulation",userSelect:"none",WebkitUserSelect:"none",WebkitTouchCallout:"none",msUserSelect:"none",MozUserSelect:"none"},children:[o.jsxs("div",{className:"flex justify-between items-start mb-2",children:[o.jsx("h3",{className:"font-semibold text-lg",children:$t(e.title||e.name)||i("event.unnamed")||"Unbenanntes Event"}),o.jsx("span",{className:`text-sm font-medium ${p(r)}`,children:r})]}),o.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ot,{className:"w-4 h-4"}),o.jsx("span",{children:b(e.date)})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(gt,{className:"w-4 h-4"}),o.jsxs("span",{children:[e.startTime||e.start_time," - ",e.endTime||e.end_time]})]}),e.location&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(St,{className:"w-4 h-4"}),o.jsx("span",{children:e.location})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Ot,{className:"w-4 h-4"}),o.jsxs("span",{children:[(null==(n=e.players)?void 0:n.length)||0," / ",e.maxPlayers||e.max_players||16," ",i("player.players")]})]})]}),o.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[o.jsxs("div",{className:"flex gap-2",children:[o.jsx("span",{className:"text-xs bg-gray-200 px-2 py-1 rounded",children:"padel"===e.sport?i("sports.padel"):"pickleball"===e.sport?i("sports.pickleball"):i("sports.spinxball")}),(e.isAmericano||"americano"===e.event_type||"americano"===e.eventType)&&o.jsx("span",{className:"text-xs bg-purple-200 px-2 py-1 rounded",children:i("eventTypes.americano")}),e.genderMode&&"open"!==e.genderMode&&"mixed"!==e.genderMode&&o.jsx("span",{className:"text-xs bg-pink-200 px-2 py-1 rounded",children:"men"===e.genderMode||"menOnly"===e.genderMode?i("player.male"):i("player.female")})]}),a&&o.jsx("button",{onClick:t=>v(t,e.id),onTouchEnd:e=>{e.stopPropagation()},className:"text-red-500 hover:text-red-700 text-sm px-3 py-1 -mr-2 rounded hover:bg-red-50 active:bg-red-100 transition-colors",style:{touchAction:"manipulation"},children:i("navigation.delete")})]})]},e.id)})})]})},Gt=(e,t,n,r)=>{if(!e||e<4||!t||t<1||!n||n<1)return{score:0,status:"invalid",message:"Mindestens 4 Spieler erforderlich",color:"red",icon:"❌",factors:{gameBalance:0,partnerVariety:0,opponentVariety:0,restFairness:0},restingPlayersPerRound:0,recommendations:[]};try{const r=Math.min(t,Math.floor(e/4)),a=4*r,s=Math.max(0,e-a);let i=50;const l=n*r*4/e,o=e-1,c=Math.min(o,.8*l),u=o>0?c/o:0;let d=0;d=e<=8?Math.min(85,40+50*u):e<=16?Math.min(75,30+60*u):e<=24?Math.min(65,20+55*u):Math.min(55,15+45*u);let h=80;if(s>0){h-=100*(s/e),n>=Math.ceil(e/a)&&(h+=20)}h=Math.max(20,Math.min(100,h));const p=Math.min(o,1.5*l),m=o>0?p/o:0;let f=Math.min(80,30+60*m),g=70;const y=t/e;y>.25?g+=20:y<.1&&(g-=30);let v,b,x,w,k=70;return l<3?k-=30:l>6&&(k+=15),i=Math.round(.4*d+.25*h+.2*f+.1*g+.05*k),e>6*t&&(i-=15),n<6&&(i-=10),e>=8&&e<=20&&t>=2&&(i+=5),i=Math.max(10,Math.min(85,i)),i>=70?(v="excellent",b="Sehr gute Fairness - empfohlen für optimalen Spielspaß",x="green",w="🎯"):i>=60?(v="good",b="Gute Fairness - funktioniert gut für Americano",x="blue",w="👍"):i>=50?(v="acceptable",b="Akzeptable Fairness - mit kleineren Kompromissen",x="yellow",w="⚠️"):i>=40?(v="poor",b="Mäßige Fairness - kann zu Unzufriedenheit führen",x="orange",w="📉"):(v="terrible",b="Schlechte Fairness - nicht empfohlen für Americano",x="red",w="❌"),{score:i,status:v,message:b,color:x,icon:w,factors:{gameBalance:Math.round(h)||0,partnerVariety:Math.round(d)||0,opponentVariety:Math.round(f)||0,restFairness:Math.round(g)||0},restingPlayersPerRound:s||0,recommendations:Kt(i,e,t,n)||[]}}catch(a){return{score:30,status:"poor",message:"Fairness konnte nicht berechnet werden",color:"orange",icon:"⚠️",factors:{gameBalance:30,partnerVariety:30,opponentVariety:30,restFairness:30},restingPlayersPerRound:0,recommendations:["🔧 Konfiguration prüfen"]}}},Kt=(e,t,n,r)=>{try{const a=[];return e&&t&&n&&r?(e<50&&a.push("🔧 Weniger Spieler für bessere Durchmischung"),e<60&&r<8&&a.push("🔄 Mehr Runden für bessere Fairness"),t>6*n&&a.push("🏟️ Mehr Plätze oder weniger Spieler"),e<55&&n<3&&a.push("🏟️ Mehr Courts für bessere Rotation"),a):["🔧 Parameter prüfen"]}catch(a){return["🔧 Konfiguration prüfen"]}},Jt=(e,t)=>{const n=4*e;let r=n,a=n,s=0;for(let l=4;l<=32;l+=2){const n=Gt(l,e,t);n.score>s&&n.score>=60&&(r=l,s=n.score),n.score>=50&&(a=l)}const i=n+Math.min(e,4);return{optimal:Math.max(r,i),maxReasonable:Math.max(a,i),absoluteMax:a+4}},Qt=({editingEvent:e,onSubmit:t,onCancel:n,initialData:r,calculateTotalMinutes:a,calculateMaxPlayers:s})=>{var i;const l=(null==(i=useTranslation())?void 0:i.t)||(e=>e),u=[{id:1,name:l("form.steps.basics"),icon:kt,color:"blue"},{id:2,name:l("form.steps.timeLocation"),icon:ot,color:"green"},{id:3,name:l("form.steps.playMode"),icon:Tt,color:"purple"},{id:4,name:l("form.steps.players"),icon:Ot,color:"orange"},{id:5,name:l("form.steps.details"),icon:ut,color:"gray"}],[d,h]=c.useState(1),[p,m]=c.useState(!1),[f,g]=c.useState(!1),y={americano:{name:"Americano",startTime:"09:00",endTime:"13:00",courts:4,maxPlayers:24,roundDuration:12,spielmodus:"garantie",garantieSpiele:!0,mindestSpiele:4,eventInfo:""},tournament:{name:l("form.tournament"),startTime:"09:00",endTime:"18:00",courts:4,maxPlayers:32,roundDuration:15,spielmodus:"garantie",garantieSpiele:!0,mindestSpiele:5,eventInfo:""},league:{name:l("form.league"),startTime:"09:00",endTime:"18:00",courts:4,maxPlayers:32,roundDuration:15,spielmodus:"garantie",garantieMinuten:!0,mindestMinuten:90,breaks:[{startTime:"12:00",duration:60,name:l("form.lunchBreak")},{startTime:"15:00",duration:15,name:l("form.coffeBreak")}],eventInfo:""}},[v,b]=c.useState((e=>{const t={name:"",sport:"padel",eventType:"americano",genderMode:"open",format:"doubles",date:(new Date).toLocaleDateString("en-CA"),endDate:"",startTime:"09:00",endTime:"13:00",courts:2,maxPlayers:16,roundDuration:15,location:"",phone:"",isPublic:!1,registrationOpen:!1,registrationDeadline:"",entryFee:0,spielmodus:"durchgehend",garantieSpiele:!1,mindestSpiele:3,garantieMinuten:!1,mindestMinuten:45,breaks:[],eventInfo:"",players:[],results:{},schedule:null};return e?{...t,...e,breaks:e.breaks||[],players:e.players||[],results:e.results||{},courts:parseInt(e.courts)||2,maxPlayers:parseInt(e.maxPlayers)||16,roundDuration:parseInt(e.roundDuration)||15,entryFee:parseFloat(e.entryFee)||0,mindestSpiele:parseInt(e.mindestSpiele)||3,mindestMinuten:parseInt(e.mindestMinuten)||45}:t})(r)),[x,w]=c.useState(null),[k,S]=c.useState("balanced"),[j,N]=c.useState({totalMinutes:0,nettoMinutes:0,possibleRounds:0,recommendedPlayers:16,maxPossiblePlayers:20,minGamesPerPlayer:0,minMinutesPerPlayer:0}),E=e=>{b(t=>({...t,...e}))},P=(e,t,n=1,r=100,a=1)=>{if(""===t)return void E({[e]:""});if(!/^\d*$/.test(t))return;const s=parseInt(t);!isNaN(s)&&s>=0&&s<=r&&E({[e]:s})};c.useEffect(()=>{switch(k){case"relax":E({spielmodus:"durchgehend",garantieSpiele:!1,garantieMinuten:!1});break;case"balanced":E({spielmodus:"garantie",garantieSpiele:!0,garantieMinuten:!1,mindestSpiele:3});break;case"intensiv":E({spielmodus:"garantie",garantieSpiele:!1,garantieMinuten:!0,mindestMinuten:Math.floor(.7*j.nettoMinutes)})}},[k]),c.useEffect(()=>{if(v.startTime&&v.endTime&&v.courts&&v.roundDuration){const e=a(v.startTime,v.endTime,v.breaks),t=e-v.breaks.reduce((e,t)=>e+(t.duration||0),0),n=Math.floor(t/v.roundDuration),r=4*v.courts+(v.courts>=2?Math.min(v.courts,4):0);let s=r;if("garantie"===v.spielmodus){if(v.garantieSpiele&&v.mindestSpiele>0){const e=n*v.courts;s=Math.floor(4*e/v.mindestSpiele)}else if(v.garantieMinuten&&v.mindestMinuten>0){const e=Math.ceil(v.mindestMinuten/v.roundDuration),t=n*v.courts;s=Math.floor(4*t/e)}}else s=Math.min(Math.floor(n*v.courts*4/2),40);const i=v.maxPlayers||r,l=n*v.courts,o=Math.floor(4*l/i),c=o*v.roundDuration;N({totalMinutes:e,nettoMinutes:t,possibleRounds:n,recommendedPlayers:r,maxPossiblePlayers:Math.max(s,4),minGamesPerPlayer:o,minMinutesPerPlayer:c})}},[v.startTime,v.endTime,v.courts,v.roundDuration,v.breaks,v.spielmodus,v.garantieSpiele,v.mindestSpiele,v.garantieMinuten,v.mindestMinuten,v.maxPlayers]),c.useEffect(()=>{e||E({maxPlayers:j.recommendedPlayers})},[j.recommendedPlayers]),c.useEffect(()=>{const e=(()=>{const e=[];if(v.entryFee&&v.entryFee>0&&e.push(`${l("form.entryFee")}: ${v.entryFee}€`),v.registrationDeadline){const t=new Date(v.registrationDeadline);e.push(`${l("form.registrationDeadline")}: ${t.toLocaleString()}`)}return v.garantieSpiele&&v.mindestSpiele?e.push(`${l("form.minGamesPerPlayer")}: ${v.mindestSpiele}`):v.garantieMinuten&&v.mindestMinuten&&e.push(`${l("form.minPlayTime")}: ${v.mindestMinuten} ${l("form.min")}`),v.breaks&&v.breaks.length>0&&v.breaks.forEach(t=>{e.push(`${t.name}: ${t.startTime} (${t.duration} ${l("form.min")})`)}),e.join("\n")})();e!==v.eventInfo&&E({eventInfo:e})},[v.entryFee,v.registrationDeadline,v.garantieSpiele,v.mindestSpiele,v.garantieMinuten,v.mindestMinuten,v.breaks]),c.useEffect(()=>{"americano"===v.eventType&&E({format:"doubles"})},[v.eventType]);const _=e=>{switch(e){case 1:return""!==v.name.trim();case 2:return v.date&&v.startTime&&v.endTime&&v.courts>0;case 3:return v.roundDuration>0;case 4:return v.maxPlayers>=4;case 5:return!0;default:return!1}},T=_(d),C=(e,t,n)=>{const r=[...v.breaks];r[e][t]=n,E({breaks:r})},M=({children:e,text:t})=>o.jsxs("div",{className:"group relative inline-block",children:[e,o.jsx("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 w-64 p-2 bg-gray-800 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-10",children:t})]});return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center p-4 z-50",children:o.jsxs("div",{className:"bg-white rounded-lg max-w-5xl w-full h-[90vh] flex flex-col",children:[o.jsxs("div",{className:"border-b px-6 py-4",children:[o.jsx("h2",{className:"text-2xl font-bold mb-4",children:l(e?"form.editEvent":"form.createEvent")}),o.jsx("div",{className:"flex items-center justify-between",children:u.map((e,t)=>{const n=e.icon,r=e.id===d,a=e.id<d&&_(e.id);return o.jsxs("div",{className:"flex items-center",children:[o.jsxs("button",{type:"button",onClick:()=>h(e.id),className:`\n                      flex items-center gap-2 px-4 py-2 rounded-lg transition-all\n                      ${r?`bg-${e.color}-100 text-${e.color}-700 font-semibold`:""}\n                      ${a?"text-green-600":"text-gray-400"}\n                      ${r||a?"":"hover:bg-gray-100"}\n                    `,children:[o.jsx("div",{className:`\n                      w-8 h-8 rounded-full flex items-center justify-center\n                      ${r?`bg-${e.color}-600 text-white`:""}\n                      ${a?"bg-green-600 text-white":"bg-gray-200"}\n                    `,children:a?o.jsx(ut,{className:"w-5 h-5"}):o.jsx(n,{className:"w-5 h-5"})}),o.jsx("span",{className:"hidden md:inline",children:e.name})]}),t<u.length-1&&o.jsx(ht,{className:"w-5 h-5 text-gray-300 mx-2"})]},e.id)})})]}),o.jsx("div",{className:"flex-1 overflow-y-auto px-6 py-6",children:o.jsxs("div",{className:"space-y-6",children:[1===d&&o.jsxs("div",{className:"space-y-6 animate-in",children:[o.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg",children:[o.jsxs("h4",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[o.jsx(zt,{className:"w-5 h-5 text-yellow-500"}),l("form.quickTemplates")]}),o.jsx("p",{className:"text-sm text-gray-600 mb-4",children:l("form.selectTemplate")}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:Object.entries(y).map(([e,t])=>{const n={americano:l("form.americanoDesc"),tournament:l("form.tournamentDesc"),league:l("form.leagueDesc")};return o.jsxs("button",{type:"button",onClick:()=>{return E(y[t=e]),void w(t);var t},className:`\n                            p-3 border-2 rounded-lg text-center transition-all\n                            ${x===e?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}\n                          `,children:[o.jsx("div",{className:"text-2xl mb-1",children:{americano:"🏆",tournament:"🎯",league:"📊"}[e]}),o.jsx("div",{className:"font-medium text-sm",children:l(`form.${e}`)}),o.jsx("div",{className:"text-xs text-gray-500",children:n[e]})]},e)})})]}),o.jsxs("div",{className:"bg-blue-50 p-6 rounded-lg",children:[o.jsxs("h3",{className:"text-lg font-semibold mb-4 text-blue-900 flex items-center gap-2",children:[o.jsx(kt,{className:"w-5 h-5"}),l("form.eventBasics")]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block mb-1 font-medium",children:[l("form.eventName")," *",p&&!v.name.trim()&&o.jsx("span",{className:"text-red-500 text-sm ml-2",children:l("form.required")})]}),o.jsx("input",{type:"text",value:v.name||"",onChange:e=>E({name:e.target.value}),className:`\n                          w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500\n                          ${p&&!v.name.trim()?"border-red-500":""}\n                        `,placeholder:"z.B. Sommer Americano 2024"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block mb-1 font-medium flex items-center gap-2",children:[l("form.sport"),o.jsx(M,{text:l("form.selectSportTooltip"),children:o.jsx(kt,{className:"w-4 h-4 text-gray-400"})})]}),o.jsxs("select",{value:v.sport||"padel",onChange:e=>E({sport:e.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"padel",children:l("sports.padel")}),o.jsx("option",{value:"pickleball",children:l("sports.pickleball")}),o.jsx("option",{value:"spinxball",children:l("sports.spinxball")})]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block mb-1 font-medium flex items-center gap-2",children:[l("form.eventType"),o.jsx(M,{text:l("form.americanoTooltip"),children:o.jsx(kt,{className:"w-4 h-4 text-gray-400"})})]}),o.jsx("select",{value:v.eventType||"americano",onChange:e=>E({eventType:e.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:o.jsx("option",{value:"americano",children:l("eventTypes.americano")})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block mb-1 font-medium",children:l("form.genderMode")}),o.jsxs("select",{value:v.genderMode||"open",onChange:e=>E({genderMode:e.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"open",children:l("form.mixed")}),o.jsx("option",{value:"men",children:l("form.menOnly")}),o.jsx("option",{value:"women",children:l("form.womenOnly")})]})]})]})]})]}),2===d&&o.jsx("div",{className:"space-y-6 animate-in",children:o.jsxs("div",{className:"bg-green-50 p-6 rounded-lg",children:[o.jsxs("h3",{className:"text-lg font-semibold mb-4 text-green-900 flex items-center gap-2",children:[o.jsx(ot,{className:"w-5 h-5"}),l("form.when")]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block mb-1 font-medium",children:[l("form.date")," *",p&&!v.date&&o.jsx("span",{className:"text-red-500 text-sm ml-2",children:l("form.required")})]}),o.jsx("input",{type:"date",value:v.date||"",onChange:e=>E({date:e.target.value}),className:`\n                          w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-green-500\n                          ${p&&!v.date?"border-red-500":""}\n                        `,min:(new Date).toISOString().split("T")[0]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block mb-1 font-medium",children:[l("form.startTime")," *",p&&!v.startTime&&o.jsx("span",{className:"text-red-500 text-sm ml-2",children:l("form.required")})]}),o.jsx("input",{type:"time",value:v.startTime||"09:00",onChange:e=>E({startTime:e.target.value}),className:`\n                          w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-green-500\n                          ${p&&!v.startTime?"border-red-500":""}\n                        `})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block mb-1 font-medium",children:[l("form.endTime")," *",p&&!v.endTime&&o.jsx("span",{className:"text-red-500 text-sm ml-2",children:l("form.required")})]}),o.jsx("input",{type:"time",value:v.endTime||"13:00",onChange:e=>E({endTime:e.target.value}),className:`\n                          w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-green-500\n                          ${p&&!v.endTime?"border-red-500":""}\n                        `})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block mb-1 font-medium flex items-center gap-2",children:[l("form.numberOfCourts")," *",o.jsx(M,{text:l("form.courtsTooltip"),children:o.jsx(kt,{className:"w-4 h-4 text-gray-400"})})]}),o.jsx("input",{type:"number",value:""===v.courts?"":v.courts||2,onChange:e=>P("courts",e.target.value,1,10,2),onBlur:e=>{(""===e.target.value||parseInt(e.target.value)<1)&&E({courts:2})},className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-green-500",min:"1",max:"10",placeholder:"2",inputMode:"numeric",pattern:"[0-9]*"})]})]}),o.jsxs("div",{className:"mt-6 p-4 bg-white rounded-lg border border-green-200",children:[o.jsx("h4",{className:"font-medium mb-3 text-green-900",children:l("form.timeOverview")}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[o.jsxs("div",{className:"text-center",children:[o.jsx(gt,{className:"w-8 h-8 mx-auto mb-1 text-green-600"}),o.jsx("span",{className:"text-gray-600 block",children:l("form.totalTime")}),o.jsxs("p",{className:"font-bold text-lg",children:[j.totalMinutes," ",l("form.min")]})]}),o.jsxs("div",{className:"text-center",children:[o.jsx(yt,{className:"w-8 h-8 mx-auto mb-1 text-orange-600"}),o.jsx("span",{className:"text-gray-600 block",children:l("form.breaks")}),o.jsxs("p",{className:"font-bold text-lg",children:[v.breaks.reduce((e,t)=>e+t.duration,0)," ",l("form.min")]})]}),o.jsxs("div",{className:"text-center",children:[o.jsx(zt,{className:"w-8 h-8 mx-auto mb-1 text-blue-600"}),o.jsx("span",{className:"text-gray-600 block",children:l("form.netPlayTime")}),o.jsxs("p",{className:"font-bold text-lg",children:[j.nettoMinutes," ",l("form.min")]})]}),o.jsxs("div",{className:"text-center",children:[o.jsx(Lt,{className:"w-8 h-8 mx-auto mb-1 text-purple-600"}),o.jsx("span",{className:"text-gray-600 block",children:l("form.possibleRounds")}),o.jsx("p",{className:"font-bold text-lg",children:j.possibleRounds})]})]})]}),o.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block mb-1 font-medium",children:l("form.location")}),o.jsx("input",{type:"text",value:v.location||"",onChange:e=>E({location:e.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-green-500",placeholder:"z.B. Padel Club München"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block mb-1 font-medium",children:l("form.contactPhone")}),o.jsx("input",{type:"tel",value:v.phone||"",onChange:e=>E({phone:e.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-green-500",placeholder:"z.B. +49 123 456789"})]})]})]})}),3===d&&o.jsx("div",{className:"space-y-6 animate-in",children:o.jsxs("div",{className:"bg-purple-50 p-6 rounded-lg",children:[o.jsxs("h3",{className:"text-lg font-semibold mb-4 text-purple-900 flex items-center gap-2",children:[o.jsx(Tt,{className:"w-5 h-5"}),l("form.howToPlay")]}),o.jsxs("div",{className:"mb-6",children:[o.jsxs("label",{className:"block mb-1 font-medium flex items-center gap-2",children:[l("form.roundDuration")," *",o.jsx(M,{text:l("form.roundDurationTooltip"),children:o.jsx(kt,{className:"w-4 h-4 text-gray-400"})})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"range",value:v.roundDuration||15,onChange:e=>E({roundDuration:parseInt(e.target.value)}),className:"flex-1",min:"5",max:"30",step:"5"}),o.jsx("input",{type:"number",value:""===v.roundDuration?"":v.roundDuration||15,onChange:e=>P("roundDuration",e.target.value,5,60,15),onBlur:e=>{(""===e.target.value||parseInt(e.target.value)<5)&&E({roundDuration:15})},className:"w-20 px-3 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500 text-center font-bold",min:"5",max:"60",placeholder:"15",inputMode:"numeric",pattern:"[0-9]*"}),o.jsx("span",{children:l("form.min")})]})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("label",{className:"block mb-3 font-medium",children:l("form.playMode")}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[o.jsxs("label",{className:`\n                        relative flex flex-col p-4 border-2 rounded-lg cursor-pointer transition-all\n                        ${"relax"===k?"border-purple-500 bg-purple-50":"border-gray-200 hover:border-purple-300"}\n                      `,children:[o.jsx("input",{type:"radio",name:"garantie",value:"relax",checked:"relax"===k,onChange:()=>S("relax"),className:"sr-only"}),o.jsx(wt,{className:"w-8 h-8 mb-2 text-purple-600"}),o.jsx("strong",{className:"text-lg",children:l("form.relaxed")}),o.jsx("p",{className:"text-sm text-gray-600 mt-1",children:l("form.relaxedDesc")})]}),o.jsxs("label",{className:`\n                        relative flex flex-col p-4 border-2 rounded-lg cursor-pointer transition-all\n                        ${"balanced"===k?"border-purple-500 bg-purple-50":"border-gray-200 hover:border-purple-300"}\n                      `,children:[o.jsx("input",{type:"radio",name:"garantie",value:"balanced",checked:"balanced"===k,onChange:()=>S("balanced"),className:"sr-only"}),o.jsx(zt,{className:"w-8 h-8 mb-2 text-purple-600"}),o.jsx("strong",{className:"text-lg",children:l("form.balanced")}),o.jsx("p",{className:"text-sm text-gray-600 mt-1",children:l("form.balancedDesc")})]}),o.jsxs("label",{className:`\n                        relative flex flex-col p-4 border-2 rounded-lg cursor-pointer transition-all\n                        ${"intensiv"===k?"border-purple-500 bg-purple-50":"border-gray-200 hover:border-purple-300"}\n                      `,children:[o.jsx("input",{type:"radio",name:"garantie",value:"intensiv",checked:"intensiv"===k,onChange:()=>S("intensiv"),className:"sr-only"}),o.jsx(Lt,{className:"w-8 h-8 mb-2 text-purple-600"}),o.jsx("strong",{className:"text-lg",children:l("form.intensive")}),o.jsx("p",{className:"text-sm text-gray-600 mt-1",children:l("form.intensiveDesc")})]})]})]}),o.jsxs("details",{className:"mt-4",children:[o.jsxs("summary",{className:"cursor-pointer text-sm text-purple-700 hover:text-purple-900 font-medium",children:["⚙️ ",l("form.advancedSettings")]}),o.jsxs("div",{className:"mt-4 p-4 bg-white rounded-lg border border-purple-200 space-y-3",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",checked:v.garantieSpiele||!1,onChange:e=>E({garantieSpiele:e.target.checked,garantieMinuten:!e.target.checked&&v.garantieMinuten}),className:"mr-2"}),o.jsx("span",{children:l("form.guaranteeGames")})]}),v.garantieSpiele&&o.jsxs("div",{className:"ml-6 mt-2",children:[o.jsx("label",{className:"block text-sm",children:l("form.minGamesPerPlayer")}),o.jsx("input",{type:"number",value:v.mindestSpiele||3,onChange:e=>E({mindestSpiele:parseInt(e.target.value)||3}),className:"px-2 py-1 border rounded w-20",min:"1",max:j.possibleRounds})]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",checked:v.garantieMinuten||!1,onChange:e=>E({garantieMinuten:e.target.checked,garantieSpiele:!e.target.checked&&v.garantieSpiele}),className:"mr-2"}),o.jsx("span",{children:l("form.guaranteeTime")})]}),v.garantieMinuten&&o.jsxs("div",{className:"ml-6 mt-2",children:[o.jsx("label",{className:"block text-sm",children:l("form.minPlayTime")}),o.jsx("input",{type:"number",value:v.mindestMinuten||45,onChange:e=>E({mindestMinuten:parseInt(e.target.value)||45}),className:"px-2 py-1 border rounded w-20",min:"15",max:j.nettoMinutes,step:"15"})]})]})]})]}),o.jsxs("div",{className:"mt-6",children:[o.jsxs("h4",{className:"font-medium mb-3 flex items-center gap-2",children:[o.jsx(yt,{className:"w-5 h-5 text-orange-600"}),l("form.breaks")]}),o.jsxs("div",{className:"space-y-2",children:[v.breaks.map((e,t)=>o.jsxs("div",{className:"flex items-center gap-2 bg-orange-50 p-3 rounded-lg",children:[o.jsx(yt,{className:"w-4 h-4 text-orange-600"}),o.jsx("input",{type:"text",value:e.name||l("form.pauseName"),onChange:e=>C(t,"name",e.target.value),className:"flex-1 px-2 py-1 border rounded text-sm",placeholder:l("form.pauseName")}),o.jsx("input",{type:"time",value:e.startTime||"",onChange:e=>C(t,"startTime",e.target.value),className:"px-2 py-1 border rounded text-sm"}),o.jsxs("select",{value:e.duration||30,onChange:e=>C(t,"duration",parseInt(e.target.value)),className:"px-2 py-1 border rounded text-sm",children:[o.jsxs("option",{value:"15",children:["15 ",l("form.min")]}),o.jsxs("option",{value:"30",children:["30 ",l("form.min")]}),o.jsxs("option",{value:"45",children:["45 ",l("form.min")]}),o.jsxs("option",{value:"60",children:["60 ",l("form.min")]})]}),o.jsx("button",{type:"button",onClick:()=>(e=>{E({breaks:v.breaks.filter((t,n)=>n!==e)})})(t),className:"p-1 text-red-600 hover:bg-red-100 rounded",children:o.jsx(It,{className:"w-4 h-4"})})]},t)),o.jsxs("button",{type:"button",onClick:()=>{E({breaks:[...v.breaks,{startTime:"",duration:30,name:l("form.pauseName")}]})},className:"w-full px-3 py-2 bg-orange-100 text-orange-700 rounded-lg hover:bg-orange-200 flex items-center justify-center gap-2",children:[o.jsx(Pt,{className:"w-4 h-4"}),l("form.addBreak")]})]})]})]})}),4===d&&o.jsx("div",{className:"space-y-6 animate-in",children:o.jsxs("div",{className:"bg-orange-50 p-6 rounded-lg",children:[o.jsxs("h3",{className:"text-lg font-semibold mb-4 text-orange-900 flex items-center gap-2",children:[o.jsx(Ot,{className:"w-5 h-5"}),l("form.maxPlayers")," mit Fairness-Bewertung"]}),(()=>{const e=Gt(v.maxPlayers||16,v.courts||2,j.possibleRounds||8,v.roundDuration);return Jt(v.courts||2,j.possibleRounds||8),o.jsxs("div",{className:"p-4 rounded-lg border-2 mb-6 "+("green"===e.color?"bg-green-50 border-green-200":"blue"===e.color?"bg-blue-50 border-blue-200":"yellow"===e.color?"bg-yellow-50 border-yellow-200":"orange"===e.color?"bg-orange-50 border-orange-200":"bg-red-50 border-red-200"),children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-xl",children:e.icon}),o.jsxs("h4",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[o.jsx(Rt,{className:"w-4 h-4"}),"Americano Fairness-Bewertung"]})]}),o.jsxs("div",{className:"px-3 py-1 rounded-full text-sm font-bold "+("green"===e.color?"bg-green-600 text-white":"blue"===e.color?"bg-blue-600 text-white":"yellow"===e.color?"bg-yellow-600 text-white":"orange"===e.color?"bg-orange-600 text-white":"bg-red-600 text-white"),children:[e.score,"% Fairness"]})]}),o.jsx("p",{className:"text-sm mb-3 "+("green"===e.color?"text-green-700":"blue"===e.color?"text-blue-700":"yellow"===e.color?"text-yellow-700":"orange"===e.color?"text-orange-700":"text-red-700"),children:e.message}),e.score<45&&o.jsxs("div",{className:"p-3 bg-red-100 border border-red-300 rounded-lg mb-3",children:[o.jsxs("div",{className:"flex items-center gap-2 text-red-800",children:[o.jsx(pt,{className:"w-5 h-5"}),o.jsx("strong",{children:"Kritische Fairness-Warnung"})]}),o.jsx("p",{className:"text-sm text-red-700 mt-1",children:"Diese Konfiguration führt zu sehr unausgewogenem Spielspaß. Die meisten Spieler werden sich über unfaire Verteilung beschweren."})]}),e.restingPlayersPerRound>0&&o.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 mb-3",children:[o.jsx(kt,{className:"w-4 h-4"}),o.jsxs("span",{children:["Pro Runde pausieren ",e.restingPlayersPerRound," Spieler (",Math.round(e.restingPlayersPerRound/(v.maxPlayers||16)*100),"% Ausfallzeit)"]})]}),o.jsxs("details",{className:"group",children:[o.jsxs("summary",{className:"cursor-pointer text-sm font-medium text-gray-600 hover:text-gray-800 flex items-center gap-1",children:[o.jsx("span",{className:"group-open:rotate-90 transition-transform",children:"▶"}),"Detaillierte Fairness-Analyse"]}),o.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-3 text-xs",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"Spiel-Balance:"}),o.jsxs("span",{className:"font-medium "+(e.factors.gameBalance>=70?"text-green-600":"text-red-600"),children:[e.factors.gameBalance,"%"]})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"Partner-Vielfalt:"}),o.jsxs("span",{className:"font-medium "+(e.factors.partnerVariety>=70?"text-green-600":"text-red-600"),children:[e.factors.partnerVariety,"%"]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"Gegner-Vielfalt:"}),o.jsxs("span",{className:"font-medium "+(e.factors.opponentVariety>=70?"text-green-600":"text-red-600"),children:[e.factors.opponentVariety,"%"]})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"Pausen-Fairness:"}),o.jsxs("span",{className:"font-medium "+(e.factors.restFairness>=70?"text-green-600":"text-red-600"),children:[e.factors.restFairness,"%"]})]})]})]}),e.recommendations.length>0&&o.jsxs("div",{className:"mt-3 p-2 bg-blue-50 rounded text-xs",children:[o.jsx("strong",{className:"text-blue-800",children:"Verbesserungsvorschläge:"}),o.jsx("ul",{className:"mt-1 space-y-1",children:e.recommendations.map((e,t)=>o.jsxs("li",{className:"text-blue-700",children:["• ",e]},t))})]})]})]})})(),o.jsxs("div",{className:"p-4 bg-white rounded-lg border border-orange-200 mb-6",children:[o.jsxs("h4",{className:"font-medium mb-3 flex items-center gap-2",children:[o.jsx(At,{className:"w-4 h-4 text-orange-600"}),"Intelligente Empfehlungen"]}),o.jsx("div",{className:"space-y-3",children:(()=>{const e=Jt(v.courts||2,j.possibleRounds||8);return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 bg-green-600 text-white rounded-full flex items-center justify-center font-bold",children:e.optimal}),o.jsxs("div",{children:[o.jsxs("strong",{className:"text-green-700 flex items-center gap-1",children:[o.jsx(Lt,{className:"w-4 h-4"}),"Optimal für besten Spielspaß"]}),o.jsx("p",{className:"text-sm text-gray-600",children:"Maximale Fairness und Durchmischung"})]})]}),o.jsxs("button",{type:"button",onClick:()=>E({maxPlayers:e.optimal}),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center gap-1",children:[o.jsx(ut,{className:"w-4 h-4"}),"Übernehmen"]})]}),e.maxReasonable>e.optimal&&o.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-50 rounded",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 bg-blue-600 text-white rounded-full flex items-center justify-center font-bold",children:e.maxReasonable}),o.jsxs("div",{children:[o.jsxs("strong",{className:"text-blue-700 flex items-center gap-1",children:[o.jsx(Dt,{className:"w-4 h-4"}),"Maximum mit guter Fairness"]}),o.jsx("p",{className:"text-sm text-gray-600",children:"Akzeptable Balance zwischen Teilnehmern und Fairness"})]})]}),o.jsxs("button",{type:"button",onClick:()=>E({maxPlayers:e.maxReasonable}),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-1",children:[o.jsx(ut,{className:"w-4 h-4"}),"Übernehmen"]})]})]})})()})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block mb-2 font-medium",children:[l("form.maxPlayers")," *",p&&v.maxPlayers<4&&o.jsx("span",{className:"text-red-500 text-sm ml-2",children:l("form.atLeast4Players")})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("input",{type:"range",value:v.maxPlayers||j.recommendedPlayers,onChange:e=>E({maxPlayers:parseInt(e.target.value)}),className:"flex-1",min:"4",max:"40",step:"2"}),o.jsx("input",{type:"number",value:""===v.maxPlayers?"":v.maxPlayers||j.recommendedPlayers,onChange:e=>P("maxPlayers",e.target.value,4,100,16),onBlur:e=>{(""===e.target.value||parseInt(e.target.value)<4)&&E({maxPlayers:j.recommendedPlayers||16})},className:`\n                          w-20 px-3 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 text-center font-bold text-lg\n                          ${(()=>{const e=Gt(v.maxPlayers||16,v.courts||2,j.possibleRounds||8);return e.score<60?"border-red-500 bg-red-50":e.score<75?"border-yellow-500 bg-yellow-50":"border-green-500 bg-green-50"})()}\n                        `,min:"4",max:"100",step:"2",placeholder:"16",inputMode:"numeric",pattern:"[0-9]*"}),o.jsx("span",{children:l("player.players")})]})]}),o.jsxs("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:[o.jsxs("h4",{className:"font-medium mb-2 flex items-center gap-2",children:[o.jsx(kt,{className:"w-4 h-4 text-blue-600"}),"Vorschau mit ",v.maxPlayers," Spielern:"]}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"Spiele/Person:"}),o.jsx("p",{className:"font-bold text-lg",children:j.minGamesPerPlayer})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"Spielzeit/Person:"}),o.jsxs("p",{className:"font-bold text-lg",children:[j.minMinutesPerPlayer," ",l("form.min")]})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"Pausenzeit:"}),o.jsxs("p",{className:"font-bold text-lg",children:[Math.max(0,j.nettoMinutes-j.minMinutesPerPlayer)," ",l("form.min")]})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"Auslastung:"}),o.jsxs("p",{className:"font-bold text-lg",children:[Math.round(j.minMinutesPerPlayer/j.nettoMinutes*100),"%"]})]})]})]})]})}),5===d&&o.jsxs("div",{className:"space-y-6 animate-in",children:[o.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg",children:[o.jsxs("h3",{className:"text-lg font-semibold mb-4 text-gray-900 flex items-center gap-2",children:[o.jsx(ut,{className:"w-5 h-5"}),l("form.additionalInfo")]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block mb-1 font-medium",children:l("form.eventDescription")}),o.jsx("textarea",{value:v.eventInfo||"",onChange:e=>E({eventInfo:e.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-gray-500",rows:"4",placeholder:l("form.eventDescriptionPlaceholder")})]}),o.jsxs("div",{className:"p-4 bg-white rounded-lg border",children:[o.jsx("h4",{className:"font-medium mb-3",children:l("form.visibility")}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("label",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",checked:v.isPublic||!1,onChange:e=>E({isPublic:e.target.checked,registrationOpen:!!e.target.checked&&v.registrationOpen}),className:"mr-3 w-4 h-4"}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:l("form.makePublic")}),o.jsx("p",{className:"text-sm text-gray-600",children:l("form.publicDesc")})]})]}),v.isPublic&&o.jsxs(o.Fragment,{children:[o.jsxs("label",{className:"flex items-center ml-7",children:[o.jsx("input",{type:"checkbox",checked:v.registrationOpen||!1,onChange:e=>E({registrationOpen:e.target.checked}),className:"mr-3 w-4 h-4"}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:l("form.enableRegistration")}),o.jsx("p",{className:"text-sm text-gray-600",children:l("form.registrationDesc")})]})]}),v.registrationOpen&&o.jsxs("div",{className:"ml-7 grid grid-cols-1 md:grid-cols-2 gap-4 p-3 bg-gray-50 rounded",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:l("form.registrationDeadline")}),o.jsx("input",{type:"datetime-local",value:v.registrationDeadline||"",onChange:e=>E({registrationDeadline:e.target.value}),className:"w-full px-2 py-1 border rounded text-sm"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:l("form.entryFee")}),o.jsx("input",{type:"number",value:v.entryFee||0,onChange:e=>E({entryFee:parseFloat(e.target.value)||0}),className:"w-full px-2 py-1 border rounded text-sm",min:"0",step:"0.50"})]})]})]})]})]})]})]}),o.jsxs("div",{className:"bg-blue-100 p-6 rounded-lg",children:[o.jsxs("h3",{className:"text-lg font-semibold mb-4 text-blue-900 flex items-center gap-2",children:[o.jsx(Lt,{className:"w-5 h-5"}),l("form.summary")]}),(()=>{const e=Gt(v.maxPlayers||16,v.courts||2,j.possibleRounds||8,v.roundDuration);return o.jsxs("div",{className:"p-3 rounded-lg mb-4 "+("green"===e.color?"bg-green-100 border border-green-300":"blue"===e.color?"bg-blue-100 border border-blue-300":"yellow"===e.color?"bg-yellow-100 border border-yellow-300":"bg-red-100 border border-red-300"),children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"font-medium",children:"Finale Fairness-Bewertung:"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-lg",children:e.icon}),o.jsxs("span",{className:"font-bold",children:[e.score,"%"]})]})]}),o.jsx("p",{className:"text-sm mt-1",children:e.message})]})})(),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"bg-white p-3 rounded",children:[o.jsx("span",{className:"text-sm text-gray-600",children:l("event.title")}),o.jsx("p",{className:"font-semibold",children:v.name||l("form.noName")})]}),o.jsxs("div",{className:"bg-white p-3 rounded",children:[o.jsxs("span",{className:"text-sm text-gray-600",children:[l("form.date")," & ",l("form.time")]}),o.jsxs("p",{className:"font-semibold",children:[v.date?new Date(v.date).toLocaleDateString("de-DE"):l("form.noDate"),o.jsx("br",{}),v.startTime," - ",v.endTime]})]}),o.jsxs("div",{className:"bg-white p-3 rounded",children:[o.jsx("span",{className:"text-sm text-gray-600",children:l("form.location")}),o.jsx("p",{className:"font-semibold",children:v.location||l("form.notSpecified")})]}),o.jsxs("div",{className:"bg-white p-3 rounded",children:[o.jsx("span",{className:"text-sm text-gray-600",children:l("form.numberOfCourts")}),o.jsx("p",{className:"font-semibold",children:v.courts})]}),o.jsxs("div",{className:"bg-white p-3 rounded",children:[o.jsx("span",{className:"text-sm text-gray-600",children:l("event.maxPlayers")}),o.jsx("p",{className:"font-semibold",children:v.maxPlayers})]}),o.jsxs("div",{className:"bg-white p-3 rounded",children:[o.jsx("span",{className:"text-sm text-gray-600",children:l("form.playMode")}),o.jsx("p",{className:"font-semibold",children:"garantie"===v.spielmodus?v.garantieSpiele?`${l("form.min")}. ${v.mindestSpiele} ${l("tournament.games")}`:`${l("form.min")}. ${v.mindestMinuten} ${l("form.min")}.`:l("form.relaxed")})]}),o.jsxs("div",{className:"bg-white p-3 rounded",children:[o.jsx("span",{className:"text-sm text-gray-600",children:l("form.roundDuration")}),o.jsxs("p",{className:"font-semibold",children:[v.roundDuration," ",l("form.min")]})]}),o.jsxs("div",{className:"bg-white p-3 rounded",children:[o.jsx("span",{className:"text-sm text-gray-600",children:l("form.playTimePerPerson")}),o.jsxs("p",{className:"font-semibold",children:["~",j.minMinutesPerPlayer," ",l("form.min")]})]}),o.jsxs("div",{className:"bg-white p-3 rounded",children:[o.jsx("span",{className:"text-sm text-gray-600",children:"Status"}),o.jsxs("p",{className:"font-semibold",children:[v.isPublic?l("form.public"):l("form.private"),v.registrationOpen&&` • ${l("form.registrationOpen")}`]})]})]})]})]})]})}),o.jsxs("div",{className:"border-t px-6 py-4 flex justify-between items-center",children:[o.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:l("navigation.cancel")}),o.jsxs("div",{className:"flex gap-3",children:[d>1&&o.jsxs("button",{type:"button",onClick:()=>{d>1&&(h(d-1),m(!1))},className:"px-4 py-2 bg-gray-200 rounded-lg hover:bg-gray-300 flex items-center gap-2",children:[o.jsx(dt,{className:"w-4 h-4"}),l("navigation.back")]}),d<5?o.jsxs("button",{type:"button",onClick:()=>{T&&d<5?(h(d+1),m(!1)):T||m(!0)},className:`\n                  px-4 py-2 rounded-lg flex items-center gap-2\n                  ${T?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-300 text-gray-500 cursor-not-allowed"}\n                `,disabled:!T,children:[l("navigation.next"),o.jsx(ht,{className:"w-4 h-4"})]}):o.jsx("button",{type:"button",onClick:async e=>{if(e&&(e.preventDefault(),e.stopPropagation()),!f){g(!0);try{let e=!0;for(let t=1;t<=5;t++)if(!_(t)){e=!1,h(t),m(!0);break}if(!e)return void g(!1);const n=Gt(v.maxPlayers,v.courts,j.possibleRounds,v.roundDuration);if(n.score<60){if(!window.confirm(`⚠️ Fairness-Warnung:\n\n${n.message} (${n.score}% Fairness)\n\nDies kann zu unausgewogenen Spielerfahrungen führen.\n\nMöchten Sie trotzdem fortfahren?`))return void g(!1)}if(v.maxPlayers>j.maxPossiblePlayers){if(!window.confirm(l("form.guaranteeWarning").replace("{players}",v.maxPlayers)+"\n"+l("form.recommendedMax")+": "+j.maxPossiblePlayers+"\n\n"+l("form.proceedAnyway")))return void g(!1)}const r={...v,startTime:v.startTime.split(":").slice(0,2).join(":"),endTime:v.endTime.split(":").slice(0,2).join(":"),players:v.players||[],breaks:v.breaks||[],results:v.results||{},courts:parseInt(v.courts)||2,maxPlayers:parseInt(v.maxPlayers)||16,roundDuration:parseInt(v.roundDuration)||15};delete r.entryFee,await t(r)}catch(n){alert("Fehler beim Erstellen des Events. Bitte versuchen Sie es erneut.")}finally{g(!1)}}},disabled:f,className:`\n    px-6 py-2 rounded-lg flex items-center gap-2\n    ${f?"bg-gray-400 text-gray-600 cursor-not-allowed":"bg-green-600 text-white hover:bg-green-700"}\n  `,children:f?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"w-4 h-4 border-2 border-gray-600 border-t-transparent rounded-full animate-spin"}),e?"Speichere...":"Erstelle Event..."]}):o.jsxs(o.Fragment,{children:[o.jsx(ut,{className:"w-4 h-4"}),l(e?"form.saveChanges":"event.create")]})})]})]})]})})};
/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Yt,Xt,Zt={};var en,tn={},nn={};function rn(){if(en)return nn;let e;en=1;const t=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return nn.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return 4*e+17},nn.getSymbolTotalCodewords=function(e){return t[e]},nn.getBCHDigit=function(e){let t=0;for(;0!==e;)t++,e>>>=1;return t},nn.setToSJISFunction=function(t){if("function"!=typeof t)throw new Error('"toSJISFunc" is not a valid function.');e=t},nn.isKanjiModeEnabled=function(){return void 0!==e},nn.toSJIS=function(t){return e(t)},nn}var an,sn,ln,on,cn,un={};function dn(){return an||(an=1,(e=un).L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2},e.isValid=function(e){return e&&void 0!==e.bit&&e.bit>=0&&e.bit<4},e.from=function(t,n){if(e.isValid(t))return t;try{return function(t){if("string"!=typeof t)throw new Error("Param is not a string");switch(t.toLowerCase()){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+t)}}(t)}catch(_l){return n}}),un;var e}var hn,pn={};var mn,fn={};var gn,yn={};var vn,bn={};function xn(){if(vn)return bn;vn=1;const e=dn(),t=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],n=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return bn.getBlocksCount=function(n,r){switch(r){case e.L:return t[4*(n-1)+0];case e.M:return t[4*(n-1)+1];case e.Q:return t[4*(n-1)+2];case e.H:return t[4*(n-1)+3];default:return}},bn.getTotalCodewordsCount=function(t,r){switch(r){case e.L:return n[4*(t-1)+0];case e.M:return n[4*(t-1)+1];case e.Q:return n[4*(t-1)+2];case e.H:return n[4*(t-1)+3];default:return}},bn}var wn,kn,Sn,jn,Nn={},En={};function Pn(){return kn||(kn=1,function(e){const t=function(){if(wn)return En;wn=1;const e=new Uint8Array(512),t=new Uint8Array(256);return function(){let n=1;for(let r=0;r<255;r++)e[r]=n,t[n]=r,n<<=1,256&n&&(n^=285);for(let t=255;t<512;t++)e[t]=e[t-255]}(),En.log=function(e){if(e<1)throw new Error("log("+e+")");return t[e]},En.exp=function(t){return e[t]},En.mul=function(n,r){return 0===n||0===r?0:e[t[n]+t[r]]},En}();e.mul=function(e,n){const r=new Uint8Array(e.length+n.length-1);for(let a=0;a<e.length;a++)for(let s=0;s<n.length;s++)r[a+s]^=t.mul(e[a],n[s]);return r},e.mod=function(e,n){let r=new Uint8Array(e);for(;r.length-n.length>=0;){const e=r[0];for(let s=0;s<n.length;s++)r[s]^=t.mul(n[s],e);let a=0;for(;a<r.length&&0===r[a];)a++;r=r.slice(a)}return r},e.generateECPolynomial=function(n){let r=new Uint8Array([1]);for(let a=0;a<n;a++)r=e.mul(r,new Uint8Array([1,t.exp(a)]));return r}}(Nn)),Nn}var _n,Tn={},Cn={},Mn={};function An(){return _n||(_n=1,Mn.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}),Mn}var Rn,Dn,Ln,On={};function In(){if(Rn)return On;Rn=1;const e="[0-9]+";let t="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";t=t.replace(/u/g,"\\u");const n="(?:(?![A-Z0-9 $%*+\\-./:]|"+t+")(?:.|[\r\n]))+";On.KANJI=new RegExp(t,"g"),On.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),On.BYTE=new RegExp(n,"g"),On.NUMERIC=new RegExp(e,"g"),On.ALPHANUMERIC=new RegExp("[A-Z $%*+\\-./:]+","g");const r=new RegExp("^"+t+"$"),a=new RegExp("^"+e+"$"),s=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return On.testKanji=function(e){return r.test(e)},On.testNumeric=function(e){return a.test(e)},On.testAlphanumeric=function(e){return s.test(e)},On}function zn(){return Dn||(Dn=1,function(e){const t=An(),n=In();e.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(e,n){if(!e.ccBits)throw new Error("Invalid mode: "+e);if(!t.isValid(n))throw new Error("Invalid version: "+n);return n>=1&&n<10?e.ccBits[0]:n<27?e.ccBits[1]:e.ccBits[2]},e.getBestModeForData=function(t){return n.testNumeric(t)?e.NUMERIC:n.testAlphanumeric(t)?e.ALPHANUMERIC:n.testKanji(t)?e.KANJI:e.BYTE},e.toString=function(e){if(e&&e.id)return e.id;throw new Error("Invalid mode")},e.isValid=function(e){return e&&e.bit&&e.ccBits},e.from=function(t,n){if(e.isValid(t))return t;try{return function(t){if("string"!=typeof t)throw new Error("Param is not a string");switch(t.toLowerCase()){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+t)}}(t)}catch(_l){return n}}}(Cn)),Cn}function $n(){return Ln||(Ln=1,function(e){const t=rn(),n=xn(),r=dn(),a=zn(),s=An(),i=t.getBCHDigit(7973);function l(e,t){return a.getCharCountIndicator(e,t)+4}function o(e,t){let n=0;return e.forEach(function(e){const r=l(e.mode,t);n+=r+e.getBitsLength()}),n}e.from=function(e,t){return s.isValid(e)?parseInt(e,10):t},e.getCapacity=function(e,r,i){if(!s.isValid(e))throw new Error("Invalid QR Code version");void 0===i&&(i=a.BYTE);const o=8*(t.getSymbolTotalCodewords(e)-n.getTotalCodewordsCount(e,r));if(i===a.MIXED)return o;const c=o-l(i,e);switch(i){case a.NUMERIC:return Math.floor(c/10*3);case a.ALPHANUMERIC:return Math.floor(c/11*2);case a.KANJI:return Math.floor(c/13);case a.BYTE:default:return Math.floor(c/8)}},e.getBestVersionForData=function(t,n){let s;const i=r.from(n,r.M);if(Array.isArray(t)){if(t.length>1)return function(t,n){for(let r=1;r<=40;r++)if(o(t,r)<=e.getCapacity(r,n,a.MIXED))return r}(t,i);if(0===t.length)return 1;s=t[0]}else s=t;return function(t,n,r){for(let a=1;a<=40;a++)if(n<=e.getCapacity(a,r,t))return a}(s.mode,s.getLength(),i)},e.getEncodedBits=function(e){if(!s.isValid(e)||e<7)throw new Error("Invalid QR Code version");let n=e<<12;for(;t.getBCHDigit(n)-i>=0;)n^=7973<<t.getBCHDigit(n)-i;return e<<12|n}}(Tn)),Tn}var Fn,Bn={};var Un,qn,Wn,Vn,Hn,Gn,Kn,Jn,Qn={};var Yn,Xn,Zn,er={exports:{}};function tr(){return Xn||(Xn=1,function(e){const t=zn(),n=function(){if(qn)return Un;qn=1;const e=zn();function t(t){this.mode=e.NUMERIC,this.data=t.toString()}return t.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(e){let t,n,r;for(t=0;t+3<=this.data.length;t+=3)n=this.data.substr(t,3),r=parseInt(n,10),e.put(r,10);const a=this.data.length-t;a>0&&(n=this.data.substr(t),r=parseInt(n,10),e.put(r,3*a+1))},Un=t}(),r=function(){if(Vn)return Wn;Vn=1;const e=zn(),t=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function n(t){this.mode=e.ALPHANUMERIC,this.data=t}return n.getBitsLength=function(e){return 11*Math.floor(e/2)+e%2*6},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(e){let n;for(n=0;n+2<=this.data.length;n+=2){let r=45*t.indexOf(this.data[n]);r+=t.indexOf(this.data[n+1]),e.put(r,11)}this.data.length%2&&e.put(t.indexOf(this.data[n]),6)},Wn=n}(),a=function(){if(Gn)return Hn;Gn=1;const e=zn();function t(t){this.mode=e.BYTE,this.data="string"==typeof t?(new TextEncoder).encode(t):new Uint8Array(t)}return t.getBitsLength=function(e){return 8*e},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(e){for(let t=0,n=this.data.length;t<n;t++)e.put(this.data[t],8)},Hn=t}(),s=function(){if(Jn)return Kn;Jn=1;const e=zn(),t=rn();function n(t){this.mode=e.KANJI,this.data=t}return n.getBitsLength=function(e){return 13*e},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(e){let n;for(n=0;n<this.data.length;n++){let r=t.toSJIS(this.data[n]);if(r>=33088&&r<=40956)r-=33088;else{if(!(r>=57408&&r<=60351))throw new Error("Invalid SJIS character: "+this.data[n]+"\nMake sure your charset is UTF-8");r-=49472}r=192*(r>>>8&255)+(255&r),e.put(r,13)}},Kn=n}(),i=In(),l=rn(),o=function(){return Yn?er.exports:(Yn=1,er.exports=e={single_source_shortest_paths:function(t,n,r){var a={},s={};s[n]=0;var i,l,o,c,u,d,h,p=e.PriorityQueue.make();for(p.push(n,0);!p.empty();)for(o in l=(i=p.pop()).value,c=i.cost,u=t[l]||{})u.hasOwnProperty(o)&&(d=c+u[o],h=s[o],(void 0===s[o]||h>d)&&(s[o]=d,p.push(o,d),a[o]=l));if(void 0!==r&&void 0===s[r]){var m=["Could not find a path from ",n," to ",r,"."].join("");throw new Error(m)}return a},extract_shortest_path_from_predecessor_list:function(e,t){for(var n=[],r=t;r;)n.push(r),e[r],r=e[r];return n.reverse(),n},find_path:function(t,n,r){var a=e.single_source_shortest_paths(t,n,r);return e.extract_shortest_path_from_predecessor_list(a,r)},PriorityQueue:{make:function(t){var n,r=e.PriorityQueue,a={};for(n in t=t||{},r)r.hasOwnProperty(n)&&(a[n]=r[n]);return a.queue=[],a.sorter=t.sorter||r.default_sorter,a},default_sorter:function(e,t){return e.cost-t.cost},push:function(e,t){var n={value:e,cost:t};this.queue.push(n),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}});var e}();function c(e){return unescape(encodeURIComponent(e)).length}function u(e,t,n){const r=[];let a;for(;null!==(a=e.exec(n));)r.push({data:a[0],index:a.index,mode:t,length:a[0].length});return r}function d(e){const n=u(i.NUMERIC,t.NUMERIC,e),r=u(i.ALPHANUMERIC,t.ALPHANUMERIC,e);let a,s;l.isKanjiModeEnabled()?(a=u(i.BYTE,t.BYTE,e),s=u(i.KANJI,t.KANJI,e)):(a=u(i.BYTE_KANJI,t.BYTE,e),s=[]);return n.concat(r,a,s).sort(function(e,t){return e.index-t.index}).map(function(e){return{data:e.data,mode:e.mode,length:e.length}})}function h(e,i){switch(i){case t.NUMERIC:return n.getBitsLength(e);case t.ALPHANUMERIC:return r.getBitsLength(e);case t.KANJI:return s.getBitsLength(e);case t.BYTE:return a.getBitsLength(e)}}function p(e,i){let o;const c=t.getBestModeForData(e);if(o=t.from(i,c),o!==t.BYTE&&o.bit<c.bit)throw new Error('"'+e+'" cannot be encoded with mode '+t.toString(o)+".\n Suggested mode is: "+t.toString(c));switch(o!==t.KANJI||l.isKanjiModeEnabled()||(o=t.BYTE),o){case t.NUMERIC:return new n(e);case t.ALPHANUMERIC:return new r(e);case t.KANJI:return new s(e);case t.BYTE:return new a(e)}}e.fromArray=function(e){return e.reduce(function(e,t){return"string"==typeof t?e.push(p(t,null)):t.data&&e.push(p(t.data,t.mode)),e},[])},e.fromString=function(n,r){const a=function(e){const n=[];for(let r=0;r<e.length;r++){const a=e[r];switch(a.mode){case t.NUMERIC:n.push([a,{data:a.data,mode:t.ALPHANUMERIC,length:a.length},{data:a.data,mode:t.BYTE,length:a.length}]);break;case t.ALPHANUMERIC:n.push([a,{data:a.data,mode:t.BYTE,length:a.length}]);break;case t.KANJI:n.push([a,{data:a.data,mode:t.BYTE,length:c(a.data)}]);break;case t.BYTE:n.push([{data:a.data,mode:t.BYTE,length:c(a.data)}])}}return n}(d(n,l.isKanjiModeEnabled())),s=function(e,n){const r={},a={start:{}};let s=["start"];for(let i=0;i<e.length;i++){const l=e[i],o=[];for(let e=0;e<l.length;e++){const c=l[e],u=""+i+e;o.push(u),r[u]={node:c,lastCount:0},a[u]={};for(let e=0;e<s.length;e++){const i=s[e];r[i]&&r[i].node.mode===c.mode?(a[i][u]=h(r[i].lastCount+c.length,c.mode)-h(r[i].lastCount,c.mode),r[i].lastCount+=c.length):(r[i]&&(r[i].lastCount=c.length),a[i][u]=h(c.length,c.mode)+4+t.getCharCountIndicator(c.mode,n))}}s=o}for(let t=0;t<s.length;t++)a[s[t]].end=0;return{map:a,table:r}}(a,r),i=o.find_path(s.map,"start","end"),u=[];for(let e=1;e<i.length-1;e++)u.push(s.table[i[e]].node);return e.fromArray(function(e){return e.reduce(function(e,t){const n=e.length-1>=0?e[e.length-1]:null;return n&&n.mode===t.mode?(e[e.length-1].data+=t.data,e):(e.push(t),e)},[])}(u))},e.rawSplit=function(t){return e.fromArray(d(t,l.isKanjiModeEnabled()))}}(Qn)),Qn}function nr(){if(Zn)return tn;Zn=1;const e=rn(),t=dn(),n=function(){if(ln)return sn;function e(){this.buffer=[],this.length=0}return ln=1,e.prototype={get:function(e){const t=Math.floor(e/8);return 1==(this.buffer[t]>>>7-e%8&1)},put:function(e,t){for(let n=0;n<t;n++)this.putBit(1==(e>>>t-n-1&1))},getLengthInBits:function(){return this.length},putBit:function(e){const t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}},sn=e}(),r=function(){if(cn)return on;function e(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}return cn=1,e.prototype.set=function(e,t,n,r){const a=e*this.size+t;this.data[a]=n,r&&(this.reservedBit[a]=!0)},e.prototype.get=function(e,t){return this.data[e*this.size+t]},e.prototype.xor=function(e,t,n){this.data[e*this.size+t]^=n},e.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]},on=e}(),a=(hn||(hn=1,function(e){const t=rn().getSymbolSize;e.getRowColCoords=function(e){if(1===e)return[];const n=Math.floor(e/7)+2,r=t(e),a=145===r?26:2*Math.ceil((r-13)/(2*n-2)),s=[r-7];for(let t=1;t<n-1;t++)s[t]=s[t-1]-a;return s.push(6),s.reverse()},e.getPositions=function(t){const n=[],r=e.getRowColCoords(t),a=r.length;for(let e=0;e<a;e++)for(let t=0;t<a;t++)0===e&&0===t||0===e&&t===a-1||e===a-1&&0===t||n.push([r[e],r[t]]);return n}}(pn)),pn),s=function(){if(mn)return fn;mn=1;const e=rn().getSymbolSize;return fn.getPositions=function(t){const n=e(t);return[[0,0],[n-7,0],[0,n-7]]},fn}(),i=(gn||(gn=1,function(e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const t=3,n=3,r=40,a=10;function s(t,n,r){switch(t){case e.Patterns.PATTERN000:return(n+r)%2==0;case e.Patterns.PATTERN001:return n%2==0;case e.Patterns.PATTERN010:return r%3==0;case e.Patterns.PATTERN011:return(n+r)%3==0;case e.Patterns.PATTERN100:return(Math.floor(n/2)+Math.floor(r/3))%2==0;case e.Patterns.PATTERN101:return n*r%2+n*r%3==0;case e.Patterns.PATTERN110:return(n*r%2+n*r%3)%2==0;case e.Patterns.PATTERN111:return(n*r%3+(n+r)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}}e.isValid=function(e){return null!=e&&""!==e&&!isNaN(e)&&e>=0&&e<=7},e.from=function(t){return e.isValid(t)?parseInt(t,10):void 0},e.getPenaltyN1=function(e){const n=e.size;let r=0,a=0,s=0,i=null,l=null;for(let o=0;o<n;o++){a=s=0,i=l=null;for(let c=0;c<n;c++){let n=e.get(o,c);n===i?a++:(a>=5&&(r+=t+(a-5)),i=n,a=1),n=e.get(c,o),n===l?s++:(s>=5&&(r+=t+(s-5)),l=n,s=1)}a>=5&&(r+=t+(a-5)),s>=5&&(r+=t+(s-5))}return r},e.getPenaltyN2=function(e){const t=e.size;let r=0;for(let n=0;n<t-1;n++)for(let a=0;a<t-1;a++){const t=e.get(n,a)+e.get(n,a+1)+e.get(n+1,a)+e.get(n+1,a+1);4!==t&&0!==t||r++}return r*n},e.getPenaltyN3=function(e){const t=e.size;let n=0,a=0,s=0;for(let r=0;r<t;r++){a=s=0;for(let i=0;i<t;i++)a=a<<1&2047|e.get(r,i),i>=10&&(1488===a||93===a)&&n++,s=s<<1&2047|e.get(i,r),i>=10&&(1488===s||93===s)&&n++}return n*r},e.getPenaltyN4=function(e){let t=0;const n=e.data.length;for(let r=0;r<n;r++)t+=e.data[r];return Math.abs(Math.ceil(100*t/n/5)-10)*a},e.applyMask=function(e,t){const n=t.size;for(let r=0;r<n;r++)for(let a=0;a<n;a++)t.isReserved(a,r)||t.xor(a,r,s(e,a,r))},e.getBestMask=function(t,n){const r=Object.keys(e.Patterns).length;let a=0,s=1/0;for(let i=0;i<r;i++){n(i),e.applyMask(i,t);const r=e.getPenaltyN1(t)+e.getPenaltyN2(t)+e.getPenaltyN3(t)+e.getPenaltyN4(t);e.applyMask(i,t),r<s&&(s=r,a=i)}return a}}(yn)),yn),l=xn(),o=function(){if(jn)return Sn;jn=1;const e=Pn();function t(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}return t.prototype.initialize=function(t){this.degree=t,this.genPoly=e.generateECPolynomial(this.degree)},t.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");const n=new Uint8Array(t.length+this.degree);n.set(t);const r=e.mod(n,this.genPoly),a=this.degree-r.length;if(a>0){const e=new Uint8Array(this.degree);return e.set(r,a),e}return r},Sn=t}(),c=$n(),u=function(){if(Fn)return Bn;Fn=1;const e=rn(),t=e.getBCHDigit(1335);return Bn.getEncodedBits=function(n,r){const a=n.bit<<3|r;let s=a<<10;for(;e.getBCHDigit(s)-t>=0;)s^=1335<<e.getBCHDigit(s)-t;return 21522^(a<<10|s)},Bn}(),d=zn(),h=tr();function p(e,t,n){const r=e.size,a=u.getEncodedBits(t,n);let s,i;for(s=0;s<15;s++)i=1==(a>>s&1),s<6?e.set(s,8,i,!0):s<8?e.set(s+1,8,i,!0):e.set(r-15+s,8,i,!0),s<8?e.set(8,r-s-1,i,!0):s<9?e.set(8,15-s-1+1,i,!0):e.set(8,15-s-1,i,!0);e.set(r-8,8,1,!0)}function m(t,r,a){const s=new n;a.forEach(function(e){s.put(e.mode.bit,4),s.put(e.getLength(),d.getCharCountIndicator(e.mode,t)),e.write(s)});const i=8*(e.getSymbolTotalCodewords(t)-l.getTotalCodewordsCount(t,r));for(s.getLengthInBits()+4<=i&&s.put(0,4);s.getLengthInBits()%8!=0;)s.putBit(0);const c=(i-s.getLengthInBits())/8;for(let e=0;e<c;e++)s.put(e%2?17:236,8);return function(t,n,r){const a=e.getSymbolTotalCodewords(n),s=l.getTotalCodewordsCount(n,r),i=a-s,c=l.getBlocksCount(n,r),u=a%c,d=c-u,h=Math.floor(a/c),p=Math.floor(i/c),m=p+1,f=h-p,g=new o(f);let y=0;const v=new Array(c),b=new Array(c);let x=0;const w=new Uint8Array(t.buffer);for(let e=0;e<c;e++){const t=e<d?p:m;v[e]=w.slice(y,y+t),b[e]=g.encode(v[e]),y+=t,x=Math.max(x,t)}const k=new Uint8Array(a);let S,j,N=0;for(S=0;S<x;S++)for(j=0;j<c;j++)S<v[j].length&&(k[N++]=v[j][S]);for(S=0;S<f;S++)for(j=0;j<c;j++)k[N++]=b[j][S];return k}(s,t,r)}function f(t,n,l,o){let u;if(Array.isArray(t))u=h.fromArray(t);else{if("string"!=typeof t)throw new Error("Invalid data");{let e=n;if(!e){const n=h.rawSplit(t);e=c.getBestVersionForData(n,l)}u=h.fromString(t,e||40)}}const d=c.getBestVersionForData(u,l);if(!d)throw new Error("The amount of data is too big to be stored in a QR Code");if(n){if(n<d)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+d+".\n")}else n=d;const f=m(n,l,u),g=e.getSymbolSize(n),y=new r(g);return function(e,t){const n=e.size,r=s.getPositions(t);for(let a=0;a<r.length;a++){const t=r[a][0],s=r[a][1];for(let r=-1;r<=7;r++)if(!(t+r<=-1||n<=t+r))for(let a=-1;a<=7;a++)s+a<=-1||n<=s+a||(r>=0&&r<=6&&(0===a||6===a)||a>=0&&a<=6&&(0===r||6===r)||r>=2&&r<=4&&a>=2&&a<=4?e.set(t+r,s+a,!0,!0):e.set(t+r,s+a,!1,!0))}}(y,n),function(e){const t=e.size;for(let n=8;n<t-8;n++){const t=n%2==0;e.set(n,6,t,!0),e.set(6,n,t,!0)}}(y),function(e,t){const n=a.getPositions(t);for(let r=0;r<n.length;r++){const t=n[r][0],a=n[r][1];for(let n=-2;n<=2;n++)for(let r=-2;r<=2;r++)-2===n||2===n||-2===r||2===r||0===n&&0===r?e.set(t+n,a+r,!0,!0):e.set(t+n,a+r,!1,!0)}}(y,n),p(y,l,0),n>=7&&function(e,t){const n=e.size,r=c.getEncodedBits(t);let a,s,i;for(let l=0;l<18;l++)a=Math.floor(l/3),s=l%3+n-8-3,i=1==(r>>l&1),e.set(a,s,i,!0),e.set(s,a,i,!0)}(y,n),function(e,t){const n=e.size;let r=-1,a=n-1,s=7,i=0;for(let l=n-1;l>0;l-=2)for(6===l&&l--;;){for(let n=0;n<2;n++)if(!e.isReserved(a,l-n)){let r=!1;i<t.length&&(r=1==(t[i]>>>s&1)),e.set(a,l-n,r),s--,-1===s&&(i++,s=7)}if(a+=r,a<0||n<=a){a-=r,r=-r;break}}}(y,f),isNaN(o)&&(o=i.getBestMask(y,p.bind(null,y,l))),i.applyMask(o,y),p(y,l,o),{modules:y,version:n,errorCorrectionLevel:l,maskPattern:o,segments:u}}return tn.create=function(n,r){if(void 0===n||""===n)throw new Error("No input text");let a,s,l=t.M;return void 0!==r&&(l=t.from(r.errorCorrectionLevel,t.M),a=c.from(r.version),s=i.from(r.maskPattern),r.toSJISFunc&&e.setToSJISFunction(r.toSJISFunc)),f(n,a,l,s)},tn}var rr,ar,sr={},ir={};function lr(){return rr||(rr=1,function(e){function t(e){if("number"==typeof e&&(e=e.toString()),"string"!=typeof e)throw new Error("Color should be defined as hex string");let t=e.slice().replace("#","").split("");if(t.length<3||5===t.length||t.length>8)throw new Error("Invalid hex color: "+e);3!==t.length&&4!==t.length||(t=Array.prototype.concat.apply([],t.map(function(e){return[e,e]}))),6===t.length&&t.push("F","F");const n=parseInt(t.join(""),16);return{r:n>>24&255,g:n>>16&255,b:n>>8&255,a:255&n,hex:"#"+t.slice(0,6).join("")}}e.getOptions=function(e){e||(e={}),e.color||(e.color={});const n=void 0===e.margin||null===e.margin||e.margin<0?4:e.margin,r=e.width&&e.width>=21?e.width:void 0,a=e.scale||4;return{width:r,scale:r?4:a,margin:n,color:{dark:t(e.color.dark||"#000000ff"),light:t(e.color.light||"#ffffffff")},type:e.type,rendererOpts:e.rendererOpts||{}}},e.getScale=function(e,t){return t.width&&t.width>=e+2*t.margin?t.width/(e+2*t.margin):t.scale},e.getImageWidth=function(t,n){const r=e.getScale(t,n);return Math.floor((t+2*n.margin)*r)},e.qrToImageData=function(t,n,r){const a=n.modules.size,s=n.modules.data,i=e.getScale(a,r),l=Math.floor((a+2*r.margin)*i),o=r.margin*i,c=[r.color.light,r.color.dark];for(let e=0;e<l;e++)for(let n=0;n<l;n++){let u=4*(e*l+n),d=r.color.light;if(e>=o&&n>=o&&e<l-o&&n<l-o){d=c[s[Math.floor((e-o)/i)*a+Math.floor((n-o)/i)]?1:0]}t[u++]=d.r,t[u++]=d.g,t[u++]=d.b,t[u]=d.a}}}(ir)),ir}function or(){return ar||(ar=1,function(e){const t=lr();e.render=function(e,n,r){let a=r,s=n;void 0!==a||n&&n.getContext||(a=n,n=void 0),n||(s=function(){try{return document.createElement("canvas")}catch(_l){throw new Error("You need to specify a canvas element")}}()),a=t.getOptions(a);const i=t.getImageWidth(e.modules.size,a),l=s.getContext("2d"),o=l.createImageData(i,i);return t.qrToImageData(o.data,e,a),function(e,t,n){e.clearRect(0,0,t.width,t.height),t.style||(t.style={}),t.height=n,t.width=n,t.style.height=n+"px",t.style.width=n+"px"}(l,s,i),l.putImageData(o,0,0),s},e.renderToDataURL=function(t,n,r){let a=r;void 0!==a||n&&n.getContext||(a=n,n=void 0),a||(a={});const s=e.render(t,n,a),i=a.type||"image/png",l=a.rendererOpts||{};return s.toDataURL(i,l.quality)}}(sr)),sr}var cr,ur,dr={};function hr(){if(cr)return dr;cr=1;const e=lr();function t(e,t){const n=e.a/255,r=t+'="'+e.hex+'"';return n<1?r+" "+t+'-opacity="'+n.toFixed(2).slice(1)+'"':r}function n(e,t,n){let r=e+t;return void 0!==n&&(r+=" "+n),r}return dr.render=function(r,a,s){const i=e.getOptions(a),l=r.modules.size,o=r.modules.data,c=l+2*i.margin,u=i.color.light.a?"<path "+t(i.color.light,"fill")+' d="M0 0h'+c+"v"+c+'H0z"/>':"",d="<path "+t(i.color.dark,"stroke")+' d="'+function(e,t,r){let a="",s=0,i=!1,l=0;for(let o=0;o<e.length;o++){const c=Math.floor(o%t),u=Math.floor(o/t);c||i||(i=!0),e[o]?(l++,o>0&&c>0&&e[o-1]||(a+=i?n("M",c+r,.5+u+r):n("m",s,0),s=0,i=!1),c+1<t&&e[o+1]||(a+=n("h",l),l=0)):s++}return a}(o,l,i.margin)+'"/>',h='viewBox="0 0 '+c+" "+c+'"',p='<svg xmlns="http://www.w3.org/2000/svg" '+(i.width?'width="'+i.width+'" height="'+i.width+'" ':"")+h+' shape-rendering="crispEdges">'+u+d+"</svg>\n";return"function"==typeof s&&s(null,p),p},dr}const pr=t(function(){if(ur)return Zt;ur=1;const e=Xt?Yt:(Xt=1,Yt=function(){return"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then}),t=nr(),n=or(),r=hr();function a(n,r,a,s,i){const l=[].slice.call(arguments,1),o=l.length,c="function"==typeof l[o-1];if(!c&&!e())throw new Error("Callback required as last argument");if(!c){if(o<1)throw new Error("Too few arguments provided");return 1===o?(a=r,r=s=void 0):2!==o||r.getContext||(s=a,a=r,r=void 0),new Promise(function(e,i){try{const i=t.create(a,s);e(n(i,r,s))}catch(_l){i(_l)}})}if(o<2)throw new Error("Too few arguments provided");2===o?(i=a,a=r,r=s=void 0):3===o&&(r.getContext&&void 0===i?(i=s,s=void 0):(i=s,s=a,a=r,r=void 0));try{const e=t.create(a,s);i(null,n(e,r,s))}catch(_l){i(_l)}}return Zt.create=t.create,Zt.toCanvas=a.bind(null,n.render),Zt.toDataURL=a.bind(null,n.renderToDataURL),Zt.toString=a.bind(null,function(e,t,n){return r.render(e,n)}),Zt}()),mr=({event:e})=>{const[t,n]=c.useState(!1),[r,a]=c.useState(!1),[s,i]=c.useState(""),l=`${window.location.origin}/event/${e.id}`;return o.jsxs(o.Fragment,{children:[o.jsxs("button",{onClick:async()=>{n(!0),await(async()=>{try{const e=await pr.toDataURL(l,{width:300,margin:2,color:{dark:"#000000",light:"#FFFFFF"}});i(e)}catch(e){}})()},className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[o.jsx(Ct,{className:"w-4 h-4"}),"Event teilen"]}),t&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h3",{className:"text-xl font-semibold",children:"Event teilen"}),o.jsx("button",{onClick:()=>n(!1),className:"text-gray-500 hover:text-gray-700",children:"âœ•"})]}),o.jsx("div",{className:"text-center mb-6",children:s?o.jsxs("div",{children:[o.jsx("img",{src:s,alt:"QR Code",className:"mx-auto mb-2"}),o.jsx("p",{className:"text-sm text-gray-600",children:"QR-Code scannen fÃ¼r direkten Zugang zur Anmeldung"})]}):o.jsx("div",{className:"h-64 flex items-center justify-center",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"Direkter Link zur Anmeldung:"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{type:"text",value:l,readOnly:!0,className:"flex-1 px-3 py-2 border rounded-lg bg-gray-50 text-sm"}),o.jsx("button",{onClick:()=>{navigator.clipboard.writeText(l),a(!0),setTimeout(()=>a(!1),2e3)},className:"px-4 py-2 rounded-lg transition-colors "+(r?"bg-green-600 text-white":"bg-blue-600 text-white hover:bg-blue-700"),children:r?o.jsx(mt,{className:"w-5 h-5"}):o.jsx(vt,{className:"w-5 h-5"})})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("button",{onClick:()=>window.open(l,"_blank"),className:"w-full flex items-center justify-center gap-2 px-4 py-2 border rounded-lg hover:bg-gray-50",children:[o.jsx(bt,{className:"w-4 h-4"}),"Im Browser Ã¶ffnen"]}),navigator.share&&o.jsxs("button",{onClick:async()=>{if(navigator.share)try{await navigator.share({title:e.title,text:`Melde dich an fÃ¼r: ${e.title}`,url:l})}catch(t){}},className:"w-full flex items-center justify-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[o.jsx(Ct,{className:"w-4 h-4"}),"Ãœber System teilen"]}),o.jsx("button",{onClick:()=>{const t=`https://wa.me/?text=${encodeURIComponent(`Melde dich an fÃ¼r: ${e.title}\n${l}`)}`;window.open(t,"_blank")},className:"w-full flex items-center justify-center gap-2 px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600",children:"ðŸ“± Per WhatsApp teilen"})]}),o.jsxs("div",{className:"mt-4 p-3 bg-gray-100 rounded-lg text-sm",children:[o.jsx("p",{className:"font-medium",children:e.title}),o.jsxs("p",{className:"text-gray-600",children:[new Date(e.date).toLocaleDateString("de-DE")," â€¢ ",e.startTime," Uhr"]}),o.jsxs("p",{className:"text-gray-600",children:[e.players.length,"/",e.maxPlayers," PlÃ¤tze belegt"]})]})]})})]})};function fr(e){const{format:t="americano",players:n=[],courts:r=1,rounds:a=null,roundDuration:s=15,startTime:i="09:00",endTime:l="18:00",breaks:o=[],options:c={}}=e;switch(function(e){const{players:t,courts:n,format:r}=e;if(!t||t.length<2)throw new Error("Mindestens 2 Spieler erforderlich");if(!n||n<1)throw new Error("Mindestens 1 Court erforderlich");if("americano"===r&&t.length<4)throw new Error("Americano benÃ¶tigt mindestens 4 Spieler")}(e),t.toLowerCase()){case"americano":return function(e){var t,n,r,a;const{players:s,courts:i,rounds:l,roundDuration:o,startTime:c,endTime:u,breaks:d=[],options:h={}}=e,p=function(e,t,n=[]){const[r,a]=e.split(":").map(Number),[s,i]=t.split(":").map(Number);let l=60*s+i-(60*r+a);l<0&&(l+=1440);const o=n.reduce((e,t)=>e+(t.duration||0),0);return l-o}(c,u,d),m=l||Math.floor(p/o),f=Math.min(m,25),g=[],y=function(e){const t={gamesPlayed:{},partners:{},opponents:{},timesRested:{},lastRestRound:{},courtHistory:{},lastPartnerRound:{},lastOpponentRound:{},partnerCount:{},opponentCount:{},partnerMatrix:{},opponentMatrix:{}};return e.forEach((n,r)=>{t.gamesPlayed[n.id]=0,t.partners[n.id]={},t.opponents[n.id]={},t.timesRested[n.id]=0,t.lastRestRound[n.id]=-10,t.courtHistory[n.id]=[],t.lastPartnerRound[n.id]={},t.lastOpponentRound[n.id]={},t.partnerCount[n.id]={},t.opponentCount[n.id]={},t.partnerMatrix[r]={},t.opponentMatrix[r]={},e.forEach((e,a)=>{n.id!==e.id&&(t.partners[n.id][e.id]=0,t.opponents[n.id][e.id]=0,t.lastPartnerRound[n.id][e.id]=-100,t.lastOpponentRound[n.id][e.id]=-100,t.partnerCount[n.id][e.id]=0,t.opponentCount[n.id][e.id]=0),t.partnerMatrix[r][a]=0,t.opponentMatrix[r][a]=0})}),t}(s),v=4,b=Math.min(i,Math.floor(s.length/v)),x=(h.regenerateCount||0)%4,w=function(e){let t=e;return{next:()=>(t=(9301*t+49297)%233280,t/233280)}}(x+s.length);for(let S=0;S<f;S++){const e=[],t=new Set,n=[...s].sort((e,t)=>{const n=y.gamesPlayed[e.id]-y.gamesPlayed[t.id];if(0!==n)return n;const r=S-y.lastRestRound[t.id]-(S-y.lastRestRound[e.id]);if(0!==r)return r;return Object.values(y.partnerCount[e.id]).filter(e=>e>0).length-Object.values(y.partnerCount[t.id]).filter(e=>e>0).length});for(let i=1;i<=b&&n.length>=4;i++){const r=yr(n.filter(e=>!t.has(e.id)),y,i,S,w);r&&(e.push({court:i,team1:r.team1,team2:r.team2,players:[...r.team1,...r.team2].map(e=>e.id)}),gr(r,y,i,S,s),r.team1.forEach(e=>t.add(e.id)),r.team2.forEach(e=>t.add(e.id)))}const r=s.filter(e=>!t.has(e.id));r.forEach(e=>{y.timesRested[e.id]++,y.lastRestRound[e.id]=S});const a=br(c,S,o,d);g.push({round:S+1,startTime:a,endTime:xr(a,o),matches:e,waitingPlayers:r})}const k=function(e,t){const n=e.map(e=>{const n=Object.values(t.partnerCount[e.id]||{}).filter(e=>e>0).length,r=Object.values(t.opponentCount[e.id]||{}).filter(e=>e>0).length,a=Object.values(t.partnerCount[e.id]||{}).filter(e=>e>0),s=Math.max(...a,0),i=a.length>0?a.reduce((e,t)=>e+t,0)/a.length:0,l=s>0?i/s*100:100;return{name:e.name,games:t.gamesPlayed[e.id]||0,uniquePartners:n,uniqueOpponents:r,maxPartnerRepeats:s,timesRested:t.timesRested[e.id]||0,fairness:Math.round(l)}}),r=n.reduce((e,t)=>e+t.games,0),a=n.map(e=>e.games);return{playerStats:n,summary:{totalPlayers:e.length,avgGamesPerPlayer:e.length>0?Math.round(r/e.length*10)/10:0,avgUniquePartners:e.length>0?Math.round(n.reduce((e,t)=>e+t.uniquePartners,0)/e.length*10)/10:0,minGames:a.length>0?Math.min(...a):0,maxGames:a.length>0?Math.max(...a):0,avgFairness:e.length>0?Math.round(n.reduce((e,t)=>e+t.fairness,0)/e.length):0}}}(s,y);return{format:"americano",schedule:g,statistics:{partnerMatrix:y.partnerMatrix,opponentMatrix:y.opponentMatrix,gamesPlayed:s.map(e=>y.gamesPlayed[e.id]||0),...k,maxGames:(null==(t=k.summary)?void 0:t.maxGames)||0,minGames:(null==(n=k.summary)?void 0:n.minGames)||0,seed:x,regenerateCount:h.regenerateCount||0},summary:{totalRounds:f,totalMatches:g.reduce((e,t)=>e+t.matches.length,0),playersPerRound:4*b,averageGamesPerPlayer:(null==(r=k.summary)?void 0:r.avgGamesPerPlayer)||0,fairnessScore:(null==(a=k.summary)?void 0:a.avgFairness)||0}}}(e);case"roundrobin":return{format:"roundrobin",schedule:[],statistics:{partnerMatrix:{},opponentMatrix:{},gamesPlayed:[]},summary:{totalRounds:0,totalMatches:0}};case"elimination":return{format:"elimination",schedule:[],statistics:{partnerMatrix:{},opponentMatrix:{},gamesPlayed:[]},summary:{totalRounds:0,totalMatches:0}};case"swiss":return{format:"swiss",schedule:[],statistics:{partnerMatrix:{},opponentMatrix:{},gamesPlayed:[]},summary:{totalRounds:0,totalMatches:0}};default:throw new Error(`Unbekanntes Turnier-Format: ${t}`)}}function gr(e,t,n,r,a){[...e.team1,...e.team2].forEach(e=>{t.gamesPlayed[e.id]++,t.courtHistory[e.id].push(n)});const s=e=>a.findIndex(t=>t.id===e),i=(e,n)=>{const a=s(e.id),i=s(n.id);t.partners[e.id][n.id]++,t.partnerCount[e.id][n.id]++,t.lastPartnerRound[e.id][n.id]=r,a>=0&&i>=0&&(t.partnerMatrix[a][i]=(t.partnerMatrix[a][i]||0)+1)};i(e.team1[0],e.team1[1]),i(e.team1[1],e.team1[0]),i(e.team2[0],e.team2[1]),i(e.team2[1],e.team2[0]),e.team1.forEach(n=>{e.team2.forEach(e=>{((e,n)=>{const a=s(e.id),i=s(n.id);t.opponents[e.id][n.id]++,t.opponents[n.id][e.id]++,t.opponentCount[e.id][n.id]++,t.opponentCount[n.id][e.id]++,t.lastOpponentRound[e.id][n.id]=r,t.lastOpponentRound[n.id][e.id]=r,a>=0&&i>=0&&(t.opponentMatrix[a][i]=(t.opponentMatrix[a][i]||0)+1,t.opponentMatrix[i][a]=(t.opponentMatrix[i][a]||0)+1)})(n,e)})})}function yr(e,t,n,r,a){if(e.length<4)return null;let s=null,i=-1/0;const l=Math.min(100,Math.max(20,2*e.length)),o=[];for(let c=0;c<Math.min(l,e.length-3);c++){for(let t=c+1;t<e.length-2;t++){for(let n=t+1;n<e.length-1;n++){for(let r=n+1;r<e.length&&(o.push([e[c],e[t],e[n],e[r]]),!(o.length>=l));r++);if(o.length>=l)break}if(o.length>=l)break}if(o.length>=l)break}for(const c of o){const e=[[[c[0],c[1]],[c[2],c[3]]],[[c[0],c[2]],[c[1],c[3]]],[[c[0],c[3]],[c[1],c[2]]]];for(const[l,o]of e){const e=vr(l,o,t,n,r,a);e>i&&(i=e,s={team1:l,team2:o})}}return s}function vr(e,t,n,r,a,s){let i=0;const l=(e,t)=>{const r=n.partnerCount[e.id][t.id]||0,s=n.lastPartnerRound[e.id][t.id]||-100,i=a-s;if(0===r)return 300;{let e=0;return e+=20*Math.min(i,15),e-=80*r,e}};i+=l(e[0],e[1]),i+=l(t[0],t[1]);e.forEach(e=>{t.forEach(t=>{i+=((e,t)=>{const r=n.opponentCount[e.id][t.id]||0,s=n.lastOpponentRound[e.id][t.id]||-100,i=a-s;if(0===r)return 150;{let e=0;return e+=15*Math.min(i,10),e-=40*r,e}})(e,t)})});const o=[...e,...t],c=o.map(e=>n.gamesPlayed[e.id]||0),u=c.reduce((e,t)=>e+t,0)/4,d=c.reduce((e,t)=>e+Math.pow(t-u,2),0)/4;i-=30*d;const h=o.map(e=>{const t=n.lastRestRound[e.id]||-10;return 10*Math.min(a-t,5)});return i+=h.reduce((e,t)=>e+t,0),i+=15*s.next(),i}function br(e,t,n,r=[]){const[a,s]=e.split(":").map(Number),i=60*a+s+t*n,l=i%60;return`${Math.floor(i/60).toString().padStart(2,"0")}:${l.toString().padStart(2,"0")}`}function xr(e,t){const[n,r]=e.split(":").map(Number),a=60*n+r+t,s=a%60;return`${Math.floor(a/60).toString().padStart(2,"0")}:${s.toString().padStart(2,"0")}`}function wr(e,t,n,r={}){var a,s;try{const i=fr({format:"americano",players:e,courts:t,rounds:n,roundDuration:15,startTime:"09:00",endTime:"18:00",options:r});return{schedule:i.schedule,statistics:{partnerMatrix:i.statistics.partnerMatrix||{},opponentMatrix:i.statistics.opponentMatrix||{},gamesPlayed:i.statistics.gamesPlayed||[],maxGames:(null==(a=i.statistics.summary)?void 0:a.maxGames)||0,minGames:(null==(s=i.statistics.summary)?void 0:s.minGames)||0,seed:i.statistics.seed||0,regenerateCount:r.regenerateCount||0}}}catch(i){return{schedule:[],statistics:{partnerMatrix:{},opponentMatrix:{},gamesPlayed:new Array(e.length).fill(0),maxGames:0,minGames:0,seed:0,regenerateCount:0}}}}const kr=({event:e,onEdit:t,onUpdateEvent:n,onStartTournament:r,canManageEvent:a=!1})=>{var s;const i=Wt()||{},{t:l=e=>e,language:u="de"}=i,[d,h]=c.useState(!1),[p,m]=c.useState([]),[f,g]=c.useState(null);if(!e)return null;const y=c.useCallback(e=>({de:"de-DE",es:"es-ES",en:"en-US"}[e]||"de-DE"),[]),v=c.useMemo(()=>{if(!e)return null;let t=e.date;return e.date&&(e.date.startsWith("000")||e.date.length<8)&&(t=(new Date).toISOString().split("T")[0]),{...e,players:Array.isArray(e.players)?e.players:[],schedule:Array.isArray(e.schedule)?e.schedule:[],startTime:e.startTime||e.start_time||"09:00",endTime:e.endTime||e.end_time||"13:00",courts:parseInt(e.courts)||2,roundDuration:parseInt(e.roundDuration)||15,minGamesPerPlayer:parseInt(e.minGamesPerPlayer)||3,status:e.status||"pending",fairnessScore:e.fairnessScore||0,regenerateCount:e.regenerateCount||0,maxPlayers:e.maxPlayers||e.max_players||16,sport:e.sport||"padel",format:e.format||"doubles",eventType:e.eventType||e.event_type||"americano",genderMode:e.genderMode||"open",location:e.location||"",price:e.price||e.entryFee||0,name:e.name||e.title||"",description:e.description||e.eventInfo||"",date:t,registrationDeadline:e.registrationDeadline||e.registration_deadline}},[e]),b=c.useMemo(()=>{if(!v)return{};const e=v.players.length>=4,t=v.schedule.length>0,n=e&&!t&&"completed"!==v.status&&a,r=e&&t&&"completed"!==v.status&&a;let s,i=!1;try{s=new Date(v.date),isNaN(s.getTime())||(i=s<new Date&&"completed"!==v.status)}catch(l){}return{hasEnoughPlayers:e,hasSchedule:t,canGenerateSchedule:n,canStartTournament:r,eventDate:s,isEventPast:i}},[v,a]),{hasEnoughPlayers:x,hasSchedule:w,canGenerateSchedule:k,canStartTournament:S,eventDate:j,isEventPast:N}=b,E=c.useMemo(()=>v?{startTime:v.startTime,endTime:v.endTime}:{startTime:"",endTime:""},[v]),{startTime:P,endTime:_}=E,T=c.useCallback(e=>{if(!e)return l("form.notSpecified");try{const t=new Date(e);return isNaN(t.getTime())?e:t.toLocaleDateString(y(u))+", "+t.toLocaleTimeString(y(u),{hour:"2-digit",minute:"2-digit"})}catch(t){return e}},[l,y,u]),C=c.useCallback((e,t)=>{if(!e||!e.statistics||!Array.isArray(t)||0===t.length)return{overallScore:0,avgUniquePartners:"0.0",avgUniqueOpponents:"0.0",maxPartnerRepeats:0,maxOpponentRepeats:0,gameBalance:"0.0",partnerScore:0,opponentScore:0,repeatScore:0,balanceScore:0};const n=t.length,r=t.reduce((t,n,r)=>t+Object.values(e.statistics.partnerMatrix[r]||{}).filter(e=>e>0).length,0)/n,a=t.reduce((t,n,r)=>t+Object.values(e.statistics.opponentMatrix[r]||{}).filter(e=>e>0).length,0)/n,s=Math.max(...Object.values(e.statistics.partnerMatrix).map(e=>Math.max(...Object.values(e)))),i=Math.max(...Object.values(e.statistics.opponentMatrix).map(e=>Math.max(...Object.values(e)))),l=e.statistics.gamesPlayed.reduce((e,t)=>e+t,0)/n,o=Math.sqrt(e.statistics.gamesPlayed.reduce((e,t)=>e+Math.pow(t-l,2),0)/n),c=Math.min(100,r/(n-1)*100),u=Math.min(100,a/(n-1)*100),d=Math.max(0,100-20*(s-1)),h=Math.max(0,100-10*o);return{overallScore:Math.round(.3*c+.3*u+.25*d+.15*h),avgUniquePartners:r.toFixed(1),avgUniqueOpponents:a.toFixed(1),maxPartnerRepeats:s,maxOpponentRepeats:i,gameBalance:o.toFixed(2),partnerScore:Math.round(c),opponentScore:Math.round(u),repeatScore:Math.round(d),balanceScore:Math.round(h)}},[]),M=c.useCallback(()=>{if(!x)return void alert(l("messages.minPlayersForSchedule"));if(!v||!v.players||v.players.length<4)return void alert(l("messages.minPlayersRequired")||"Mindestens 4 Spieler erforderlich");const e=v.players.length,t=v.courts,n=v.minGamesPerPlayer,r=4*t;let a=n;e>r&&(a=Math.ceil(n*e/r));const s=[];for(let l=0;l<3;l++)try{const e=wr(v.players,t,a,{regenerateCount:l,eventId:v.id}),n=C(e,v.players);s.push({schedule:e.schedule,fairness:n,regenerateCount:l})}catch(i){}0!==s.length?(m(s),h(!0)):alert(l("messages.errorGeneratingSchedule")||"Fehler beim Generieren des Spielplans")},[x,v,l,C]),A=c.useCallback(e=>{if(!p[e]||!v)return;const t=p[e],r={...v,schedule:t.schedule,currentRound:0,status:"scheduled",regenerateCount:t.regenerateCount,fairnessScore:t.fairness.overallScore,updated_at:(new Date).toISOString()};n(r),h(!1),m([])},[p,v,n]),R=c.useMemo(()=>{if(!v||!v.players)return[];const e={};return v.players.forEach(t=>{t&&t.id&&(e[t.id]={...t,points:0,gamesWon:0,gamesPlayed:0})}),v.results&&"object"==typeof v.results&&Object.entries(v.results).forEach(([t,n])=>{if(n&&n.result){const{team1:t,team2:r,result:a}=n;Array.isArray(t)&&t.forEach(t=>{(null==t?void 0:t.id)&&e[t.id]&&(e[t.id].gamesPlayed++,e[t.id].gamesWon+=a.team1Score||0,e[t.id].points+=a.team1Points||0)}),Array.isArray(r)&&r.forEach(t=>{(null==t?void 0:t.id)&&e[t.id]&&(e[t.id].gamesPlayed++,e[t.id].gamesWon+=a.team2Score||0,e[t.id].points+=a.team2Points||0)})}}),Object.values(e).sort((e,t)=>t.points!==e.points?t.points-e.points:t.gamesWon-e.gamesWon)},[v]),D=c.useCallback(e=>"number"!=typeof e||isNaN(e)?"text-gray-600 bg-gray-50":e>=80?"text-green-600 bg-green-50":e>=60?"text-yellow-600 bg-yellow-50":e>=40?"text-orange-600 bg-orange-50":"text-red-600 bg-red-50",[]);return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[o.jsxs("div",{className:"flex justify-between items-start mb-4",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold mb-2",children:v.title||v.name||l("event.unnamed")}),o.jsx("p",{className:"text-gray-600",children:v.description}),(v.price||v.registrationDeadline||v.minGamesPerPlayer)&&o.jsxs("div",{className:"mt-3 text-sm text-gray-600",children:[v.price&&o.jsxs("span",{children:[l("event.participationFee"),": ",v.price,"â‚¬ "]}),v.registrationDeadline&&o.jsxs("span",{children:[l("event.registrationDeadline"),": ",T(v.registrationDeadline)," "]}),v.minGamesPerPlayer&&o.jsxs("span",{children:[l("form.minGamesPerPlayer"),": ",v.minGamesPerPlayer]})]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(mr,{event:v}),a&&o.jsxs("button",{onClick:()=>t(v),className:"flex items-center gap-2 px-4 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 transition-colors",children:[o.jsx(Mt,{className:"w-4 h-4"}),l("navigation.edit")]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(ot,{className:"w-4 h-4 text-gray-500"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500",children:l("event.date")}),o.jsx("p",{className:"font-medium",children:j&&!isNaN(j.getTime())?j.toLocaleDateString(y(u),{weekday:"long",year:"numeric",month:"long",day:"numeric"}):l("event.noDate")||"Kein Datum"})]})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(gt,{className:"w-5 h-5 text-gray-500"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500",children:l("event.time")}),o.jsx("p",{className:"font-medium",children:P&&_?`${P} - ${_}`:l("event.noTime")})]})]}),v.location&&o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(St,{className:"w-5 h-5 text-gray-500"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500",children:l("event.location")}),o.jsx("p",{className:"font-medium",children:v.location})]})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Lt,{className:"w-5 h-5 text-gray-500"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500",children:l("event.sport")}),o.jsx("p",{className:"font-medium",children:l(`sports.${v.sport}`)})]})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Ot,{className:"w-5 h-5 text-gray-500"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500",children:l("player.players")}),o.jsxs("p",{className:"font-medium",children:[v.players.length," / ",v.maxPlayers||v.max_players||16," ",l("player.players")]})]})]}),v.price&&o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("span",{className:"text-xl",children:"ðŸ’°"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500",children:l("event.participationFee")}),o.jsxs("p",{className:"font-medium",children:[v.price,"â‚¬"]})]})]})]})]}),o.jsx("div",{className:"border-t pt-4 mb-4",children:o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[o.jsxs("div",{children:[o.jsxs("span",{className:"text-gray-500",children:[l("event.format.title"),":"]}),o.jsx("span",{className:"ml-2 font-medium",children:"single"===v.teamFormat||"singles"===v.format?l("event.format.single"):l("event.format.double")})]}),(v.isAmericano||"americano"===v.event_type||"americano"===v.eventType)&&o.jsxs("div",{children:[o.jsxs("span",{className:"text-gray-500",children:[l("event.playMode"),":"]}),o.jsx("span",{className:"ml-2 font-medium",children:l("eventTypes.americano")})]}),o.jsxs("div",{children:[o.jsxs("span",{className:"text-gray-500",children:[l("event.courts"),":"]}),o.jsx("span",{className:"ml-2 font-medium",children:v.courts})]}),v.genderMode&&"open"!==v.genderMode&&o.jsxs("div",{children:[o.jsxs("span",{className:"text-gray-500",children:[l("player.gender"),":"]}),o.jsx("span",{className:"ml-2 font-medium",children:"men"===v.genderMode?l("player.male"):l("player.female")})]})]})}),w&&o.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ct,{className:"w-5 h-5 text-blue-600"}),o.jsx("p",{className:"font-medium text-blue-800",children:Bt(l("schedule.scheduled"),{rounds:v.schedule.length})})]}),v.fairnessScore&&o.jsxs("div",{className:`px-3 py-1 rounded-full text-sm font-semibold ${D(v.fairnessScore)}`,children:[l("schedule.fairness"),": ",v.fairnessScore,"%"]})]})}),"completed"===v.status?o.jsx("div",{className:"bg-green-100 text-green-800 px-4 py-3 rounded-lg",children:o.jsxs("p",{className:"font-semibold",children:["âœ… ",l("messages.tournamentComplete")]})}):N?o.jsx("div",{className:"bg-yellow-100 text-yellow-800 px-4 py-3 rounded-lg",children:o.jsxs("p",{className:"font-semibold",children:["âš ï¸ ",l("messages.eventDatePast")]})}):o.jsxs("div",{className:"space-y-3",children:[!x&&o.jsx("div",{className:"bg-gray-100 text-gray-600 px-4 py-3 rounded-lg text-center",children:o.jsx("p",{className:"font-medium",children:Bt(l("messages.minPlayersNeeded"),{count:4-((null==(s=v.players)?void 0:s.length)||0)})})}),k&&o.jsxs("button",{onClick:M,disabled:!k,className:"w-full flex items-center justify-center gap-2 px-6 py-3 rounded-lg transition-colors font-medium "+(k?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-300 text-gray-500 cursor-not-allowed"),children:[o.jsx(ct,{className:"w-5 h-5"}),l("schedule.generateSchedule")]}),S&&o.jsxs("button",{onClick:()=>r(v),className:"w-full flex items-center justify-center gap-2 px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium",children:[o.jsx(Et,{className:"w-5 h-5"}),l("event.startTournament")]}),!a&&x&&!w&&o.jsx("div",{className:"bg-yellow-100 text-yellow-800 px-4 py-3 rounded-lg text-center",children:o.jsx("p",{className:"font-medium",children:l("messages.waitingForSchedule")})})]})]}),w&&o.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h3",{className:"text-xl font-semibold",children:l("results.tournamentResults")}),a&&o.jsx("button",{onClick:()=>{const e={...v,showLiveTable:!v.showLiveTable};n(e)},className:"flex items-center gap-2 px-3 py-1 text-sm bg-gray-200 rounded hover:bg-gray-300",children:!1!==v.showLiveTable?"ðŸ‘ï¸ "+l("table.hide"):"ðŸ‘ï¸â€ðŸ—¨ï¸ "+l("table.show")})]}),!1!==v.showLiveTable?o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"border-b",children:[o.jsx("th",{className:"text-left py-2 px-3",children:l("results.position")}),o.jsx("th",{className:"text-left py-2 px-3",children:l("results.player")}),o.jsx("th",{className:"text-center py-2 px-3",children:l("results.points")}),o.jsx("th",{className:"text-center py-2 px-3",children:l("results.games")}),o.jsx("th",{className:"text-center py-2 px-3",children:l("results.won")}),o.jsx("th",{className:"text-center py-2 px-3",children:l("results.sets")}),o.jsx("th",{className:"text-center py-2 px-3",children:l("results.diff")})]})}),o.jsx("tbody",{children:R.map((e,t)=>o.jsxs("tr",{className:"border-b "+(0===t?"bg-yellow-50":1===t?"bg-gray-100":2===t?"bg-orange-50":""),children:[o.jsx("td",{className:"py-2 px-3 font-semibold",children:0===t?"ðŸ¥‡":1===t?"ðŸ¥ˆ":2===t?"ðŸ¥‰":t+1}),o.jsx("td",{className:"py-2 px-3",children:e.name}),o.jsx("td",{className:"text-center py-2 px-3 font-bold",children:e.points||0}),o.jsx("td",{className:"text-center py-2 px-3",children:e.gamesPlayed||0}),o.jsx("td",{className:"text-center py-2 px-3",children:e.gamesWon||0}),o.jsx("td",{className:"text-center py-2 px-3",children:"-"}),o.jsx("td",{className:"text-center py-2 px-3",children:"-"})]},e.id))})]})}):o.jsx("div",{className:"text-center py-8 text-gray-500",children:o.jsx("p",{children:l("table.hiddenByDirector")})})]}),d&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-6xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("h2",{className:"text-2xl font-bold",children:l("schedule.chooseSchedule")}),o.jsx("button",{onClick:()=>{h(!1),m([])},className:"text-gray-500 hover:text-gray-700 text-2xl",children:"âœ•"})]}),o.jsx("p",{className:"text-gray-600 mb-6",children:l("schedule.scheduleVariants")}),o.jsx("div",{className:"flex-1 overflow-y-auto",children:o.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:p.map((e,t)=>o.jsxs("div",{className:"border rounded-lg p-4 hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>A(t),children:[o.jsxs("div",{className:"mb-4",children:[o.jsxs("h3",{className:"text-lg font-semibold mb-2",children:[l("schedule.variant")," ",t+1]}),o.jsxs("div",{className:`text-center p-4 rounded-lg mb-4 ${D(e.fairness.overallScore)}`,children:[o.jsxs("div",{className:"text-3xl font-bold",children:[e.fairness.overallScore,"%"]}),o.jsx("div",{className:"text-sm font-medium",children:l("schedule.overallFairness")})]}),o.jsxs("div",{className:"space-y-3 text-sm",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("span",{className:"text-gray-600",children:[l("schedule.partnerVariety"),":"]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"font-medium",children:e.fairness.avgUniquePartners}),o.jsxs("div",{className:`text-xs px-2 py-1 rounded ${D(e.fairness.partnerScore)}`,children:[e.fairness.partnerScore,"%"]})]})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("span",{className:"text-gray-600",children:[l("schedule.opponentVariety"),":"]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"font-medium",children:e.fairness.avgUniqueOpponents}),o.jsxs("div",{className:`text-xs px-2 py-1 rounded ${D(e.fairness.opponentScore)}`,children:[e.fairness.opponentScore,"%"]})]})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("span",{className:"text-gray-600",children:[l("schedule.maxPartnerRepeat"),":"]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("span",{className:"font-medium",children:[e.fairness.maxPartnerRepeats,"x"]}),o.jsxs("div",{className:`text-xs px-2 py-1 rounded ${D(e.fairness.repeatScore)}`,children:[e.fairness.repeatScore,"%"]})]})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("span",{className:"text-gray-600",children:[l("schedule.gameBalance"),":"]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("span",{className:"font-medium",children:["Â±",e.fairness.gameBalance]}),o.jsxs("div",{className:`text-xs px-2 py-1 rounded ${D(e.fairness.balanceScore)}`,children:[e.fairness.balanceScore,"%"]})]})]})]}),o.jsxs("div",{className:"mt-4 pt-4 border-t",children:[o.jsxs("p",{className:"text-xs text-gray-600 mb-2",children:[l("schedule.firstRounds"),":"]}),e.schedule.slice(0,2).map((e,t)=>o.jsxs("div",{className:"mb-2",children:[o.jsxs("p",{className:"text-xs font-semibold",children:[l("schedule.round")," ",e.round,":"]}),e.matches.slice(0,2).map((e,t)=>o.jsxs("p",{className:"text-xs text-gray-600 ml-2",children:[l("schedule.court")," ",e.court,":",e.team1&&e.team2&&e.team1[0]&&e.team1[1]&&e.team2[0]&&e.team2[1]?` ${e.team1[0].name.split(" ")[0]} & ${e.team1[1].name.split(" ")[0]} vs ${e.team2[0].name.split(" ")[0]} & ${e.team2[1].name.split(" ")[0]}`:" "+l("schedule.matchError")]},t)),e.matches.length>2&&o.jsxs("p",{className:"text-xs text-gray-400 ml-2",children:["+ ",e.matches.length-2," ",l("schedule.moreMatches")]})]},t))]})]}),o.jsx("button",{className:"w-full mt-4 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors font-medium",children:l("schedule.selectVariant")})]},t))})}),o.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded text-sm",children:[o.jsxs("p",{className:"font-semibold mb-2",children:[l("schedule.fairnessRating"),":"]}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 text-xs",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 rounded font-semibold",children:"80-100%"}),o.jsx("span",{children:l("schedule.excellent")})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-800 rounded font-semibold",children:"60-79%"}),o.jsx("span",{children:l("schedule.good")})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"px-2 py-1 bg-orange-100 text-orange-800 rounded font-semibold",children:"40-59%"}),o.jsx("span",{children:l("schedule.acceptable")})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"px-2 py-1 bg-red-100 text-red-800 rounded font-semibold",children:"0-39%"}),o.jsx("span",{children:l("schedule.needsImprovement")})]})]})]})]})})]})},Sr=({event:e,onUpdateEvent:t,onOpenPlayerDatabase:n})=>{var r;const a=(null==(r=Wt())?void 0:r.t)||(e=>e),[s,i]=c.useState(""),[l,u]=c.useState("B"),[d,h]=c.useState("male"),[p,m]=c.useState(!1);if(!e)return o.jsx("div",{className:"bg-gray-50 p-4 rounded-lg mb-6",children:o.jsx("p",{className:"text-gray-500 text-center",children:a("event.noEventsSelected")})});const f=e.players||[],g=e.maxPlayers||16,y=e.sport||"padel",v=e.genderMode||"open";e.teamFormat,c.useEffect(()=>{"women"===v?h("female"):"men"===v&&h("male")},[v]);const b=()=>{s.trim()&&f.length<g&&(u("padel"===y?"B":3),m(!0))};return o.jsxs("div",{className:"bg-white p-4 rounded-lg mb-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h3",{className:"text-lg font-semibold",children:a("player.managePlayer")}),o.jsxs("span",{className:"text-sm text-gray-600",children:[f.length," / ",g," ",a("player.players")]})]}),o.jsx("div",{className:"mb-4",children:o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{type:"text",value:s,onChange:e=>i(e.target.value),onKeyPress:e=>{"Enter"===e.key&&s.trim()&&f.length<g&&b()},placeholder:a("player.enterName"),className:"flex-1 px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:f.length>=g}),o.jsxs("button",{onClick:b,disabled:!s.trim()||f.length>=g,className:"px-4 py-2 rounded-lg "+(!s.trim()||f.length>=g?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"),children:["+ ",a("buttons.add")]}),o.jsxs("button",{onClick:n,disabled:f.length>=g,className:"px-4 py-2 rounded-lg "+(f.length>=g?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-green-600 text-white hover:bg-green-700"),children:["ðŸ“š ",a("player.fromDatabase")]})]})}),p&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full",children:[o.jsxs("h4",{className:"text-lg font-semibold mb-4",children:[a("player.details")," ",s]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block mb-2 font-medium",children:a("player.gender")}),o.jsxs("select",{value:d,onChange:e=>h(e.target.value),className:"w-full px-3 py-2 border rounded-lg",children:[("open"===v||"men"===v)&&o.jsx("option",{value:"male",children:a("player.male")}),("open"===v||"women"===v)&&o.jsx("option",{value:"female",children:a("player.female")})]}),"men"===v&&"female"===d&&o.jsx("p",{className:"text-xs text-orange-600 mt-1",children:a("playerManagement.menEventNote")}),"women"===v&&"male"===d&&o.jsx("p",{className:"text-xs text-orange-600 mt-1",children:a("playerManagement.womenEventNote")})]}),o.jsxs("div",{className:"mb-4",children:[o.jsxs("label",{className:"block mb-2 font-medium",children:[(x=y,a(`sports.${x}`))," ",a("player.skillLevel")]}),"padel"===y?o.jsxs("select",{value:l,onChange:e=>u(e.target.value),className:"w-full px-3 py-2 border rounded-lg",children:[o.jsxs("option",{value:"C",children:["C (",a("playerManagement.beginner"),")"]}),o.jsxs("option",{value:"B-",children:["B- (",a("playerManagement.advancedBeginner"),")"]}),o.jsxs("option",{value:"B",children:["B (",a("playerManagement.lowerIntermediate"),")"]}),o.jsxs("option",{value:"B+",children:["B+ (",a("playerManagement.goodIntermediate"),")"]}),o.jsxs("option",{value:"A-",children:["A- (",a("playerManagement.upperIntermediate"),")"]}),o.jsxs("option",{value:"A",children:["A (",a("playerManagement.advancedPro"),")"]})]}):o.jsxs("select",{value:l,onChange:e=>u(parseFloat(e.target.value)),className:"w-full px-3 py-2 border rounded-lg",children:[o.jsxs("option",{value:"1",children:["1.0 - ",a("playerManagement.beginner")]}),o.jsxs("option",{value:"2",children:["2.0 - ",a("playerManagement.advanced")]}),o.jsxs("option",{value:"3",children:["3.0 - ",a("playerManagement.good")]}),o.jsxs("option",{value:"4",children:["4.0 - ",a("playerManagement.veryGood")]}),o.jsxs("option",{value:"5",children:["5.0 - ",a("playerManagement.expert")]})]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>{const n=`player_${Date.now()}_${Math.random().toString(36).substr(2,9)}_${f.length}`,r={...e,players:[...f,{id:n,name:s.trim(),gender:d,skillLevel:l,skillLevels:{padel:"padel"===y?l:"B",pickleball:"pickleball"===y?l:3,spinxball:"spinxball"===y?l:3}}]};t(r),i(""),u("padel"===y?"B":3),h("women"===v?"female":"male"),m(!1)},className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:a("player.addPlayer")}),o.jsx("button",{onClick:()=>{m(!1),h("women"===v?"female":"male")},className:"flex-1 px-4 py-2 bg-gray-300 rounded-lg hover:bg-gray-400",children:a("navigation.cancel")})]})]})}),o.jsx("div",{className:"space-y-2",children:0===f.length?o.jsx("p",{className:"text-gray-500 text-center py-4",children:a("player.noPlayers")}):f.map(n=>{let r=n.skillLevel;return n.skillLevels&&("padel"===y&&n.skillLevels.padel?r=n.skillLevels.padel:"pickleball"===y&&n.skillLevels.pickleball?r=n.skillLevels.pickleball:"spinxball"===y&&n.skillLevels.spinxball&&(r=n.skillLevels.spinxball)),o.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:n.name}),o.jsx("span",{className:"ml-2 text-sm text-gray-600",children:"female"===n.gender?"â™€ï¸":"â™‚ï¸"}),o.jsxs("span",{className:"ml-2 text-sm text-gray-600",children:[a("player.level"),": ",r]})]}),o.jsx("button",{onClick:()=>(n=>{const r={...e,players:f.filter(e=>e.id!==n)};t(r)})(n.id),className:"text-red-500 hover:text-red-700",children:"âœ•"})]},n.id)})}),f.length>=g&&o.jsx("p",{className:"mt-4 text-sm text-orange-600 text-center",children:a("messages.eventFull")}),"open"!==v&&o.jsx("p",{className:"mt-4 text-xs text-gray-600 text-center",children:"men"===v?`ðŸ‘¨ ${a("playerManagement.menOnly")}`:`ðŸ‘© ${a("playerManagement.womenOnly")}`})]});var x},jr=({results:e,players:t})=>{var n;const r=(()=>{const n={};return t.forEach(e=>{n[e.id]={...e,points:0,gamesWon:0,gamesPlayed:0,setsWon:0,setsLost:0}}),Object.values(e||{}).forEach(e=>{if(!e.result)return;const{team1:t,team2:r,result:a}=e;null==t||t.forEach(e=>{n[e.id]&&(n[e.id].gamesPlayed++,n[e.id].gamesWon+=a.team1Score||0,n[e.id].points+=a.team1Points||0,a.team1Score>a.team2Score?n[e.id].setsWon++:n[e.id].setsLost++)}),null==r||r.forEach(e=>{n[e.id]&&(n[e.id].gamesPlayed++,n[e.id].gamesWon+=a.team2Score||0,n[e.id].points+=a.team2Points||0,a.team2Score>a.team1Score?n[e.id].setsWon++:n[e.id].setsLost++)})}),Object.values(n).sort((e,t)=>t.points!==e.points?t.points-e.points:t.gamesWon-e.gamesWon)})();return Object.keys(e||{}).length>0?o.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[o.jsx("h3",{className:"text-xl font-semibold mb-6",children:"Turnier-Ergebnisse"}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"border-b bg-gray-50",children:[o.jsx("th",{className:"text-left py-3 px-4",children:"Platz"}),o.jsx("th",{className:"text-left py-3 px-4",children:"Spieler"}),o.jsx("th",{className:"text-center py-3 px-4",children:"Punkte"}),o.jsx("th",{className:"text-center py-3 px-4",children:"Spiele"}),o.jsx("th",{className:"text-center py-3 px-4",children:"Gewonnen"}),o.jsx("th",{className:"text-center py-3 px-4",children:"Sets"}),o.jsx("th",{className:"text-center py-3 px-4",children:"Diff"})]})}),o.jsx("tbody",{children:r.map((e,t)=>{const n=0===t?"bg-yellow-50":1===t?"bg-gray-100":2===t?"bg-orange-50":"";return o.jsxs("tr",{className:`border-b ${n}`,children:[o.jsx("td",{className:"py-3 px-4",children:o.jsxs("div",{className:"flex items-center gap-2",children:[0===t&&o.jsx(Lt,{className:"w-5 h-5 text-yellow-600"}),1===t&&o.jsx(jt,{className:"w-5 h-5 text-gray-600"}),2===t&&o.jsx(lt,{className:"w-5 h-5 text-orange-600"}),o.jsx("span",{className:"font-semibold",children:t+1})]})}),o.jsx("td",{className:"py-3 px-4",children:o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:$t(e.name)}),o.jsxs("p",{className:"text-xs text-gray-500",children:["female"===e.gender?"â™€":"â™‚"," â€¢ Level ",e.skillLevel]})]})}),o.jsx("td",{className:"text-center py-3 px-4",children:o.jsx("span",{className:"text-lg font-bold",children:e.points})}),o.jsx("td",{className:"text-center py-3 px-4",children:e.gamesPlayed}),o.jsx("td",{className:"text-center py-3 px-4",children:e.gamesWon}),o.jsxs("td",{className:"text-center py-3 px-4",children:[e.setsWon,":",e.setsLost]}),o.jsx("td",{className:"text-center py-3 px-4",children:o.jsxs("span",{className:e.setsWon-e.setsLost>=0?"text-green-600":"text-red-600",children:[e.setsWon-e.setsLost>0?"+":"",e.setsWon-e.setsLost]})})]},e.id)})})]})}),o.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg text-center",children:[o.jsx("p",{className:"text-sm text-gray-600",children:"Gespielte Matches"}),o.jsx("p",{className:"text-2xl font-bold text-blue-700",children:Object.keys(e).length})]}),o.jsxs("div",{className:"bg-green-50 p-4 rounded-lg text-center",children:[o.jsx("p",{className:"text-sm text-gray-600",children:"HÃ¶chste Punktzahl"}),o.jsx("p",{className:"text-2xl font-bold text-green-700",children:(null==(n=r[0])?void 0:n.points)||0})]}),o.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg text-center",children:[o.jsx("p",{className:"text-sm text-gray-600",children:"Ã˜ Punkte/Spieler"}),o.jsx("p",{className:"text-2xl font-bold text-purple-700",children:r.length>0?(r.reduce((e,t)=>e+t.points,0)/r.length).toFixed(1):0})]})]})]}):o.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[o.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Ergebnisse"}),o.jsx("p",{className:"text-gray-500 text-center py-8",children:"Noch keine Ergebnisse eingetragen"})]})},Nr={},Er=function(e,t,n){let r=Promise.resolve();if(t&&t.length>0){let e=function(e){return Promise.all(e.map(e=>Promise.resolve(e).then(e=>({status:"fulfilled",value:e}),e=>({status:"rejected",reason:e}))))};document.getElementsByTagName("link");const n=document.querySelector("meta[property=csp-nonce]"),a=(null==n?void 0:n.nonce)||(null==n?void 0:n.getAttribute("nonce"));r=e(t.map(e=>{if((e=function(e){return"/"+e}(e))in Nr)return;Nr[e]=!0;const t=e.endsWith(".css"),n=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${n}`))return;const r=document.createElement("link");return r.rel=t?"stylesheet":"modulepreload",t||(r.as="script"),r.crossOrigin="",r.href=e,a&&r.setAttribute("nonce",a),document.head.appendChild(r),t?new Promise((t,n)=>{r.addEventListener("load",t),r.addEventListener("error",()=>n(new Error(`Unable to preload CSS for ${e}`)))}):void 0}))}function a(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return r.then(t=>{for(const e of t||[])"rejected"===e.status&&a(e.reason);return e().catch(a)})};class Pr extends Error{constructor(e,t="FunctionsError",n){super(e),this.name=t,this.context=n}}class _r extends Pr{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Tr extends Pr{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Cr extends Pr{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Mr,Ar;(Ar=Mr||(Mr={})).Any="any",Ar.ApNortheast1="ap-northeast-1",Ar.ApNortheast2="ap-northeast-2",Ar.ApSouth1="ap-south-1",Ar.ApSoutheast1="ap-southeast-1",Ar.ApSoutheast2="ap-southeast-2",Ar.CaCentral1="ca-central-1",Ar.EuCentral1="eu-central-1",Ar.EuWest1="eu-west-1",Ar.EuWest2="eu-west-2",Ar.EuWest3="eu-west-3",Ar.SaEast1="sa-east-1",Ar.UsEast1="us-east-1",Ar.UsWest1="us-west-1",Ar.UsWest2="us-west-2";var Rr=function(e,t,n,r){return new(n||(n=Promise))(function(a,s){function i(e){try{o(r.next(e))}catch(_l){s(_l)}}function l(e){try{o(r.throw(e))}catch(_l){s(_l)}}function o(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,l)}o((r=r.apply(e,t||[])).next())})};class Dr{constructor(e,{headers:t={},customFetch:n,region:r=Mr.Any}={}){this.url=e,this.headers=t,this.region=r,this.fetch=(e=>{let t;return t=e||("undefined"==typeof fetch?(...e)=>Er(async()=>{const{default:e}=await Promise.resolve().then(()=>Gr);return{default:e}},[]).then(({default:t})=>t(...e)):fetch),(...e)=>t(...e)})(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,t={}){var n;return Rr(this,void 0,void 0,function*(){try{const{headers:r,method:a,body:s}=t;let i,l={},{region:o}=t;o||(o=this.region),o&&"any"!==o&&(l["x-region"]=o),s&&(r&&!Object.prototype.hasOwnProperty.call(r,"Content-Type")||!r)&&("undefined"!=typeof Blob&&s instanceof Blob||s instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",i=s):"string"==typeof s?(l["Content-Type"]="text/plain",i=s):"undefined"!=typeof FormData&&s instanceof FormData?i=s:(l["Content-Type"]="application/json",i=JSON.stringify(s)));const c=yield this.fetch(`${this.url}/${e}`,{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),r),body:i}).catch(e=>{throw new _r(e)}),u=c.headers.get("x-relay-error");if(u&&"true"===u)throw new Tr(c);if(!c.ok)throw new Cr(c);let d,h=(null!==(n=c.headers.get("Content-Type"))&&void 0!==n?n:"text/plain").split(";")[0].trim();return d="application/json"===h?yield c.json():"application/octet-stream"===h?yield c.blob():"text/event-stream"===h?c:"multipart/form-data"===h?yield c.formData():yield c.text(),{data:d,error:null}}catch(r){return{data:null,error:r}}})}}var Lr={},Or={},Ir={},zr={},$r={},Fr={},Br=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("unable to locate global object")}();const Ur=Br.fetch,qr=Br.fetch.bind(Br),Wr=Br.Headers,Vr=Br.Request,Hr=Br.Response,Gr=Object.freeze(Object.defineProperty({__proto__:null,Headers:Wr,Request:Vr,Response:Hr,default:qr,fetch:Ur},Symbol.toStringTag,{value:"Module"})),Kr=r(Gr);var Jr,Qr,Yr,Xr,Zr,ea={};function ta(){if(Jr)return ea;Jr=1,Object.defineProperty(ea,"__esModule",{value:!0});class e extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}}return ea.default=e,ea}function na(){if(Qr)return Fr;Qr=1;var e=Fr&&Fr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Fr,"__esModule",{value:!0});const t=e(Kr),n=e(ta());return Fr.default=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:"undefined"==typeof fetch?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=Object.assign({},this.headers),this.headers[e]=t,this}then(e,t){void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),"GET"!==this.method&&"HEAD"!==this.method&&(this.headers["Content-Type"]="application/json");let r=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async e=>{var t,r,a;let s=null,i=null,l=null,o=e.status,c=e.statusText;if(e.ok){if("HEAD"!==this.method){const t=await e.text();""===t||(i="text/csv"===this.headers.Accept||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?t:JSON.parse(t))}const n=null===(t=this.headers.Prefer)||void 0===t?void 0:t.match(/count=(exact|planned|estimated)/),a=null===(r=e.headers.get("content-range"))||void 0===r?void 0:r.split("/");n&&a&&a.length>1&&(l=parseInt(a[1])),this.isMaybeSingle&&"GET"===this.method&&Array.isArray(i)&&(i.length>1?(s={code:"PGRST116",details:`Results contain ${i.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},i=null,l=null,o=406,c="Not Acceptable"):i=1===i.length?i[0]:null)}else{const t=await e.text();try{s=JSON.parse(t),Array.isArray(s)&&404===e.status&&(i=[],s=null,o=200,c="OK")}catch(u){404===e.status&&""===t?(o=204,c="No Content"):s={message:t}}if(s&&this.isMaybeSingle&&(null===(a=null==s?void 0:s.details)||void 0===a?void 0:a.includes("0 rows"))&&(s=null,o=200,c="OK"),s&&this.shouldThrowOnError)throw new n.default(s)}return{error:s,data:i,count:l,status:o,statusText:c}});return this.shouldThrowOnError||(r=r.catch(e=>{var t,n,r;return{error:{message:`${null!==(t=null==e?void 0:e.name)&&void 0!==t?t:"FetchError"}: ${null==e?void 0:e.message}`,details:`${null!==(n=null==e?void 0:e.stack)&&void 0!==n?n:""}`,hint:"",code:`${null!==(r=null==e?void 0:e.code)&&void 0!==r?r:""}`},data:null,count:null,status:0,statusText:""}})),r.then(e,t)}returns(){return this}overrideTypes(){return this}},Fr}function ra(){if(Yr)return $r;Yr=1;var e=$r&&$r.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty($r,"__esModule",{value:!0});const t=e(na());class n extends t.default{select(e){let t=!1;const n=(null!=e?e:"*").split("").map(e=>/\s/.test(e)&&!t?"":('"'===e&&(t=!t),e)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:t=!0,nullsFirst:n,foreignTable:r,referencedTable:a=r}={}){const s=a?`${a}.order`:"order",i=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${i?`${i},`:""}${e}.${t?"asc":"desc"}${void 0===n?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:n=t}={}){const r=void 0===n?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,t,{foreignTable:n,referencedTable:r=n}={}){const a=void 0===r?"offset":`${r}.offset`,s=void 0===r?"limit":`${r}.limit`;return this.url.searchParams.set(a,`${e}`),this.url.searchParams.set(s,""+(t-e+1)),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return"GET"===this.method?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:r=!1,wal:a=!1,format:s="text"}={}){var i;const l=[e?"analyze":null,t?"verbose":null,n?"settings":null,r?"buffers":null,a?"wal":null].filter(Boolean).join("|"),o=null!==(i=this.headers.Accept)&&void 0!==i?i:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${s}; for="${o}"; options=${l};`,this}rollback(){var e;return(null!==(e=this.headers.Prefer)&&void 0!==e?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return $r.default=n,$r}function aa(){if(Xr)return zr;Xr=1;var e=zr&&zr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(zr,"__esModule",{value:!0});const t=e(ra());class n extends t.default{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}in(e,t){const n=Array.from(new Set(t)).map(e=>"string"==typeof e&&new RegExp("[,()]").test(e)?`"${e}"`:`${e}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,t){return"string"==typeof t?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return"string"==typeof t?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return"string"==typeof t?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:n,type:r}={}){let a="";"plain"===r?a="pl":"phrase"===r?a="ph":"websearch"===r&&(a="w");const s=void 0===n?"":`(${n})`;return this.url.searchParams.append(e,`${a}fts${s}.${t}`),this}match(e){return Object.entries(e).forEach(([e,t])=>{this.url.searchParams.append(e,`eq.${t}`)}),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e,{foreignTable:t,referencedTable:n=t}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}}return zr.default=n,zr}function sa(){if(Zr)return Ir;Zr=1;var e=Ir&&Ir.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ir,"__esModule",{value:!0});const t=e(aa());return Ir.default=class{constructor(e,{headers:t={},schema:n,fetch:r}){this.url=e,this.headers=t,this.schema=n,this.fetch=r}select(e,{head:n=!1,count:r}={}){const a=n?"HEAD":"GET";let s=!1;const i=(null!=e?e:"*").split("").map(e=>/\s/.test(e)&&!s?"":('"'===e&&(s=!s),e)).join("");return this.url.searchParams.set("select",i),r&&(this.headers.Prefer=`count=${r}`),new t.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:n,defaultToNull:r=!0}={}){const a=[];if(this.headers.Prefer&&a.push(this.headers.Prefer),n&&a.push(`count=${n}`),r||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){const e=[...new Set(t)].map(e=>`"${e}"`);this.url.searchParams.set("columns",e.join(","))}}return new t.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:a,defaultToNull:s=!0}={}){const i=[`resolution=${r?"ignore":"merge"}-duplicates`];if(void 0!==n&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&i.push(this.headers.Prefer),a&&i.push(`count=${a}`),s||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){const e=[...new Set(t)].map(e=>`"${e}"`);this.url.searchParams.set("columns",e.join(","))}}return new t.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:n}={}){const r=[];return this.headers.Prefer&&r.push(this.headers.Prefer),n&&r.push(`count=${n}`),this.headers.Prefer=r.join(","),new t.default({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const n=[];return e&&n.push(`count=${e}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new t.default({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}},Ir}var ia,la,oa,ca,ua={},da={};function ha(){if(la)return ua;la=1,Object.defineProperty(ua,"__esModule",{value:!0}),ua.DEFAULT_HEADERS=void 0;const e=(ia||(ia=1,Object.defineProperty(da,"__esModule",{value:!0}),da.version=void 0,da.version="0.0.0-automated"),da);return ua.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${e.version}`},ua}const pa=t(function(){if(ca)return Lr;ca=1;var e=Lr&&Lr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Lr,"__esModule",{value:!0}),Lr.PostgrestError=Lr.PostgrestBuilder=Lr.PostgrestTransformBuilder=Lr.PostgrestFilterBuilder=Lr.PostgrestQueryBuilder=Lr.PostgrestClient=void 0;const t=e(function(){if(oa)return Or;oa=1;var e=Or&&Or.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Or,"__esModule",{value:!0});const t=e(sa()),n=e(aa()),r=ha();class a{constructor(e,{headers:t={},schema:n,fetch:a}={}){this.url=e,this.headers=Object.assign(Object.assign({},r.DEFAULT_HEADERS),t),this.schemaName=n,this.fetch=a}from(e){const n=new URL(`${this.url}/${e}`);return new t.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new a(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,t={},{head:r=!1,get:a=!1,count:s}={}){let i;const l=new URL(`${this.url}/rpc/${e}`);let o;r||a?(i=r?"HEAD":"GET",Object.entries(t).filter(([e,t])=>void 0!==t).map(([e,t])=>[e,Array.isArray(t)?`{${t.join(",")}}`:`${t}`]).forEach(([e,t])=>{l.searchParams.append(e,t)})):(i="POST",o=t);const c=Object.assign({},this.headers);return s&&(c.Prefer=`count=${s}`),new n.default({method:i,url:l,headers:c,schema:this.schemaName,body:o,fetch:this.fetch,allowEmpty:!1})}}return Or.default=a,Or}());Lr.PostgrestClient=t.default;const n=e(sa());Lr.PostgrestQueryBuilder=n.default;const r=e(aa());Lr.PostgrestFilterBuilder=r.default;const a=e(ra());Lr.PostgrestTransformBuilder=a.default;const s=e(na());Lr.PostgrestBuilder=s.default;const i=e(ta());return Lr.PostgrestError=i.default,Lr.default={PostgrestClient:t.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:a.default,PostgrestBuilder:s.default,PostgrestError:i.default},Lr}()),{PostgrestClient:ma,PostgrestQueryBuilder:fa,PostgrestFilterBuilder:ga,PostgrestTransformBuilder:ya,PostgrestBuilder:va,PostgrestError:ba}=pa;let xa;xa="undefined"==typeof window?require("ws"):window.WebSocket;const wa={"X-Client-Info":"realtime-js/2.11.10"};var ka,Sa,ja,Na,Ea,Pa,_a,Ta,Ca;(Sa=ka||(ka={}))[Sa.connecting=0]="connecting",Sa[Sa.open=1]="open",Sa[Sa.closing=2]="closing",Sa[Sa.closed=3]="closed",(Na=ja||(ja={})).closed="closed",Na.errored="errored",Na.joined="joined",Na.joining="joining",Na.leaving="leaving",(Pa=Ea||(Ea={})).close="phx_close",Pa.error="phx_error",Pa.join="phx_join",Pa.reply="phx_reply",Pa.leave="phx_leave",Pa.access_token="access_token",(_a||(_a={})).websocket="websocket",(Ca=Ta||(Ta={})).Connecting="connecting",Ca.Open="open",Ca.Closing="closing",Ca.Closed="closed";class Ma{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t("string"==typeof e?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,t,n)}_decodeBroadcast(e,t,n){const r=t.getUint8(1),a=t.getUint8(2);let s=this.HEADER_LENGTH+2;const i=n.decode(e.slice(s,s+r));s+=r;const l=n.decode(e.slice(s,s+a));s+=a;return{ref:null,topic:i,event:l,payload:JSON.parse(n.decode(e.slice(s,e.byteLength)))}}}let Aa=class{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var Ra,Da;(Da=Ra||(Ra={})).abstime="abstime",Da.bool="bool",Da.date="date",Da.daterange="daterange",Da.float4="float4",Da.float8="float8",Da.int2="int2",Da.int4="int4",Da.int4range="int4range",Da.int8="int8",Da.int8range="int8range",Da.json="json",Da.jsonb="jsonb",Da.money="money",Da.numeric="numeric",Da.oid="oid",Da.reltime="reltime",Da.text="text",Da.time="time",Da.timestamp="timestamp",Da.timestamptz="timestamptz",Da.timetz="timetz",Da.tsrange="tsrange",Da.tstzrange="tstzrange";const La=(e,t,n={})=>{var r;const a=null!==(r=n.skipTypes)&&void 0!==r?r:[];return Object.keys(t).reduce((n,r)=>(n[r]=Oa(r,e,t,a),n),{})},Oa=(e,t,n,r)=>{const a=t.find(t=>t.name===e),s=null==a?void 0:a.type,i=n[e];return s&&!r.includes(s)?Ia(s,i):za(i)},Ia=(e,t)=>{if("_"===e.charAt(0)){const n=e.slice(1,e.length);return Ua(t,n)}switch(e){case Ra.bool:return $a(t);case Ra.float4:case Ra.float8:case Ra.int2:case Ra.int4:case Ra.int8:case Ra.numeric:case Ra.oid:return Fa(t);case Ra.json:case Ra.jsonb:return Ba(t);case Ra.timestamp:return qa(t);case Ra.abstime:case Ra.date:case Ra.daterange:case Ra.int4range:case Ra.int8range:case Ra.money:case Ra.reltime:case Ra.text:case Ra.time:case Ra.timestamptz:case Ra.timetz:case Ra.tsrange:case Ra.tstzrange:default:return za(t)}},za=e=>e,$a=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Fa=e=>{if("string"==typeof e){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Ba=e=>{if("string"==typeof e)try{return JSON.parse(e)}catch(t){return e}return e},Ua=(e,t)=>{if("string"!=typeof e)return e;const n=e.length-1,r=e[n];if("{"===e[0]&&"}"===r){let r;const s=e.slice(1,n);try{r=JSON.parse("["+s+"]")}catch(a){r=s?s.split(","):[]}return r.map(e=>Ia(t,e))}return e},qa=e=>"string"==typeof e?e.replace(" ","T"):e,Wa=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Va{constructor(e,t,n={},r=1e4){this.channel=e,this.event=t,this.payload=n,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var n;return this._hasReceived(e)&&t(null===(n=this.receivedResp)||void 0===n?void 0:n.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);this.channel._on(this.refEvent,{},e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)}),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(t=>t.status===e).forEach(e=>e.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Ha,Ga,Ka,Ja,Qa,Ya,Xa,Za;(Ga=Ha||(Ha={})).SYNC="sync",Ga.JOIN="join",Ga.LEAVE="leave";class es{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(null==t?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},e=>{const{onJoin:t,onLeave:n,onSync:r}=this.caller;this.joinRef=this.channel._joinRef(),this.state=es.syncState(this.state,e,t,n),this.pendingDiffs.forEach(e=>{this.state=es.syncDiff(this.state,e,t,n)}),this.pendingDiffs=[],r()}),this.channel._on(n.diff,{},e=>{const{onJoin:t,onLeave:n,onSync:r}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(e):(this.state=es.syncDiff(this.state,e,t,n),r())}),this.onJoin((e,t,n)=>{this.channel._trigger("presence",{event:"join",key:e,currentPresences:t,newPresences:n})}),this.onLeave((e,t,n)=>{this.channel._trigger("presence",{event:"leave",key:e,currentPresences:t,leftPresences:n})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,n,r){const a=this.cloneDeep(e),s=this.transformState(t),i={},l={};return this.map(a,(e,t)=>{s[e]||(l[e]=t)}),this.map(s,(e,t)=>{const n=a[e];if(n){const r=t.map(e=>e.presence_ref),a=n.map(e=>e.presence_ref),s=t.filter(e=>a.indexOf(e.presence_ref)<0),o=n.filter(e=>r.indexOf(e.presence_ref)<0);s.length>0&&(i[e]=s),o.length>0&&(l[e]=o)}else i[e]=t}),this.syncDiff(a,{joins:i,leaves:l},n,r)}static syncDiff(e,t,n,r){const{joins:a,leaves:s}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return n||(n=()=>{}),r||(r=()=>{}),this.map(a,(t,r)=>{var a;const s=null!==(a=e[t])&&void 0!==a?a:[];if(e[t]=this.cloneDeep(r),s.length>0){const n=e[t].map(e=>e.presence_ref),r=s.filter(e=>n.indexOf(e.presence_ref)<0);e[t].unshift(...r)}n(t,s,r)}),this.map(s,(t,n)=>{let a=e[t];if(!a)return;const s=n.map(e=>e.presence_ref);a=a.filter(e=>s.indexOf(e.presence_ref)<0),e[t]=a,r(t,a,n),0===a.length&&delete e[t]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(n=>t(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,n)=>{const r=e[n];return t[n]="metas"in r?r.metas.map(e=>(e.presence_ref=e.phx_ref,delete e.phx_ref,delete e.phx_ref_prev,e)):r,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}(Ja=Ka||(Ka={})).ALL="*",Ja.INSERT="INSERT",Ja.UPDATE="UPDATE",Ja.DELETE="DELETE",(Ya=Qa||(Qa={})).BROADCAST="broadcast",Ya.PRESENCE="presence",Ya.POSTGRES_CHANGES="postgres_changes",Ya.SYSTEM="system",(Za=Xa||(Xa={})).SUBSCRIBED="SUBSCRIBED",Za.TIMED_OUT="TIMED_OUT",Za.CLOSED="CLOSED",Za.CHANNEL_ERROR="CHANNEL_ERROR";class ts{constructor(e,t={config:{}},n){this.topic=e,this.params=t,this.socket=n,this.bindings={},this.state=ja.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new Va(this,Ea.join,this.params,this.timeout),this.rejoinTimer=new Aa(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ja.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(e=>e.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ja.closed,this.socket._remove(this)}),this._onError(e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,e),this.state=ja.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ja.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ea.reply,{},(e,t)=>{this._trigger(this._replyEventName(t),e)}),this.presence=new es(this),this.broadcastEndpointURL=Wa(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,t=this.timeout){var n,r;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:a,presence:s,private:i}}=this.params;this._onError(t=>null==e?void 0:e(Xa.CHANNEL_ERROR,t)),this._onClose(()=>null==e?void 0:e(Xa.CLOSED));const l={},o={broadcast:a,presence:s,postgres_changes:null!==(r=null===(n=this.bindings.postgres_changes)||void 0===n?void 0:n.map(e=>e.filter))&&void 0!==r?r:[],private:i};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:o},l)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:t})=>{var n;if(this.socket.setAuth(),void 0!==t){const r=this.bindings.postgres_changes,a=null!==(n=null==r?void 0:r.length)&&void 0!==n?n:0,s=[];for(let n=0;n<a;n++){const a=r[n],{filter:{event:i,schema:l,table:o,filter:c}}=a,u=t&&t[n];if(!u||u.event!==i||u.schema!==l||u.table!==o||u.filter!==c)return this.unsubscribe(),this.state=ja.errored,void(null==e||e(Xa.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes")));s.push(Object.assign(Object.assign({},a),{id:u.id}))}return this.bindings.postgres_changes=s,void(e&&e(Xa.SUBSCRIBED))}null==e||e(Xa.SUBSCRIBED)}).receive("error",t=>{this.state=ja.errored,null==e||e(Xa.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(t).join(", ")||"error")))}).receive("timeout",()=>{null==e||e(Xa.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,n){return this._on(e,t,n)}async send(e,t={}){var n,r;if(this._canPush()||"broadcast"!==e.type)return new Promise(n=>{var r,a,s;const i=this._push(e.type,e,t.timeout||this.timeout);"broadcast"!==e.type||(null===(s=null===(a=null===(r=this.params)||void 0===r?void 0:r.config)||void 0===a?void 0:a.broadcast)||void 0===s?void 0:s.ack)||n("ok"),i.receive("ok",()=>n("ok")),i.receive("error",()=>n("error")),i.receive("timeout",()=>n("timed out"))});{const{event:s,payload:i}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:i,private:this.private}]})};try{const e=await this._fetchWithTimeout(this.broadcastEndpointURL,l,null!==(n=t.timeout)&&void 0!==n?n:this.timeout);return await(null===(r=e.body)||void 0===r?void 0:r.cancel()),e.ok?"ok":"error"}catch(a){return"AbortError"===a.name?"timed out":"error"}}}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ja.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ea.close,"leave",this._joinRef())};return this.joinPush.destroy(),new Promise(n=>{const r=new Va(this,Ea.leave,{},e);r.receive("ok",()=>{t(),n("ok")}).receive("timeout",()=>{t(),n("timed out")}).receive("error",()=>{n("error")}),r.send(),this._canPush()||r.trigger("ok",{})})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,t,n){const r=new AbortController,a=setTimeout(()=>r.abort(),n),s=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:r.signal}));return clearTimeout(a),s}_push(e,t,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new Va(this,e,t,n);return this._canPush()?r.send():(r.startTimeout(),this.pushBuffer.push(r)),r}_onMessage(e,t,n){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,n){var r,a;const s=e.toLocaleLowerCase(),{close:i,error:l,leave:o,join:c}=Ea;if(n&&[i,l,o,c].indexOf(s)>=0&&n!==this._joinRef())return;let u=this._onMessage(s,t,n);if(t&&!u)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?null===(r=this.bindings.postgres_changes)||void 0===r||r.filter(e=>{var t,n,r;return"*"===(null===(t=e.filter)||void 0===t?void 0:t.event)||(null===(r=null===(n=e.filter)||void 0===n?void 0:n.event)||void 0===r?void 0:r.toLocaleLowerCase())===s}).map(e=>e.callback(u,n)):null===(a=this.bindings[s])||void 0===a||a.filter(e=>{var n,r,a,i,l,o;if(["broadcast","presence","postgres_changes"].includes(s)){if("id"in e){const s=e.id,i=null===(n=e.filter)||void 0===n?void 0:n.event;return s&&(null===(r=t.ids)||void 0===r?void 0:r.includes(s))&&("*"===i||(null==i?void 0:i.toLocaleLowerCase())===(null===(a=t.data)||void 0===a?void 0:a.type.toLocaleLowerCase()))}{const n=null===(l=null===(i=null==e?void 0:e.filter)||void 0===i?void 0:i.event)||void 0===l?void 0:l.toLocaleLowerCase();return"*"===n||n===(null===(o=null==t?void 0:t.event)||void 0===o?void 0:o.toLocaleLowerCase())}}return e.type.toLocaleLowerCase()===s}).map(e=>{if("object"==typeof u&&"ids"in u){const e=u.data,{schema:t,table:n,commit_timestamp:r,type:a,errors:s}=e,i={schema:t,table:n,commit_timestamp:r,eventType:a,new:{},old:{},errors:s};u=Object.assign(Object.assign({},i),this._getPayloadRecords(e))}e.callback(u,n)})}_isClosed(){return this.state===ja.closed}_isJoined(){return this.state===ja.joined}_isJoining(){return this.state===ja.joining}_isLeaving(){return this.state===ja.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,n){const r=e.toLocaleLowerCase(),a={type:r,filter:t,callback:n};return this.bindings[r]?this.bindings[r].push(a):this.bindings[r]=[a],this}_off(e,t){const n=e.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(e=>{var r;return!((null===(r=e.type)||void 0===r?void 0:r.toLocaleLowerCase())===n&&ts.isEqual(e.filter,t))}),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ea.close,{},e)}_onError(e){this._on(Ea.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ja.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return"INSERT"!==e.type&&"UPDATE"!==e.type||(t.new=La(e.columns,e.record)),"UPDATE"!==e.type&&"DELETE"!==e.type||(t.old=La(e.columns,e.old_record)),t}}const ns=()=>{};class rs{constructor(e,t){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers=wa,this.params={},this.timeout=1e4,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=ns,this.ref=0,this.logger=ns,this.conn=null,this.sendBuffer=[],this.serializer=new Ma,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=e=>{let t;return t=e||("undefined"==typeof fetch?(...e)=>Er(async()=>{const{default:e}=await Promise.resolve().then(()=>Gr);return{default:e}},void 0).then(({default:t})=>t(...e)):fetch),(...e)=>t(...e)},this.endPoint=`${e}/${_a.websocket}`,this.httpEndpoint=Wa(e),(null==t?void 0:t.transport)?this.transport=t.transport:this.transport=null,(null==t?void 0:t.params)&&(this.params=t.params),(null==t?void 0:t.headers)&&(this.headers=Object.assign(Object.assign({},this.headers),t.headers)),(null==t?void 0:t.timeout)&&(this.timeout=t.timeout),(null==t?void 0:t.logger)&&(this.logger=t.logger),((null==t?void 0:t.logLevel)||(null==t?void 0:t.log_level))&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),(null==t?void 0:t.heartbeatIntervalMs)&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);const r=null===(n=null==t?void 0:t.params)||void 0===n?void 0:n.apikey;if(r&&(this.accessTokenValue=r,this.apiKey=r),this.reconnectAfterMs=(null==t?void 0:t.reconnectAfterMs)?t.reconnectAfterMs:e=>[1e3,2e3,5e3,1e4][e-1]||1e4,this.encode=(null==t?void 0:t.encode)?t.encode:(e,t)=>t(JSON.stringify(e)),this.decode=(null==t?void 0:t.decode)?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Aa(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(null==t?void 0:t.fetch),null==t?void 0:t.worker){if("undefined"!=typeof window&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(null==t?void 0:t.worker)||!1,this.workerUrl=null==t?void 0:t.workerUrl}this.accessToken=(null==t?void 0:t.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=xa),this.transport){const e="undefined"!=typeof window&&this.transport===window.WebSocket;return this.conn=e?new this.transport(this.endpointURL()):new this.transport(this.endpointURL(),void 0,{headers:this.headers}),void this.setupConnection()}this.conn=new as(this.endpointURL(),void 0,{close:()=>{this.conn=null}})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:"1.0.0"}))}disconnect(e,t){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,null!=t?t:""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(e=>e.teardown()))}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return this.channels=this.channels.filter(t=>t._joinRef!==e._joinRef),0===this.channels.length&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(e=>e.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,n){this.logger(e,t,n)}connectionState(){switch(this.conn&&this.conn.readyState){case ka.connecting:return Ta.Connecting;case ka.open:return Ta.Open;case ka.closing:return Ta.Closing;default:return Ta.Closed}}isConnected(){return this.connectionState()===Ta.Open}channel(e,t={config:{}}){const n=`realtime:${e}`,r=this.getChannels().find(e=>e.topic===n);if(r)return r;{const n=new ts(`realtime:${e}`,t,this);return this.channels.push(n),n}}push(e){const{topic:t,event:n,payload:r,ref:a}=e,s=()=>{this.encode(e,e=>{var t;null===(t=this.conn)||void 0===t||t.send(e)})};this.log("push",`${t} ${n} (${a})`,r),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(e=null){let t=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(e=>{t&&e.updateJoinPayload({access_token:t,version:this.headers&&this.headers["X-Client-Info"]}),e.joinedOnce&&e._isJoined()&&e._push(Ea.access_token,{access_token:t})}))}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef)return this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),void(null===(e=this.conn)||void 0===e||e.close(1e3,"hearbeat timeout"));this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}else this.heartbeatCallback("disconnected")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(t=>t.topic===e&&(t._isJoined()||t._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,e=>{let{topic:t,event:n,payload:r,ref:a}=e;"phoenix"===t&&"phx_reply"===n&&this.heartbeatCallback("ok"==e.payload.status?"ok":"error"),a&&a===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${r.status||""} ${t} ${n} ${a&&"("+a+")"||""}`,r),Array.from(this.channels).filter(e=>e._isMember(t)).forEach(e=>e._trigger(n,r,a)),this.stateChangeCallbacks.message.forEach(t=>t(e))})}_onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=e=>{this.log("worker","worker error",e.message),this.workerRef.terminate()},this.workerRef.onmessage=e=>{"keepAlive"===e.data.event&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}else this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(t=>t(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(t=>t(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ea.error))}_appendParams(e,t){if(0===Object.keys(t).length)return e;const n=e.match(/\?/)?"&":"?";return`${e}${n}${new URLSearchParams(t)}`}_workerObjectUrl(e){let t;if(e)t=e;else{const e=new Blob(['\n  addEventListener("message", (e) => {\n    if (e.data.event === "start") {\n      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);\n    }\n  });'],{type:"application/javascript"});t=URL.createObjectURL(e)}return t}}class as{constructor(e,t,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=ka.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=n.close}}class ss extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function is(e){return"object"==typeof e&&null!==e&&"__isStorageError"in e}class ls extends ss{constructor(e,t){super(e),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class os extends ss{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var cs=function(e,t,n,r){return new(n||(n=Promise))(function(a,s){function i(e){try{o(r.next(e))}catch(_l){s(_l)}}function l(e){try{o(r.throw(e))}catch(_l){s(_l)}}function o(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,l)}o((r=r.apply(e,t||[])).next())})};const us=e=>{let t;return t=e||("undefined"==typeof fetch?(...e)=>Er(async()=>{const{default:e}=await Promise.resolve().then(()=>Gr);return{default:e}},void 0).then(({default:t})=>t(...e)):fetch),(...e)=>t(...e)},ds=e=>{if(Array.isArray(e))return e.map(e=>ds(e));if("function"==typeof e||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([e,n])=>{const r=e.replace(/([-_][a-z])/gi,e=>e.toUpperCase().replace(/[-_]/g,""));t[r]=ds(n)}),t};var hs=function(e,t,n,r){return new(n||(n=Promise))(function(a,s){function i(e){try{o(r.next(e))}catch(_l){s(_l)}}function l(e){try{o(r.throw(e))}catch(_l){s(_l)}}function o(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,l)}o((r=r.apply(e,t||[])).next())})};const ps=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),ms=(e,t,n)=>hs(void 0,void 0,void 0,function*(){const r=yield cs(void 0,void 0,void 0,function*(){return"undefined"==typeof Response?(yield Er(()=>Promise.resolve().then(()=>Gr),void 0)).Response:Response});e instanceof r&&!(null==n?void 0:n.noResolveJson)?e.json().then(n=>{t(new ls(ps(n),e.status||500))}).catch(e=>{t(new os(ps(e),e))}):t(new os(ps(e),e))});function fs(e,t,n,r,a,s){return hs(this,void 0,void 0,function*(){return new Promise((i,l)=>{e(n,((e,t,n,r)=>{const a={method:e,headers:(null==t?void 0:t.headers)||{}};return"GET"===e?a:(a.headers=Object.assign({"Content-Type":"application/json"},null==t?void 0:t.headers),r&&(a.body=JSON.stringify(r)),Object.assign(Object.assign({},a),n))})(t,r,a,s)).then(e=>{if(!e.ok)throw e;return(null==r?void 0:r.noResolveJson)?e:e.json()}).then(e=>i(e)).catch(e=>ms(e,l,r))})})}function gs(e,t,n,r){return hs(this,void 0,void 0,function*(){return fs(e,"GET",t,n,r)})}function ys(e,t,n,r,a){return hs(this,void 0,void 0,function*(){return fs(e,"POST",t,r,a,n)})}function vs(e,t,n,r,a){return hs(this,void 0,void 0,function*(){return fs(e,"DELETE",t,r,a,n)})}var bs=function(e,t,n,r){return new(n||(n=Promise))(function(a,s){function i(e){try{o(r.next(e))}catch(_l){s(_l)}}function l(e){try{o(r.throw(e))}catch(_l){s(_l)}}function o(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,l)}o((r=r.apply(e,t||[])).next())})};const xs={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ws={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class ks{constructor(e,t={},n,r){this.url=e,this.headers=t,this.bucketId=n,this.fetch=us(r)}uploadOrUpdate(e,t,n,r){return bs(this,void 0,void 0,function*(){try{let a;const s=Object.assign(Object.assign({},ws),r);let i=Object.assign(Object.assign({},this.headers),"POST"===e&&{"x-upsert":String(s.upsert)});const l=s.metadata;"undefined"!=typeof Blob&&n instanceof Blob?(a=new FormData,a.append("cacheControl",s.cacheControl),l&&a.append("metadata",this.encodeMetadata(l)),a.append("",n)):"undefined"!=typeof FormData&&n instanceof FormData?(a=n,a.append("cacheControl",s.cacheControl),l&&a.append("metadata",this.encodeMetadata(l))):(a=n,i["cache-control"]=`max-age=${s.cacheControl}`,i["content-type"]=s.contentType,l&&(i["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),(null==r?void 0:r.headers)&&(i=Object.assign(Object.assign({},i),r.headers));const o=this._removeEmptyFolders(t),c=this._getFinalPath(o),u=yield this.fetch(`${this.url}/object/${c}`,Object.assign({method:e,body:a,headers:i},(null==s?void 0:s.duplex)?{duplex:s.duplex}:{})),d=yield u.json();if(u.ok)return{data:{path:o,id:d.Id,fullPath:d.Key},error:null};return{data:null,error:d}}catch(a){if(is(a))return{data:null,error:a};throw a}})}upload(e,t,n){return bs(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,n)})}uploadToSignedUrl(e,t,n,r){return bs(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(e),s=this._getFinalPath(a),i=new URL(this.url+`/object/upload/sign/${s}`);i.searchParams.set("token",t);try{let e;const t=Object.assign({upsert:ws.upsert},r),s=Object.assign(Object.assign({},this.headers),{"x-upsert":String(t.upsert)});"undefined"!=typeof Blob&&n instanceof Blob?(e=new FormData,e.append("cacheControl",t.cacheControl),e.append("",n)):"undefined"!=typeof FormData&&n instanceof FormData?(e=n,e.append("cacheControl",t.cacheControl)):(e=n,s["cache-control"]=`max-age=${t.cacheControl}`,s["content-type"]=t.contentType);const l=yield this.fetch(i.toString(),{method:"PUT",body:e,headers:s}),o=yield l.json();if(l.ok)return{data:{path:a,fullPath:o.Key},error:null};return{data:null,error:o}}catch(l){if(is(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,t){return bs(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const r=Object.assign({},this.headers);(null==t?void 0:t.upsert)&&(r["x-upsert"]="true");const a=yield ys(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:r}),s=new URL(this.url+a.url),i=s.searchParams.get("token");if(!i)throw new ss("No token returned by API");return{data:{signedUrl:s.toString(),path:e,token:i},error:null}}catch(n){if(is(n))return{data:null,error:n};throw n}})}update(e,t,n){return bs(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,n)})}move(e,t,n){return bs(this,void 0,void 0,function*(){try{return{data:yield ys(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null==n?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(r){if(is(r))return{data:null,error:r};throw r}})}copy(e,t,n){return bs(this,void 0,void 0,function*(){try{return{data:{path:(yield ys(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null==n?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(r){if(is(r))return{data:null,error:r};throw r}})}createSignedUrl(e,t,n){return bs(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e),a=yield ys(this.fetch,`${this.url}/object/sign/${r}`,Object.assign({expiresIn:t},(null==n?void 0:n.transform)?{transform:n.transform}:{}),{headers:this.headers});const s=(null==n?void 0:n.download)?`&download=${!0===n.download?"":n.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${s}`)},{data:a,error:null}}catch(r){if(is(r))return{data:null,error:r};throw r}})}createSignedUrls(e,t,n){return bs(this,void 0,void 0,function*(){try{const r=yield ys(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),a=(null==n?void 0:n.download)?`&download=${!0===n.download?"":n.download}`:"";return{data:r.map(e=>Object.assign(Object.assign({},e),{signedUrl:e.signedURL?encodeURI(`${this.url}${e.signedURL}${a}`):null})),error:null}}catch(r){if(is(r))return{data:null,error:r};throw r}})}download(e,t){return bs(this,void 0,void 0,function*(){const n=void 0!==(null==t?void 0:t.transform)?"render/image/authenticated":"object",r=this.transformOptsToQueryString((null==t?void 0:t.transform)||{}),a=r?`?${r}`:"";try{const t=this._getFinalPath(e),r=yield gs(this.fetch,`${this.url}/${n}/${t}${a}`,{headers:this.headers,noResolveJson:!0});return{data:yield r.blob(),error:null}}catch(s){if(is(s))return{data:null,error:s};throw s}})}info(e){return bs(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const e=yield gs(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:ds(e),error:null}}catch(n){if(is(n))return{data:null,error:n};throw n}})}exists(e){return bs(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield function(e,t,n,r){return hs(this,void 0,void 0,function*(){return fs(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(is(n)&&n instanceof os){const e=n.originalError;if([400,404].includes(null==e?void 0:e.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,t){const n=this._getFinalPath(e),r=[],a=(null==t?void 0:t.download)?`download=${!0===t.download?"":t.download}`:"";""!==a&&r.push(a);const s=void 0!==(null==t?void 0:t.transform)?"render/image":"object",i=this.transformOptsToQueryString((null==t?void 0:t.transform)||{});""!==i&&r.push(i);let l=r.join("&");return""!==l&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${n}${l}`)}}}remove(e){return bs(this,void 0,void 0,function*(){try{return{data:yield vs(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(is(t))return{data:null,error:t};throw t}})}list(e,t,n){return bs(this,void 0,void 0,function*(){try{const r=Object.assign(Object.assign(Object.assign({},xs),t),{prefix:e||""});return{data:yield ys(this.fetch,`${this.url}/object/list/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(is(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return"undefined"!=typeof Buffer?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const Ss={"X-Client-Info":"storage-js/2.7.1"};var js=function(e,t,n,r){return new(n||(n=Promise))(function(a,s){function i(e){try{o(r.next(e))}catch(_l){s(_l)}}function l(e){try{o(r.throw(e))}catch(_l){s(_l)}}function o(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,l)}o((r=r.apply(e,t||[])).next())})};class Ns{constructor(e,t={},n){this.url=e,this.headers=Object.assign(Object.assign({},Ss),t),this.fetch=us(n)}listBuckets(){return js(this,void 0,void 0,function*(){try{return{data:yield gs(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(is(e))return{data:null,error:e};throw e}})}getBucket(e){return js(this,void 0,void 0,function*(){try{return{data:yield gs(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(is(t))return{data:null,error:t};throw t}})}createBucket(e,t={public:!1}){return js(this,void 0,void 0,function*(){try{return{data:yield ys(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(is(n))return{data:null,error:n};throw n}})}updateBucket(e,t){return js(this,void 0,void 0,function*(){try{const n=yield function(e,t,n,r,a){return hs(this,void 0,void 0,function*(){return fs(e,"PUT",t,r,a,n)})}(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers});return{data:n,error:null}}catch(n){if(is(n))return{data:null,error:n};throw n}})}emptyBucket(e){return js(this,void 0,void 0,function*(){try{return{data:yield ys(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(is(t))return{data:null,error:t};throw t}})}deleteBucket(e){return js(this,void 0,void 0,function*(){try{return{data:yield vs(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(is(t))return{data:null,error:t};throw t}})}}class Es extends Ns{constructor(e,t={},n){super(e,t,n)}from(e){return new ks(this.url,this.headers,e,this.fetch)}}let Ps="";Ps="undefined"!=typeof Deno?"deno":"undefined"!=typeof document?"web":"undefined"!=typeof navigator&&"ReactNative"===navigator.product?"react-native":"node";const _s={headers:{"X-Client-Info":`supabase-js-${Ps}/2.50.0`}},Ts={schema:"public"},Cs={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Ms={};var As=function(e,t,n,r){return new(n||(n=Promise))(function(a,s){function i(e){try{o(r.next(e))}catch(_l){s(_l)}}function l(e){try{o(r.throw(e))}catch(_l){s(_l)}}function o(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,l)}o((r=r.apply(e,t||[])).next())})};const Rs=(e,t,n)=>{const r=(e=>{let t;return t=e||("undefined"==typeof fetch?qr:fetch),(...e)=>t(...e)})(n),a="undefined"==typeof Headers?Wr:Headers;return(n,s)=>As(void 0,void 0,void 0,function*(){var i;const l=null!==(i=yield t())&&void 0!==i?i:e;let o=new a(null==s?void 0:s.headers);return o.has("apikey")||o.set("apikey",e),o.has("Authorization")||o.set("Authorization",`Bearer ${l}`),r(n,Object.assign(Object.assign({},s),{headers:o}))})};var Ds=function(e,t,n,r){return new(n||(n=Promise))(function(a,s){function i(e){try{o(r.next(e))}catch(_l){s(_l)}}function l(e){try{o(r.throw(e))}catch(_l){s(_l)}}function o(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,l)}o((r=r.apply(e,t||[])).next())})};const Ls="2.70.0",Os=3e4,Is=9e4,zs={"X-Client-Info":`gotrue-js/${Ls}`},$s="X-Supabase-Api-Version",Fs={timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"},Bs=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i;class Us extends Error{constructor(e,t,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=n}}function qs(e){return"object"==typeof e&&null!==e&&"__isAuthError"in e}class Ws extends Us{constructor(e,t,n){super(e,t,n),this.name="AuthApiError",this.status=t,this.code=n}}class Vs extends Us{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class Hs extends Us{constructor(e,t,n,r){super(e,n,r),this.name=t,this.status=n}}class Gs extends Hs{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}class Ks extends Hs{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Js extends Hs{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Qs extends Hs{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ys extends Hs{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Xs extends Hs{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function Zs(e){return qs(e)&&"AuthRetryableFetchError"===e.name}class ei extends Hs{constructor(e,t,n){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=n}}class ti extends Hs{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const ni="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),ri=" \t\n\r=".split(""),ai=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<ri.length;t+=1)e[ri[t].charCodeAt(0)]=-2;for(let t=0;t<ni.length;t+=1)e[ni[t].charCodeAt(0)]=t;return e})();function si(e,t,n){if(null!==e)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const e=t.queue>>t.queuedBits-6&63;n(ni[e]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const e=t.queue>>t.queuedBits-6&63;n(ni[e]),t.queuedBits-=6}}function ii(e,t,n){const r=ai[e];if(!(r>-1)){if(-2===r)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8}function li(e){const t=[],n=e=>{t.push(String.fromCodePoint(e))},r={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},s=e=>{!function(e,t,n){if(0===t.utf8seq){if(e<=127)return void n(e);for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(2===t.utf8seq)t.codepoint=31&e;else if(3===t.utf8seq)t.codepoint=15&e;else{if(4!==t.utf8seq)throw new Error("Invalid UTF-8 sequence");t.codepoint=7&e}t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|63&e,t.utf8seq-=1,0===t.utf8seq&&n(t.codepoint)}}(e,r,n)};for(let i=0;i<e.length;i+=1)ii(e.charCodeAt(i),a,s);return t.join("")}function oi(e,t){if(!(e<=127)){if(e<=2047)return t(192|e>>6),void t(128|63&e);if(e<=65535)return t(224|e>>12),t(128|e>>6&63),void t(128|63&e);if(e<=1114111)return t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),void t(128|63&e);throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}t(e)}function ci(e){const t=[],n={queue:0,queuedBits:0},r=e=>{t.push(e)};for(let a=0;a<e.length;a+=1)ii(e.charCodeAt(a),n,r);return new Uint8Array(t)}function ui(e){const t=[];return function(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const t=1024*(r-55296)&65535;r=65536+(e.charCodeAt(n+1)-56320&65535|t),n+=1}oi(r,t)}}(e,e=>t.push(e)),new Uint8Array(t)}function di(e){const t=[],n={queue:0,queuedBits:0},r=e=>{t.push(e)};return e.forEach(e=>si(e,n,r)),si(null,n,r),t.join("")}const hi=()=>"undefined"!=typeof window&&"undefined"!=typeof document,pi={tested:!1,writable:!1},mi=()=>{if(!hi())return!1;try{if("object"!=typeof globalThis.localStorage)return!1}catch(_l){return!1}if(pi.tested)return pi.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),pi.tested=!0,pi.writable=!0}catch(_l){pi.tested=!0,pi.writable=!1}return pi.writable};const fi=e=>{let t;return t=e||("undefined"==typeof fetch?(...e)=>Er(async()=>{const{default:e}=await Promise.resolve().then(()=>Gr);return{default:e}},void 0).then(({default:t})=>t(...e)):fetch),(...e)=>t(...e)},gi=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},yi=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch(r){return n}},vi=async(e,t)=>{await e.removeItem(t)};class bi{constructor(){this.promise=new bi.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}function xi(e){const t=e.split(".");if(3!==t.length)throw new ti("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!Bs.test(t[n]))throw new ti("JWT not in base64url format");return{header:JSON.parse(li(t[0])),payload:JSON.parse(li(t[1])),signature:ci(t[2]),raw:{header:t[0],payload:t[1]}}}function wi(e){return("0"+e.toString(16)).substr(-2)}async function ki(e){if(!("undefined"!=typeof crypto&&void 0!==crypto.subtle&&"undefined"!=typeof TextEncoder))return e;const t=await async function(e){const t=(new TextEncoder).encode(e),n=await crypto.subtle.digest("SHA-256",t),r=new Uint8Array(n);return Array.from(r).map(e=>String.fromCharCode(e)).join("")}(e);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Si(e,t,n=!1){const r=function(){const e=new Uint32Array(56);if("undefined"==typeof crypto){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",t=e.length;let n="";for(let r=0;r<56;r++)n+=e.charAt(Math.floor(Math.random()*t));return n}return crypto.getRandomValues(e),Array.from(e,wi).join("")}();let a=r;n&&(a+="/PASSWORD_RECOVERY"),await gi(e,`${t}-code-verifier`,a);const s=await ki(r);return[s,r===s?"plain":"s256"]}bi.promiseConstructor=Promise;const ji=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;const Ni=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ei(e){if(!Ni.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}const Pi=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),_i=[502,503,504];async function Ti(e){var t,n;if(!("object"==typeof(n=e)&&null!==n&&"status"in n&&"ok"in n&&"json"in n&&"function"==typeof n.json))throw new Xs(Pi(e),0);if(_i.includes(e.status))throw new Xs(Pi(e),e.status);let r,a;try{r=await e.json()}catch(_l){throw new Vs(Pi(_l),_l)}const s=function(e){const t=e.headers.get($s);if(!t)return null;if(!t.match(ji))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch(_l){return null}}(e);if(s&&s.getTime()>=Fs.timestamp&&"object"==typeof r&&r&&"string"==typeof r.code?a=r.code:"object"==typeof r&&r&&"string"==typeof r.error_code&&(a=r.error_code),a){if("weak_password"===a)throw new ei(Pi(r),e.status,(null===(t=r.weak_password)||void 0===t?void 0:t.reasons)||[]);if("session_not_found"===a)throw new Gs}else if("object"==typeof r&&r&&"object"==typeof r.weak_password&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((e,t)=>e&&"string"==typeof t,!0))throw new ei(Pi(r),e.status,r.weak_password.reasons);throw new Ws(Pi(r),e.status||500,a)}async function Ci(e,t,n,r){var a;const s=Object.assign({},null==r?void 0:r.headers);s[$s]||(s[$s]=Fs.name),(null==r?void 0:r.jwt)&&(s.Authorization=`Bearer ${r.jwt}`);const i=null!==(a=null==r?void 0:r.query)&&void 0!==a?a:{};(null==r?void 0:r.redirectTo)&&(i.redirect_to=r.redirectTo);const l=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",o=await async function(e,t,n,r,a,s){const i=((e,t,n,r)=>{const a={method:e,headers:(null==t?void 0:t.headers)||{}};return"GET"===e?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},null==t?void 0:t.headers),a.body=JSON.stringify(r),Object.assign(Object.assign({},a),n))})(t,r,a,s);let l;try{l=await e(n,Object.assign({},i))}catch(_l){throw new Xs(Pi(_l),0)}l.ok||await Ti(l);if(null==r?void 0:r.noResolveJson)return l;try{return await l.json()}catch(_l){await Ti(_l)}}(e,t,n+l,{headers:s,noResolveJson:null==r?void 0:r.noResolveJson},{},null==r?void 0:r.body);return(null==r?void 0:r.xform)?null==r?void 0:r.xform(o):{data:Object.assign({},o),error:null}}function Mi(e){var t;let n=null;var r;(function(e){return e.access_token&&e.refresh_token&&e.expires_in})(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=(r=e.expires_in,Math.round(Date.now()/1e3)+r)));return{data:{session:n,user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function Ai(e){const t=Mi(e);return!t.error&&e.weak_password&&"object"==typeof e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&"string"==typeof e.weak_password.message&&e.weak_password.reasons.reduce((e,t)=>e&&"string"==typeof t,!0)&&(t.data.weak_password=e.weak_password),t}function Ri(e){var t;return{data:{user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function Di(e){return{data:e,error:null}}function Li(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:a,verification_type:s}=e,i=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]);return{data:{properties:{action_link:t,email_otp:n,hashed_token:r,redirect_to:a,verification_type:s},user:Object.assign({},i)},error:null}}function Oi(e){return e}const Ii=["global","local","others"];class zi{constructor({url:e="",headers:t={},fetch:n}){this.url=e,this.headers=t,this.fetch=fi(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,t=Ii[0]){if(Ii.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ii.join(", ")}`);try{return await Ci(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(qs(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,t={}){try{return await Ci(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:Ri})}catch(n){if(qs(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:t}=e,n=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}(e,["options"]),r=Object.assign(Object.assign({},n),t);return"newEmail"in n&&(r.new_email=null==n?void 0:n.newEmail,delete r.newEmail),await Ci(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:r,headers:this.headers,xform:Li,redirectTo:null==t?void 0:t.redirectTo})}catch(t){if(qs(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await Ci(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Ri})}catch(t){if(qs(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,n,r,a,s,i,l;try{const o={nextPage:null,lastPage:0,total:0},c=await Ci(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:null!==(n=null===(t=null==e?void 0:e.page)||void 0===t?void 0:t.toString())&&void 0!==n?n:"",per_page:null!==(a=null===(r=null==e?void 0:e.perPage)||void 0===r?void 0:r.toString())&&void 0!==a?a:""},xform:Oi});if(c.error)throw c.error;const u=await c.json(),d=null!==(s=c.headers.get("x-total-count"))&&void 0!==s?s:0,h=null!==(l=null===(i=c.headers.get("link"))||void 0===i?void 0:i.split(","))&&void 0!==l?l:[];return h.length>0&&(h.forEach(e=>{const t=parseInt(e.split(";")[0].split("=")[1].substring(0,1)),n=JSON.parse(e.split(";")[1].split("=")[1]);o[`${n}Page`]=t}),o.total=parseInt(d)),{data:Object.assign(Object.assign({},u),o),error:null}}catch(o){if(qs(o))return{data:{users:[]},error:o};throw o}}async getUserById(e){Ei(e);try{return await Ci(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Ri})}catch(t){if(qs(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){Ei(e);try{return await Ci(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:Ri})}catch(n){if(qs(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,t=!1){Ei(e);try{return await Ci(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:Ri})}catch(n){if(qs(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){Ei(e.userId);try{const{data:t,error:n}=await Ci(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:e=>({data:{factors:e},error:null})});return{data:t,error:n}}catch(t){if(qs(t))return{data:null,error:t};throw t}}async _deleteFactor(e){Ei(e.userId),Ei(e.id);try{return{data:await Ci(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(qs(t))return{data:null,error:t};throw t}}}const $i={getItem:e=>mi()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{mi()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{mi()&&globalThis.localStorage.removeItem(e)}};function Fi(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const Bi=!!(globalThis&&mi()&&globalThis.localStorage&&"true"===globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug"));class Ui extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class qi extends Ui{}async function Wi(e,t,n){const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort()},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,0===t?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async r=>{if(!r){if(0===t)throw new qi(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Bi)try{await globalThis.navigator.locks.query()}catch(_l){}return await n()}try{return await n()}finally{}}))}!function(){if("object"!=typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(_l){"undefined"!=typeof self&&(self.globalThis=self)}}();const Vi={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:zs,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Hi(e,t,n){return await n()}class Gi{constructor(e){var t,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Gi.nextInstanceID,Gi.nextInstanceID+=1,this.instanceID>0&&hi();const r=Object.assign(Object.assign({},Vi),e);if(this.logDebugMessages=!!r.debug,"function"==typeof r.debug&&(this.logger=r.debug),this.persistSession=r.persistSession,this.storageKey=r.storageKey,this.autoRefreshToken=r.autoRefreshToken,this.admin=new zi({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=fi(r.fetch),this.lock=r.lock||Hi,this.detectSessionInUrl=r.detectSessionInUrl,this.flowType=r.flowType,this.hasCustomAuthorizationHeader=r.hasCustomAuthorizationHeader,r.lock?this.lock=r.lock:hi()&&(null===(t=null===globalThis||void 0===globalThis?void 0:globalThis.navigator)||void 0===t?void 0:t.locks)?this.lock=Wi:this.lock=Hi,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?r.storage?this.storage=r.storage:mi()?this.storage=$i:(this.memoryStorage={},this.storage=Fi(this.memoryStorage)):(this.memoryStorage={},this.storage=Fi(this.memoryStorage)),hi()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(_l){}null===(n=this.broadcastChannel)||void 0===n||n.addEventListener("message",async e=>{this._debug("received broadcast notification from other tab or client",e),await this._notifyAllSubscribers(e.data.event,e.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Ls}) ${(new Date).toISOString()}`,...e),this}async initialize(){return this.initializePromise||(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))()),await this.initializePromise}async _initialize(){var e;try{const t=function(e){const t={},n=new URL(e);if(n.hash&&"#"===n.hash[0])try{new URLSearchParams(n.hash.substring(1)).forEach((e,n)=>{t[n]=e})}catch(_l){}return n.searchParams.forEach((e,n)=>{t[n]=e}),t}(window.location.href);let n="none";if(this._isImplicitGrantCallback(t)?n="implicit":await this._isPKCECallback(t)&&(n="pkce"),hi()&&this.detectSessionInUrl&&"none"!==n){const{data:r,error:a}=await this._getSessionFromURL(t,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),function(e){return qs(e)&&"AuthImplicitGrantRedirectError"===e.name}(a)){const t=null===(e=a.details)||void 0===e?void 0:e.code;if("identity_already_exists"===t||"identity_not_found"===t||"single_identity_not_deletable"===t)return{error:a}}return await this._removeSession(),{error:a}}const{session:s,redirectType:i}=r;return this._debug("#_initialize()","detected session in URL",s,"redirect type",i),await this._saveSession(s),setTimeout(async()=>{"recovery"===i?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return qs(t)?{error:t}:{error:new Vs("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,n,r;try{const a=await Ci(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:null!==(n=null===(t=null==e?void 0:e.options)||void 0===t?void 0:t.data)&&void 0!==n?n:{},gotrue_meta_security:{captcha_token:null===(r=null==e?void 0:e.options)||void 0===r?void 0:r.captchaToken}},xform:Mi}),{data:s,error:i}=a;if(i||!s)return{data:{user:null,session:null},error:i};const l=s.session,o=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:o,session:l},error:null}}catch(a){if(qs(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(e){var t,n,r;try{let a;if("email"in e){const{email:n,password:r,options:s}=e;let i=null,l=null;"pkce"===this.flowType&&([i,l]=await Si(this.storage,this.storageKey)),a=await Ci(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:null==s?void 0:s.emailRedirectTo,body:{email:n,password:r,data:null!==(t=null==s?void 0:s.data)&&void 0!==t?t:{},gotrue_meta_security:{captcha_token:null==s?void 0:s.captchaToken},code_challenge:i,code_challenge_method:l},xform:Mi})}else{if(!("phone"in e))throw new Js("You must provide either an email or phone number and a password");{const{phone:t,password:s,options:i}=e;a=await Ci(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:t,password:s,data:null!==(n=null==i?void 0:i.data)&&void 0!==n?n:{},channel:null!==(r=null==i?void 0:i.channel)&&void 0!==r?r:"sms",gotrue_meta_security:{captcha_token:null==i?void 0:i.captchaToken}},xform:Mi})}}const{data:s,error:i}=a;if(i||!s)return{data:{user:null,session:null},error:i};const l=s.session,o=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:o,session:l},error:null}}catch(a){if(qs(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(e){try{let t;if("email"in e){const{email:n,password:r,options:a}=e;t=await Ci(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:n,password:r,gotrue_meta_security:{captcha_token:null==a?void 0:a.captchaToken}},xform:Ai})}else{if(!("phone"in e))throw new Js("You must provide either an email or phone number and a password");{const{phone:n,password:r,options:a}=e;t=await Ci(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:n,password:r,gotrue_meta_security:{captcha_token:null==a?void 0:a.captchaToken}},xform:Ai})}}const{data:n,error:r}=t;return r?{data:{user:null,session:null},error:r}:n&&n.session&&n.user?(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:r}):{data:{user:null,session:null},error:new Ks}}catch(t){if(qs(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,n,r,a;return await this._handleProviderSignIn(e.provider,{redirectTo:null===(t=e.options)||void 0===t?void 0:t.redirectTo,scopes:null===(n=e.options)||void 0===n?void 0:n.scopes,queryParams:null===(r=e.options)||void 0===r?void 0:r.queryParams,skipBrowserRedirect:null===(a=e.options)||void 0===a?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;if("solana"===t)return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${t}"`)}async signInWithSolana(e){var t,n,r,a,s,i,l,o,c,u,d,h;let p,m;if("message"in e)p=e.message,m=e.signature;else{const{chain:d,wallet:h,statement:f,options:g}=e;let y;if(hi())if("object"==typeof h)y=h;else{const e=window;if(!("solana"in e)||"object"!=typeof e.solana||!("signIn"in e.solana&&"function"==typeof e.solana.signIn||"signMessage"in e.solana&&"function"==typeof e.solana.signMessage))throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.");y=e.solana}else{if("object"!=typeof h||!(null==g?void 0:g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");y=h}const v=new URL(null!==(t=null==g?void 0:g.url)&&void 0!==t?t:window.location.href);if("signIn"in y&&y.signIn){const e=await y.signIn(Object.assign(Object.assign(Object.assign({issuedAt:(new Date).toISOString()},null==g?void 0:g.signInWithSolana),{version:"1",domain:v.host,uri:v.href}),f?{statement:f}:null));let t;if(Array.isArray(e)&&e[0]&&"object"==typeof e[0])t=e[0];else{if(!(e&&"object"==typeof e&&"signedMessage"in e&&"signature"in e))throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");t=e}if(!("signedMessage"in t&&"signature"in t&&("string"==typeof t.signedMessage||t.signedMessage instanceof Uint8Array)&&t.signature instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields");p="string"==typeof t.signedMessage?t.signedMessage:(new TextDecoder).decode(t.signedMessage),m=t.signature}else{if(!("signMessage"in y&&"function"==typeof y.signMessage&&"publicKey"in y&&"object"==typeof y&&y.publicKey&&"toBase58"in y.publicKey&&"function"==typeof y.publicKey.toBase58))throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");p=[`${v.host} wants you to sign in with your Solana account:`,y.publicKey.toBase58(),...f?["",f,""]:[""],"Version: 1",`URI: ${v.href}`,`Issued At: ${null!==(r=null===(n=null==g?void 0:g.signInWithSolana)||void 0===n?void 0:n.issuedAt)&&void 0!==r?r:(new Date).toISOString()}`,...(null===(a=null==g?void 0:g.signInWithSolana)||void 0===a?void 0:a.notBefore)?[`Not Before: ${g.signInWithSolana.notBefore}`]:[],...(null===(s=null==g?void 0:g.signInWithSolana)||void 0===s?void 0:s.expirationTime)?[`Expiration Time: ${g.signInWithSolana.expirationTime}`]:[],...(null===(i=null==g?void 0:g.signInWithSolana)||void 0===i?void 0:i.chainId)?[`Chain ID: ${g.signInWithSolana.chainId}`]:[],...(null===(l=null==g?void 0:g.signInWithSolana)||void 0===l?void 0:l.nonce)?[`Nonce: ${g.signInWithSolana.nonce}`]:[],...(null===(o=null==g?void 0:g.signInWithSolana)||void 0===o?void 0:o.requestId)?[`Request ID: ${g.signInWithSolana.requestId}`]:[],...(null===(u=null===(c=null==g?void 0:g.signInWithSolana)||void 0===c?void 0:c.resources)||void 0===u?void 0:u.length)?["Resources",...g.signInWithSolana.resources.map(e=>`- ${e}`)]:[]].join("\n");const e=await y.signMessage((new TextEncoder).encode(p),"utf8");if(!(e&&e instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");m=e}}try{const{data:t,error:n}=await Ci(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:p,signature:di(m)},(null===(d=e.options)||void 0===d?void 0:d.captchaToken)?{gotrue_meta_security:{captcha_token:null===(h=e.options)||void 0===h?void 0:h.captchaToken}}:null),xform:Mi});if(n)throw n;return t&&t.session&&t.user?(t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),{data:Object.assign({},t),error:n}):{data:{user:null,session:null},error:new Ks}}catch(f){if(qs(f))return{data:{user:null,session:null},error:f};throw f}}async _exchangeCodeForSession(e){const t=await yi(this.storage,`${this.storageKey}-code-verifier`),[n,r]=(null!=t?t:"").split("/");try{const{data:t,error:a}=await Ci(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Mi});if(await vi(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return t&&t.session&&t.user?(t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),{data:Object.assign(Object.assign({},t),{redirectType:null!=r?r:null}),error:a}):{data:{user:null,session:null,redirectType:null},error:new Ks}}catch(a){if(qs(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(e){try{const{options:t,provider:n,token:r,access_token:a,nonce:s}=e,i=await Ci(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:r,access_token:a,nonce:s,gotrue_meta_security:{captcha_token:null==t?void 0:t.captchaToken}},xform:Mi}),{data:l,error:o}=i;return o?{data:{user:null,session:null},error:o}:l&&l.session&&l.user?(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:o}):{data:{user:null,session:null},error:new Ks}}catch(t){if(qs(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,n,r,a,s;try{if("email"in e){const{email:r,options:a}=e;let s=null,i=null;"pkce"===this.flowType&&([s,i]=await Si(this.storage,this.storageKey));const{error:l}=await Ci(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:r,data:null!==(t=null==a?void 0:a.data)&&void 0!==t?t:{},create_user:null===(n=null==a?void 0:a.shouldCreateUser)||void 0===n||n,gotrue_meta_security:{captcha_token:null==a?void 0:a.captchaToken},code_challenge:s,code_challenge_method:i},redirectTo:null==a?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:l}}if("phone"in e){const{phone:t,options:n}=e,{data:i,error:l}=await Ci(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:t,data:null!==(r=null==n?void 0:n.data)&&void 0!==r?r:{},create_user:null===(a=null==n?void 0:n.shouldCreateUser)||void 0===a||a,gotrue_meta_security:{captcha_token:null==n?void 0:n.captchaToken},channel:null!==(s=null==n?void 0:n.channel)&&void 0!==s?s:"sms"}});return{data:{user:null,session:null,messageId:null==i?void 0:i.message_id},error:l}}throw new Js("You must provide either an email or phone number.")}catch(i){if(qs(i))return{data:{user:null,session:null},error:i};throw i}}async verifyOtp(e){var t,n;try{let r,a;"options"in e&&(r=null===(t=e.options)||void 0===t?void 0:t.redirectTo,a=null===(n=e.options)||void 0===n?void 0:n.captchaToken);const{data:s,error:i}=await Ci(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:r,xform:Mi});if(i)throw i;if(!s)throw new Error("An error occurred on token verification.");const l=s.session,o=s.user;return(null==l?void 0:l.access_token)&&(await this._saveSession(l),await this._notifyAllSubscribers("recovery"==e.type?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:o,session:l},error:null}}catch(r){if(qs(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithSSO(e){var t,n,r;try{let a=null,s=null;return"pkce"===this.flowType&&([a,s]=await Si(this.storage,this.storageKey)),await Ci(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:null!==(n=null===(t=e.options)||void 0===t?void 0:t.redirectTo)&&void 0!==n?n:void 0}),(null===(r=null==e?void 0:e.options)||void 0===r?void 0:r.captchaToken)?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:s}),headers:this.headers,xform:Di})}catch(a){if(qs(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:n}=e;if(n)throw n;if(!t)throw new Gs;const{error:r}=await Ci(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:r}})}catch(e){if(qs(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:n,type:r,options:a}=e,{error:s}=await Ci(this.fetch,"POST",t,{headers:this.headers,body:{email:n,type:r,gotrue_meta_security:{captcha_token:null==a?void 0:a.captchaToken}},redirectTo:null==a?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:s}}if("phone"in e){const{phone:n,type:r,options:a}=e,{data:s,error:i}=await Ci(this.fetch,"POST",t,{headers:this.headers,body:{phone:n,type:r,gotrue_meta_security:{captcha_token:null==a?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:null==s?void 0:s.message_id},error:i}}throw new Js("You must provide either an email or phone number and a type")}catch(t){if(qs(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){await this.initializePromise;return await this._acquireLock(-1,async()=>this._useSession(async e=>e))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const e=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await e,await t()))();return this.pendingInLock.push((async()=>{try{await n}catch(_l){}})()),n}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const e=t();for(this.pendingInLock.push((async()=>{try{await e}catch(_l){}})()),await e;this.pendingInLock.length;){const e=[...this.pendingInLock];await Promise.all(e),this.pendingInLock.splice(0,e.length)}return await e}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",(new Error).stack);try{let e=null;const t=await yi(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),null!==t&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=!!e.expires_at&&1e3*e.expires_at-Date.now()<Is;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.storage.isServer){let t=this.suppressGetSessionWarning;e=new Proxy(e,{get:(e,n,r)=>(t||"user"!==n||(t=!0,this.suppressGetSessionWarning=!0),Reflect.get(e,n,r))})}return{data:{session:e},error:null}}const{session:r,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{session:null},error:a}:{data:{session:r},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;return await this._acquireLock(-1,async()=>await this._getUser())}async _getUser(e){try{return e?await Ci(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Ri}):await this._useSession(async e=>{var t,n,r;const{data:a,error:s}=e;if(s)throw s;return(null===(t=a.session)||void 0===t?void 0:t.access_token)||this.hasCustomAuthorizationHeader?await Ci(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:null!==(r=null===(n=a.session)||void 0===n?void 0:n.access_token)&&void 0!==r?r:void 0,xform:Ri}):{data:{user:null},error:new Gs}})}catch(t){if(qs(t))return function(e){return qs(e)&&"AuthSessionMissingError"===e.name}(t)&&(await this._removeSession(),await vi(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:t};throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async n=>{const{data:r,error:a}=n;if(a)throw a;if(!r.session)throw new Gs;const s=r.session;let i=null,l=null;"pkce"===this.flowType&&null!=e.email&&([i,l]=await Si(this.storage,this.storageKey));const{data:o,error:c}=await Ci(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:null==t?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:i,code_challenge_method:l}),jwt:s.access_token,xform:Ri});if(c)throw c;return s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),{data:{user:s.user},error:null}})}catch(n){if(qs(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Gs;const t=Date.now()/1e3;let n=t,r=!0,a=null;const{payload:s}=xi(e.access_token);if(s.exp&&(n=s.exp,r=n<=t),r){const{session:t,error:n}=await this._callRefreshToken(e.refresh_token);if(n)return{data:{user:null,session:null},error:n};if(!t)return{data:{user:null,session:null},error:null};a=t}else{const{data:r,error:s}=await this._getUser(e.access_token);if(s)throw s;a={access_token:e.access_token,refresh_token:e.refresh_token,user:r.user,token_type:"bearer",expires_in:n-t,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(t){if(qs(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var n;if(!e){const{data:r,error:a}=t;if(a)throw a;e=null!==(n=r.session)&&void 0!==n?n:void 0}if(!(null==e?void 0:e.refresh_token))throw new Gs;const{session:r,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{user:null,session:null},error:a}:r?{data:{user:r.user,session:r},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if(qs(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e,t){try{if(!hi())throw new Qs("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Qs(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if("pkce"===this.flowType)throw new Ys("Not a valid PKCE flow url.");break;case"pkce":if("implicit"===this.flowType)throw new Qs("Not a valid implicit grant flow url.")}if("pkce"===t){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Ys("No code detected.");const{data:t,error:n}=await this._exchangeCodeForSession(e.code);if(n)throw n;const r=new URL(window.location.href);return r.searchParams.delete("code"),window.history.replaceState(window.history.state,"",r.toString()),{data:{session:t.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:r,access_token:a,refresh_token:s,expires_in:i,expires_at:l,token_type:o}=e;if(!(a&&i&&s&&o))throw new Qs("No session defined in URL");const c=Math.round(Date.now()/1e3),u=parseInt(i);let d=c+u;l&&(d=parseInt(l));const{data:h,error:p}=await this._getUser(a);if(p)throw p;const m={provider_token:n,provider_refresh_token:r,access_token:a,expires_in:u,expires_at:d,refresh_token:s,token_type:o,user:h.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:m,redirectType:e.type},error:null}}catch(n){if(qs(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return Boolean(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await yi(this.storage,`${this.storageKey}-code-verifier`);return!(!e.code||!t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var n;const{data:r,error:a}=t;if(a)return{error:a};const s=null===(n=r.session)||void 0===n?void 0:n.access_token;if(s){const{error:t}=await this.admin.signOut(s,e);if(t&&(!function(e){return qs(e)&&"AuthApiError"===e.name}(t)||404!==t.status&&401!==t.status&&403!==t.status))return{error:t}}return"others"!==e&&(await this._removeSession(),await vi(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}),n={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,n),(async()=>{await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})})(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async t=>{var n,r;try{const{data:{session:r},error:a}=t;if(a)throw a;await(null===(n=this.stateChangeEmitters.get(e))||void 0===n?void 0:n.callback("INITIAL_SESSION",r)),this._debug("INITIAL_SESSION","callback id",e,"session",r)}catch(a){await(null===(r=this.stateChangeEmitters.get(e))||void 0===r?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a)}})}async resetPasswordForEmail(e,t={}){let n=null,r=null;"pkce"===this.flowType&&([n,r]=await Si(this.storage,this.storageKey,!0));try{return await Ci(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:r,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(a){if(qs(a))return{data:null,error:a};throw a}}async getUserIdentities(){var e;try{const{data:t,error:n}=await this.getUser();if(n)throw n;return{data:{identities:null!==(e=t.user.identities)&&void 0!==e?e:[]},error:null}}catch(t){if(qs(t))return{data:null,error:t};throw t}}async linkIdentity(e){var t;try{const{data:n,error:r}=await this._useSession(async t=>{var n,r,a,s,i;const{data:l,error:o}=t;if(o)throw o;const c=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:null===(n=e.options)||void 0===n?void 0:n.redirectTo,scopes:null===(r=e.options)||void 0===r?void 0:r.scopes,queryParams:null===(a=e.options)||void 0===a?void 0:a.queryParams,skipBrowserRedirect:!0});return await Ci(this.fetch,"GET",c,{headers:this.headers,jwt:null!==(i=null===(s=l.session)||void 0===s?void 0:s.access_token)&&void 0!==i?i:void 0})});if(r)throw r;return hi()&&!(null===(t=e.options)||void 0===t?void 0:t.skipBrowserRedirect)&&window.location.assign(null==n?void 0:n.url),{data:{provider:e.provider,url:null==n?void 0:n.url},error:null}}catch(n){if(qs(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async t=>{var n,r;const{data:a,error:s}=t;if(s)throw s;return await Ci(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:null!==(r=null===(n=a.session)||void 0===n?void 0:n.access_token)&&void 0!==r?r:void 0})})}catch(t){if(qs(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const a=Date.now();return await(n=async n=>(n>0&&await async function(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}(200*Math.pow(2,n-1)),this._debug(t,"refreshing attempt",n),await Ci(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Mi})),r=(e,t)=>{const n=200*Math.pow(2,e);return t&&Zs(t)&&Date.now()+n-a<Os},new Promise((e,t)=>{(async()=>{for(let a=0;a<1/0;a++)try{const t=await n(a);if(!r(a,null,t))return void e(t)}catch(_l){if(!r(a,_l))return void t(_l)}})()}))}catch(a){if(this._debug(t,"error",a),qs(a))return{data:{session:null,user:null},error:a};throw a}finally{this._debug(t,"end")}var n,r}_isValidSession(e){return"object"==typeof e&&null!==e&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",n),hi()&&!t.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e;const t="#_recoverAndRefresh()";this._debug(t,"begin");try{const n=await yi(this.storage,this.storageKey);if(this._debug(t,"session from storage",n),!this._isValidSession(n))return this._debug(t,"session is not valid"),void(null!==n&&await this._removeSession());const r=1e3*(null!==(e=n.expires_at)&&void 0!==e?e:1/0)-Date.now()<Is;if(this._debug(t,`session has${r?"":" not"} expired with margin of 90000s`),r){if(this.autoRefreshToken&&n.refresh_token){const{error:e}=await this._callRefreshToken(n.refresh_token);e&&(Zs(e)||(this._debug(t,"refresh failed with a non-retryable error, removing the session",e),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){return void this._debug(t,"error",n)}finally{this._debug(t,"end")}}async _callRefreshToken(e){var t,n;if(!e)throw new Gs;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{this.refreshingDeferred=new bi;const{data:t,error:n}=await this._refreshAccessToken(e);if(n)throw n;if(!t.session)throw new Gs;await this._saveSession(t.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",t.session);const r={session:t.session,error:null};return this.refreshingDeferred.resolve(r),r}catch(a){if(this._debug(r,"error",a),qs(a)){const e={session:null,error:a};return Zs(a)||await this._removeSession(),null===(t=this.refreshingDeferred)||void 0===t||t.resolve(e),e}throw null===(n=this.refreshingDeferred)||void 0===n||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(e,t,n=!0){const r=`#_notifyAllSubscribers(${e})`;this._debug(r,"begin",t,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:t});const r=[],a=Array.from(this.stateChangeEmitters.values()).map(async n=>{try{await n.callback(e,t)}catch(_l){r.push(_l)}});if(await Promise.all(a),r.length>0){for(let e=0;e<r.length;e+=1);throw r[0]}}finally{this._debug(r,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await gi(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await vi(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&hi()&&(null===window||void 0===window?void 0:window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(_l){}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Os);this.autoRefreshTicker=e,e&&"object"==typeof e&&"function"==typeof e.unref?e.unref():"undefined"!=typeof Deno&&"function"==typeof Deno.unrefTimer&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:n}}=t;if(!n||!n.refresh_token||!n.expires_at)return void this._debug("#_autoRefreshTokenTick()","no session");const r=Math.floor((1e3*n.expires_at-e)/Os);this._debug("#_autoRefreshTokenTick()",`access token expires in ${r} ticks, a tick lasts 30000ms, refresh threshold is 3 ticks`),r<=3&&await this._callRefreshToken(n.refresh_token)})}catch(_l){}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(_l){if(!(_l.isAcquireTimeout||_l instanceof Ui))throw _l;this._debug("auto refresh token tick lock not available")}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!hi()||!(null===window||void 0===window?void 0:window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),null===window||void 0===window||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{"visible"===document.visibilityState?await this._recoverAndRefresh():this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting")}))):"hidden"===document.visibilityState&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,n){const r=[`provider=${encodeURIComponent(t)}`];if((null==n?void 0:n.redirectTo)&&r.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),(null==n?void 0:n.scopes)&&r.push(`scopes=${encodeURIComponent(n.scopes)}`),"pkce"===this.flowType){const[e,t]=await Si(this.storage,this.storageKey),n=new URLSearchParams({code_challenge:`${encodeURIComponent(e)}`,code_challenge_method:`${encodeURIComponent(t)}`});r.push(n.toString())}if(null==n?void 0:n.queryParams){const e=new URLSearchParams(n.queryParams);r.push(e.toString())}return(null==n?void 0:n.skipBrowserRedirect)&&r.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${r.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var n;const{data:r,error:a}=t;return a?{data:null,error:a}:await Ci(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:null===(n=null==r?void 0:r.session)||void 0===n?void 0:n.access_token})})}catch(t){if(qs(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession(async t=>{var n,r;const{data:a,error:s}=t;if(s)return{data:null,error:s};const i=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},"phone"===e.factorType?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:o}=await Ci(this.fetch,"POST",`${this.url}/factors`,{body:i,headers:this.headers,jwt:null===(n=null==a?void 0:a.session)||void 0===n?void 0:n.access_token});return o?{data:null,error:o}:("totp"===e.factorType&&(null===(r=null==l?void 0:l.totp)||void 0===r?void 0:r.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(t){if(qs(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var n;const{data:r,error:a}=t;if(a)return{data:null,error:a};const{data:s,error:i}=await Ci(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:null===(n=null==r?void 0:r.session)||void 0===n?void 0:n.access_token});return i?{data:null,error:i}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),{data:s,error:i})})}catch(t){if(qs(t))return{data:null,error:t};throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var n;const{data:r,error:a}=t;return a?{data:null,error:a}:await Ci(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:null===(n=null==r?void 0:r.session)||void 0===n?void 0:n.access_token})})}catch(t){if(qs(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(e){const{data:t,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const n=(null==e?void 0:e.factors)||[],r=n.filter(e=>"totp"===e.factor_type&&"verified"===e.status),a=n.filter(e=>"phone"===e.factor_type&&"verified"===e.status);return{data:{all:n,totp:r,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,n;const{data:{session:r},error:a}=e;if(a)return{data:null,error:a};if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=xi(r.access_token);let i=null;s.aal&&(i=s.aal);let l=i;(null!==(n=null===(t=r.user.factors)||void 0===t?void 0:t.filter(e=>"verified"===e.status))&&void 0!==n?n:[]).length>0&&(l="aal2");return{data:{currentLevel:i,nextLevel:l,currentAuthenticationMethods:s.amr||[]},error:null}}))}async fetchJwk(e,t={keys:[]}){let n=t.keys.find(t=>t.kid===e);if(n)return n;if(n=this.jwks.keys.find(t=>t.kid===e),n&&this.jwks_cached_at+6e5>Date.now())return n;const{data:r,error:a}=await Ci(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;if(!r.keys||0===r.keys.length)throw new ti("JWKS is empty");if(this.jwks=r,this.jwks_cached_at=Date.now(),n=r.keys.find(t=>t.kid===e),!n)throw new ti("No matching signing key found in JWKS");return n}async getClaims(e,t={keys:[]}){try{let n=e;if(!n){const{data:e,error:t}=await this.getSession();if(t||!e.session)return{data:null,error:t};n=e.session.access_token}const{header:r,payload:a,signature:s,raw:{header:i,payload:l}}=xi(n);if(function(e){if(!e)throw new Error("Missing exp claim");if(e<=Math.floor(Date.now()/1e3))throw new Error("JWT has expired")}(a.exp),!r.kid||"HS256"===r.alg||!("crypto"in globalThis)||!("subtle"in globalThis.crypto)){const{error:e}=await this.getUser(n);if(e)throw e;return{data:{claims:a,header:r,signature:s},error:null}}const o=function(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}(r.alg),c=await this.fetchJwk(r.kid,t),u=await crypto.subtle.importKey("jwk",c,o,!0,["verify"]);if(!(await crypto.subtle.verify(o,u,s,ui(`${i}.${l}`))))throw new ti("Invalid JWT signature");return{data:{claims:a,header:r,signature:s},error:null}}catch(n){if(qs(n))return{data:null,error:n};throw n}}}Gi.nextInstanceID=0;const Ki=Gi;class Ji extends Ki{constructor(e){super(e)}}var Qi=function(e,t,n,r){return new(n||(n=Promise))(function(a,s){function i(e){try{o(r.next(e))}catch(_l){s(_l)}}function l(e){try{o(r.throw(e))}catch(_l){s(_l)}}function o(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,l)}o((r=r.apply(e,t||[])).next())})};class Yi{constructor(e,t,n){var r,a,s;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const i=(l=e).endsWith("/")?l:l+"/";var l;const o=new URL(i);this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const c=`sb-${o.hostname.split(".")[0]}-auth-token`,u=function(e,t){var n,r;const{db:a,auth:s,realtime:i,global:l}=e,{db:o,auth:c,realtime:u,global:d}=t,h={db:Object.assign(Object.assign({},o),a),auth:Object.assign(Object.assign({},c),s),realtime:Object.assign(Object.assign({},u),i),global:Object.assign(Object.assign(Object.assign({},d),l),{headers:Object.assign(Object.assign({},null!==(n=null==d?void 0:d.headers)&&void 0!==n?n:{}),null!==(r=null==l?void 0:l.headers)&&void 0!==r?r:{})}),accessToken:()=>Ds(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}(null!=n?n:{},{db:Ts,realtime:Ms,auth:Object.assign(Object.assign({},Cs),{storageKey:c}),global:_s});this.storageKey=null!==(r=u.auth.storageKey)&&void 0!==r?r:"",this.headers=null!==(a=u.global.headers)&&void 0!==a?a:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(e,t)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(t)} is not possible`)}})):this.auth=this._initSupabaseAuthClient(null!==(s=u.auth)&&void 0!==s?s:{},this.headers,u.global.fetch),this.fetch=Rs(t,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new ma(new URL("rest/v1",o).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),u.accessToken||this._listenForAuthEvents()}get functions(){return new Dr(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Es(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return Qi(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return null!==(t=null===(e=n.session)||void 0===e?void 0:e.access_token)&&void 0!==t?t:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,storageKey:a,flowType:s,lock:i,debug:l},o,c){const u={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Ji({url:this.authUrl.href,headers:Object.assign(Object.assign({},u),o),storageKey:a,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,flowType:s,lock:i,debug:l,fetch:c,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new rs(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},null==e?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",null==t?void 0:t.access_token)})}_handleTokenChanged(e,t,n){"TOKEN_REFRESHED"!==e&&"SIGNED_IN"!==e||this.changedAccessToken===n?"SIGNED_OUT"===e&&(this.realtime.setAuth(),"STORAGE"==t&&this.auth.signOut(),this.changedAccessToken=void 0):this.changedAccessToken=n}}const Xi=new Yi("https://ycwavingkihnepinrxlx.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inljd2F2aW5na2lobmVwaW5yeGx4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDg0MTMwOTUsImV4cCI6MjA2Mzk4OTA5NX0.FkUmAxmCOz9-jw_6VZkmmHmmMQTxjN2Gha3xxFjz120",Zi);var Zi;const el={async createEvent(e){const{data:{user:t}}=await Xi.auth.getUser();if(!t)throw new Error("Nicht angemeldet");const n={...e,user_id:t.id,created_at:(new Date).toISOString(),updated_at:(new Date).toISOString(),players:e.players||[],schedule:e.schedule||[],breaks:e.breaks||[],daily_schedule:e.daily_schedule||[],results:e.results||{}};Object.keys(n).forEach(e=>{void 0===n[e]&&delete n[e]});const{data:r,error:a}=await Xi.from("events").insert([n]).select().single();if(a)throw a;return r},async updateEvent(e,t){try{const n={...t,updated_at:(new Date).toISOString()};"schedule"in n&&null===n.schedule&&(n.schedule=[]),"players"in n&&null===n.players&&(n.players=[]),"results"in n&&null===n.results&&(n.results={});const{data:r,error:a}=await Xi.from("events").update(n).eq("id",e).select().single();if(a)throw a;return r}catch(n){throw n}},async deleteEvent(e){const{error:t}=await Xi.from("events").delete().eq("id",e);if(t)throw t},async getEvents(){const{data:{user:e}}=await Xi.auth.getUser();if(!e)throw new Error("Nicht angemeldet");const{data:t,error:n}=await Xi.from("events").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});if(n)throw n;return(t||[]).map(e=>({...e,schedule:Array.isArray(e.schedule)?e.schedule:[],players:Array.isArray(e.players)?e.players:[],breaks:Array.isArray(e.breaks)?e.breaks:[],daily_schedule:Array.isArray(e.daily_schedule)?e.daily_schedule:[],results:e.results||{}}))},async getEvent(e){try{const{data:t,error:n}=await Xi.from("events").select("*").eq("id",e).single();if(n)throw n;return t&&(t.schedule=Array.isArray(t.schedule)?t.schedule:[],t.players=Array.isArray(t.players)?t.players:[],t.breaks=Array.isArray(t.breaks)?t.breaks:[],t.daily_schedule=Array.isArray(t.daily_schedule)?t.daily_schedule:[],t.results=t.results||{}),t}catch(t){throw t}},async createPlayer(e){const{data:{user:t}}=await Xi.auth.getUser();if(!t)throw new Error("Nicht angemeldet");const n={...e,user_id:t.id,created_at:(new Date).toISOString(),sports:e.sports||{padel:!1,pickleball:!1,spinxball:!1},padelSkill:e.padelSkill||e.padel_skill||"B",pickleballSkill:e.pickleballSkill||e.pickleball_skill||3,spinxballSkill:e.spinxballSkill||e.spinxball_skill||3},{data:r,error:a}=await Xi.from("players").insert([n]).select().single();if(a)throw a;return r},async updatePlayer(e,t){const n={...t,padelSkill:t.padelSkill||t.padel_skill||"B",pickleballSkill:t.pickleballSkill||t.pickleball_skill||3,spinxballSkill:t.spinxballSkill||t.spinxball_skill||3},{data:r,error:a}=await Xi.from("players").update(n).eq("id",e).select().single();if(a)throw a;return r},async deletePlayer(e){const{error:t}=await Xi.from("players").delete().eq("id",e);if(t)throw t},async getPlayers(){const{data:{user:e}}=await Xi.auth.getUser();if(!e)throw new Error("Nicht angemeldet");const{data:t,error:n}=await Xi.from("players").select("*").eq("user_id",e.id).order("name");if(n)throw n;return(t||[]).map(e=>(e.sports||(e.sports={padel:!0,pickleball:!1,spinxball:!1}),e))},async saveTournamentResult(e,t){const{data:{user:n}}=await Xi.auth.getUser();if(!n)throw new Error("Nicht angemeldet");const r={event_id:e,results:t,user_id:n.id,created_at:(new Date).toISOString()},{data:a,error:s}=await Xi.from("tournament_results").insert([r]).select().single();if(s)throw s;return a},async getTournamentResults(e){const{data:t,error:n}=await Xi.from("tournament_results").select("*").eq("event_id",e).order("created_at",{ascending:!1});if(n)throw n;return t||[]},async batchUpdateEvents(e){const t=[];for(const r of e)try{const e=await el.updateEvent(r.id,r.data);t.push({success:!0,id:r.id,data:e})}catch(n){t.push({success:!1,id:r.id,error:n.message})}return t},async debugEventData(e){try{const{data:t,error:n}=await Xi.from("events").select("*").eq("id",e).single();if(n)throw n;return t}catch(t){throw t}}},tl=e=>e.replace(/_([a-z])/g,(e,t)=>t.toUpperCase()),nl=e=>e.replace(/[A-Z]/g,e=>`_${e.toLowerCase()}`),rl=e=>{if(!e)return null;const t={},n=new Set;for(const a in e)if(e.hasOwnProperty(a)){const r=tl(a);if(n.has(r))continue;if(n.add(r),"sports"===a&&null!==e[a]&&"object"==typeof e[a]){t[r]=e[a];continue}if("daily_schedule"===a){t[r]=Array.isArray(e[a])?e[a]:[];continue}if(("schedule"===a||"players"===a||"breaks"===a)&&null===e[a]){t[r]=[];continue}null!==e[a]&&"object"==typeof e[a]?Array.isArray(e[a])||e[a]instanceof Date?t[r]=e[a]:t[r]=rl(e[a]):t[r]=e[a]}return void 0!==t.eventType||void 0!==t.players?(r=t)?{...r,players:Array.isArray(r.players)?r.players:[],schedule:Array.isArray(r.schedule)?r.schedule:[],breaks:Array.isArray(r.breaks)?r.breaks:[],dailySchedule:Array.isArray(r.dailySchedule)?r.dailySchedule:[],results:r.results||{},startTime:r.startTime?r.startTime.split(":").slice(0,2).join(":"):"09:00",endTime:r.endTime?r.endTime.split(":").slice(0,2).join(":"):"13:00",courts:parseInt(r.courts)||2,maxPlayers:parseInt(r.maxPlayers)||16,roundDuration:parseInt(r.roundDuration)||15,currentRound:parseInt(r.currentRound)||0,fairnessScore:parseInt(r.fairnessScore)||0,regenerateCount:parseInt(r.regenerateCount)||0,timerState:r.timerState||"stopped",eventType:r.eventType||"americano",sport:r.sport||"padel",format:r.format||"doubles"}:null:t;var r},al=e=>{if(!e)return null;const t={};for(const n in e)if(e.hasOwnProperty(n)){if("id"===n&&e[n]&&"string"==typeof e[n]&&e[n].startsWith("temp_"))continue;const r=nl(n);if(("endDate"===n||"date"===n||"registrationDeadline"===n||"completedAt"===n||"createdAt"===n||"updatedAt"===n)&&""===e[n]){t[r]=null;continue}if("sports"===n&&null!==e[n]&&"object"==typeof e[n]){t[r]=e[n];continue}if("dailySchedule"===n&&Array.isArray(e[n])){t[r]=e[n];continue}if(void 0===e[n]){t[r]=null;continue}if("schedule"===n||"players"===n||"breaks"===n){Array.isArray(e[n])?t[r]=e[n]:t[r]=[];continue}null!==e[n]&&"object"==typeof e[n]?Array.isArray(e[n])||e[n]instanceof Date?t[r]=e[n]:t[r]=al(e[n]):t[r]=e[n]}return t},sl=({onSelectPlayers:e,isOpen:t,onClose:n,existingPlayers:r=[],event:a})=>{var s;const i=(null==(s=Wt())?void 0:s.t)||(e=>e);null==a||a.maxPlayers,r.length;const[l,u]=c.useState([]),[d,h]=c.useState([]),[p,m]=c.useState(!0),[f,g]=c.useState(""),[y,v]=c.useState(!1),[b,x]=c.useState(null),[w,k]=c.useState({name:"",gender:"male",sports:{padel:!1,pickleball:!1,spinxball:!1},padelSkill:"B",pickleballSkill:3,spinxballSkill:3,phone:"",email:"",birthday:"",city:"",country:"",nationality:"DE",club:"",duprId:""});c.useEffect(()=>{t&&S()},[t]);const S=async()=>{try{m(!0);const e=await el.getPlayers();u(e||[])}catch(e){alert(i("database.errorLoading"))}finally{m(!1)}},j=e=>r.some(t=>t.name.toLowerCase()===$t(e.name).toLowerCase()),N=(()=>{let e=[...l];return(null==a?void 0:a.sport)&&(e=e.filter(e=>{var t,n,r;switch(a.sport){case"padel":return!0===(null==(t=e.sports)?void 0:t.padel);case"pickleball":return!0===(null==(n=e.sports)?void 0:n.pickleball);case"spinxball":return!0===(null==(r=e.sports)?void 0:r.spinxball);default:return!0}})),(null==a?void 0:a.genderMode)&&"open"!==a.genderMode&&(e=e.filter(e=>{switch(a.genderMode){case"men":return"male"===e.gender;case"women":return"female"===e.gender;default:return!0}})),f&&(e=e.filter(e=>{var t,n,r,a,s;return(null==(t=$t(e.name))?void 0:t.toLowerCase().includes(f.toLowerCase()))||(null==(n=e.email)?void 0:n.toLowerCase().includes(f.toLowerCase()))||(null==(r=e.phone)?void 0:r.includes(f))||(null==(a=$t(e.city))?void 0:a.toLowerCase().includes(f.toLowerCase()))||(null==(s=$t(e.club))?void 0:s.toLowerCase().includes(f.toLowerCase()))})),e})(),E=N.filter(e=>!j(e)).length;return t?o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-5xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold",children:i("database.playerDatabase")}),((null==a?void 0:a.sport)||(null==a?void 0:a.genderMode))&&o.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[Bt(i("database.showOnlyFor"),{sport:i(`sports.${a.sport}`)}),(null==a?void 0:a.genderMode)&&"open"!==a.genderMode&&o.jsxs("span",{children:[" ","(","men"===a.genderMode?i("database.men"):i("database.women"),")"]})]})]}),o.jsx("button",{onClick:n,className:"text-gray-500 hover:text-gray-700",children:"âœ•"})]}),o.jsxs("div",{className:"flex gap-4 mb-4",children:[o.jsx("input",{type:"text",placeholder:i("database.search"),value:f,onChange:e=>g(e.target.value),className:"flex-1 px-4 py-2 border rounded-lg"}),o.jsxs("button",{onClick:()=>{x(null),k({name:"",gender:"women"===(null==a?void 0:a.genderMode)?"female":"male",sports:{padel:!1,pickleball:!1,spinxball:!1},padelSkill:"B",pickleballSkill:3,spinxballSkill:3,phone:"",email:"",birthday:"",city:"",country:"",nationality:"DE",club:"",duprId:""}),v(!0)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:["+ ",i("database.newPlayer")]}),o.jsxs("label",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 cursor-pointer",children:["ðŸ“Š ",i("database.excelImport"),o.jsx("input",{type:"file",accept:".xlsx,.xls",onChange:async e=>{const t=e.target.files[0];if(!t)return;const n=new FileReader;n.onload=async e=>{try{const{read:n,utils:r}=await Er(async()=>{const{read:e,utils:t}=await import("./xlsx-BXb6Ci_a.js");return{read:e,utils:t}},[]),a=n(e.target.result,{type:"binary"}),s=a.SheetNames[0],l=a.Sheets[s],o=r.sheet_to_json(l).map(e=>({name:e.Name||e.name||"",gender:(e.Geschlecht||e.gender||"male").toLowerCase(),sports:{padel:"x"===e.Padel||!0===e.Padel||!0===e.padel,pickleball:"x"===e.Pickleball||!0===e.Pickleball||!0===e.pickleball,spinxball:"x"===e.SpinXball||!0===e.SpinXball||!0===e.spinxball},padelSkill:e["Padel Level"]||e.padelSkill||"B",pickleballSkill:parseFloat(e["Pickleball Level"]||e.pickleballSkill)||3,spinxballSkill:parseFloat(e["SpinXball Level"]||e.spinxballSkill)||3,phone:e.Telefon||e.phone||"",email:e.Email||e.email||"",birthday:e.Geburtstag||e.birthday||"",city:e.Stadt||e.city||"",country:e.Land||e.country||"",nationality:e["NationalitÃ¤t"]||e.nationality||"",club:e.Verein||e.club||"",duprId:e["DUPR ID"]||e.duprId||""})).filter(e=>e.name&&(e.sports.padel||e.sports.pickleball||e.sports.spinxball));if(0===o.length)return void alert(i("database.noValidPlayers"));const c=await el.getPlayers(),u=new Set(c.map(e=>e.name.toLowerCase().trim()));let d=0,h=0,p=0;for(const e of o)try{if(u.has($t(e.name).toLowerCase().trim())){h++;continue}await el.createPlayer(e)?(d++,u.add($t(e.name).toLowerCase().trim())):p++}catch(t){p++}let m=`${i("database.importCompleted")}:\n`;m+=`âœ… ${d} ${i("database.newImported")}`,h>0&&(m+=`\nâ­ï¸ ${h} ${i("database.skipped")}`),p>0&&(m+=`\nâŒ ${p} ${i("database.errors")}`),alert(m),await S()}catch(t){alert(i("database.errorReadingExcel"))}},n.readAsBinaryString(t)},className:"hidden"})]}),o.jsxs("button",{onClick:()=>{const e=new Blob(["Name,Geschlecht,Padel,Pickleball,SpinXball,Padel Level,Pickleball Level,SpinXball Level,Telefon,Email,Geburtstag,Stadt,Land,NationalitÃ¤t,Verein,DUPR ID\nMax Mustermann,male,x,,x,B+,,3.5,+49 123 456789,max@example.com,1985-03-15,MÃ¼nchen,Deutschland,DE,TC Blau-WeiÃŸ,\nAnna Beispiel,female,x,x,,B,3.5,,+49 987 654321,anna@example.com,1990-07-22,Berlin,Deutschland,DE,Padel Club Berlin,\nCarlos Rodriguez,male,x,x,x,A-,4.0,4.5,+34 666 777888,carlos@example.com,1988-11-30,Madrid,Spanien,ES,Club Deportivo Madrid,12345-ABC\nMaria Schmidt,female,,x,,,3.0,,+49 555 123456,maria@example.com,1995-02-10,Hamburg,Deutschland,DE,Pickleball Hamburg,\nPeter MÃ¼ller,male,x,x,x,A,5.0,4.5,+49 333 444555,peter@example.com,1982-08-05,Frankfurt,Deutschland,DE,Sportclub Frankfurt,98765-XYZ"],{type:"text/csv;charset=utf-8;"}),t=URL.createObjectURL(e),n=document.createElement("a");n.href=t,n.download="spieler_import_vorlage.csv",n.click(),setTimeout(()=>{const e=new Blob(['PLAY2 TOURNAMENT - SPIELER IMPORT ANLEITUNG\n==========================================\n\nSPALTEN-ERKLÃ„RUNG:\n-----------------\nName: VollstÃ¤ndiger Name des Spielers (PFLICHT)\nGeschlecht: "male" oder "female" (PFLICHT)\nPadel/Pickleball/SpinXball: "x" wenn der Spieler diese Sportart spielt, sonst leer lassen\n\nWEITERE PFLICHTFELDER:\n---------------------\nGeburtstag: Format YYYY-MM-DD (z.B. 1990-05-15) (PFLICHT)\nStadt: Wohnort des Spielers (PFLICHT)\nLand: Land des Spielers (PFLICHT)\nNationalitÃ¤t: 2-Buchstaben Code (DE, ES, FR, IT, US, etc.) (PFLICHT)\nVerein: VereinszugehÃ¶rigkeit (PFLICHT)\n\nOPTIONALE FELDER:\n----------------\nDUPR ID: Dynamic Universal Pickleball Rating ID (nur fÃ¼r Pickleball-Spieler, optional)\nLEVEL-SYSTEME:\n-------------\nPADEL LEVEL:\n- C       = AnfÃ¤nger (1.0-3.0)\n- B-      = Fortgeschrittener AnfÃ¤nger (3.0-3.5)\n- B       = Unteres Mittelstufe (3.5-4.0)\n- B+      = Gutes Mittelstufe (4.0-4.5)\n- A-      = Oberes Mittelstufe (4.5-5.0)\n- A / A+  = Fortgeschritten/Profi (5.0-6.0)\n\nPICKLEBALL & SPINXBALL LEVEL:\n- 1.5     = AnfÃ¤nger (1.0-2.0)\n- 2.5     = Fortgeschrittener AnfÃ¤nger\n- 3.0     = Einsteiger mit Spielpraxis\n- 3.5     = Mittleres Niveau\n- 4.0     = Gutes Clubniveau\n- 4.5     = Erfahren\n- 5.0     = Semiprofessionell\n- 5.5     = Profi (5.5-6.0+)\n\nWICHTIGE HINWEISE:\n-----------------\n- PFLICHTFELDER: Name, Geschlecht, Geburtstag, Stadt, Land, NationalitÃ¤t, Verein\n- Mindestens eine Sportart muss mit "x" markiert sein\n- Level nur fÃ¼r markierte Sportarten angeben\n- Telefon und Email sind optional (aber empfohlen)\n- DUPR ID ist nur fÃ¼r Pickleball-Spieler relevant (optional)\n- Die erste Zeile (Ãœberschriften) nicht lÃ¶schen!\n- Datei als .xlsx oder .xls speichern fÃ¼r Import\n- Keine leeren Zeilen zwischen den EintrÃ¤gen'],{type:"text/plain;charset=utf-8;"}),t=URL.createObjectURL(e),n=document.createElement("a");n.href=t,n.download="spieler_import_anleitung.txt",n.click()},500)},className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700",children:["ðŸ“¥ ",i("database.templateAndInstructions")]}),o.jsxs("button",{onClick:async()=>{const e=new Map;l.forEach(t=>{const n=$t(t.name).toLowerCase().trim();e.has(n)||e.set(n,[]),e.get(n).push(t)});const t=Array.from(e.entries()).filter(([e,t])=>t.length>1);if(0===t.length)return void alert(`âœ… ${i("database.noDuplicatesFound")}`);let n=`${i("database.foundDuplicates")}:\n\n`;t.forEach(([e,t])=>{n+=`"${e}": ${t.length} ${i("player.players")}\n`});const r=t.reduce((e,[t,n])=>e+n.length-1,0);if(window.confirm(n+"\n"+Bt(i("database.totalDuplicates"),{count:r})+"\n\n"+i("database.confirmDeleteDuplicates")))try{m(!0);let e=0;for(const[n,r]of t){const t=r.sort((e,t)=>{const n=[e.email,e.phone,e.birthday,e.city,e.country,e.nationality,e.club,e.duprId].filter(e=>e&&""!==e).length,r=[t.email,t.phone,t.birthday,t.city,t.country,t.nationality,t.club,t.duprId].filter(e=>e&&""!==e).length;return r!==n?r-n:new Date(e.createdAt||0)-new Date(t.createdAt||0)});for(let n=1;n<t.length;n++)try{await el.deletePlayer(t[n].id),e++}catch(a){}}alert(Bt(i("database.duplicatesDeleted"),{count:e})),await S()}catch(a){alert(`âŒ ${i("database.errorCleaning")}`)}finally{m(!1)}},className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",disabled:p,children:["ðŸ§¹ ",i("database.cleanDuplicates")]})]}),y&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-[60]",children:o.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-4xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h3",{className:"text-xl font-semibold",children:i(b?"database.editPlayer":"database.addPlayer")}),o.jsx("button",{onClick:()=>{v(!1),x(null)},className:"text-gray-500 hover:text-gray-700 text-2xl",children:"âœ•"})]}),o.jsx("div",{className:"overflow-y-auto flex-1 pr-2",children:o.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),w.sports.padel||w.sports.pickleball||w.sports.spinxball)try{if(b){const e={...b,...w};await el.updatePlayer(b.id,e)}else{if(l.filter(e=>e.name.toLowerCase().trim()===w.name.toLowerCase().trim()).length>0){if(!window.confirm(Bt(i("database.duplicateExists"),{name:w.name})))return}await el.createPlayer(w)}await S(),v(!1),x(null),k({name:"",gender:"male",sports:{padel:!1,pickleball:!1,spinxball:!1},padelSkill:"B",pickleballSkill:3,spinxballSkill:3,phone:"",email:"",birthday:"",city:"",country:"",nationality:"DE",club:"",duprId:""})}catch(t){alert(i("database.errorSaving"))}else alert(i("database.atLeastOneSport"))},className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium mb-1",children:[i("player.name")," *"]}),o.jsx("input",{type:"text",value:w.name,onChange:e=>k({...w,name:e.target.value}),className:"w-full px-3 py-2 border rounded",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:i("player.gender")}),o.jsxs("select",{value:w.gender,onChange:e=>k({...w,gender:e.target.value}),className:"w-full px-3 py-2 border rounded",children:[("open"===(null==a?void 0:a.genderMode)||"men"===(null==a?void 0:a.genderMode)||!(null==a?void 0:a.genderMode))&&o.jsx("option",{value:"male",children:i("player.male")}),("open"===(null==a?void 0:a.genderMode)||"women"===(null==a?void 0:a.genderMode)||!(null==a?void 0:a.genderMode))&&o.jsx("option",{value:"female",children:i("player.female")})]}),"men"===(null==a?void 0:a.genderMode)&&"female"===w.gender&&o.jsx("p",{className:"text-xs text-orange-600 mt-1",children:Bt(i("messages.noteEvent"),{gender:i("player.male")})}),"women"===(null==a?void 0:a.genderMode)&&"male"===w.gender&&o.jsx("p",{className:"text-xs text-orange-600 mt-1",children:Bt(i("messages.noteEvent"),{gender:i("player.female")})})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsxs("label",{className:"block text-sm font-medium mb-2",children:[i("database.sports")," *"]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("label",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",checked:w.sports.padel,onChange:e=>k({...w,sports:{...w.sports,padel:e.target.checked}}),className:"mr-2"}),o.jsx("span",{children:i("sports.padel")})]}),o.jsxs("label",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",checked:w.sports.pickleball,onChange:e=>k({...w,sports:{...w.sports,pickleball:e.target.checked}}),className:"mr-2"}),o.jsx("span",{children:i("sports.pickleball")})]}),o.jsxs("label",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",checked:w.sports.spinxball,onChange:e=>k({...w,sports:{...w.sports,spinxball:e.target.checked}}),className:"mr-2"}),o.jsx("span",{children:i("sports.spinxball")})]})]}),!w.sports.padel&&!w.sports.pickleball&&!w.sports.spinxball&&o.jsx("p",{className:"text-red-500 text-xs mt-1",children:i("database.atLeastOneSport")})]}),w.sports.padel&&o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium mb-1",children:[i("sports.padel")," ",i("player.level")]}),o.jsxs("select",{value:w.padelSkill,onChange:e=>k({...w,padelSkill:e.target.value}),className:"w-full px-3 py-2 border rounded",children:[o.jsxs("option",{value:"C",children:["C / C+ (1.0-3.0) - ",i("playerManagement.beginner")]}),o.jsxs("option",{value:"B-",children:["B- (3.0-3.5) - ",i("playerManagement.advancedBeginner")]}),o.jsxs("option",{value:"B",children:["B (3.5-4.0) - ",i("playerManagement.lowerIntermediate")]}),o.jsxs("option",{value:"B+",children:["B+ (4.0-4.5) - ",i("playerManagement.goodIntermediate")]}),o.jsxs("option",{value:"A-",children:["A- (4.5-5.0) - ",i("playerManagement.upperIntermediate")]}),o.jsxs("option",{value:"A",children:["A / A+ (5.0-6.0) - ",i("playerManagement.advancedPro")]})]})]}),w.sports.pickleball&&o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium mb-1",children:[i("sports.pickleball")," ",i("player.level")]}),o.jsxs("select",{value:w.pickleballSkill,onChange:e=>k({...w,pickleballSkill:parseFloat(e.target.value)}),className:"w-full px-3 py-2 border rounded",children:[o.jsxs("option",{value:"1.5",children:["1.0-2.0 - ",i("playerManagement.beginner")]}),o.jsxs("option",{value:"2.5",children:["2.5 - ",i("playerManagement.advancedBeginner")]}),o.jsxs("option",{value:"3.0",children:["3.0 - ",i("playerManagement.lowerIntermediate")]}),o.jsxs("option",{value:"3.5",children:["3.5 - ",i("playerManagement.goodIntermediate")]}),o.jsxs("option",{value:"4.0",children:["4.0 - ",i("playerManagement.upperIntermediate")]}),o.jsxs("option",{value:"4.5",children:["4.5 - ",i("playerManagement.advancedPro")]}),o.jsxs("option",{value:"5.0",children:["5.0 - ",i("playerManagement.expert")]}),o.jsxs("option",{value:"5.5",children:["5.5-6.0+ - ",i("playerManagement.advancedPro")]})]})]}),w.sports.spinxball&&o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium mb-1",children:[i("sports.spinxball")," ",i("player.level")]}),o.jsxs("select",{value:w.spinxballSkill,onChange:e=>k({...w,spinxballSkill:parseFloat(e.target.value)}),className:"w-full px-3 py-2 border rounded",children:[o.jsxs("option",{value:"1.5",children:["1.0-2.0 - ",i("playerManagement.beginner")]}),o.jsxs("option",{value:"2.5",children:["2.5 - ",i("playerManagement.advancedBeginner")]}),o.jsxs("option",{value:"3.0",children:["3.0 - ",i("playerManagement.lowerIntermediate")]}),o.jsxs("option",{value:"3.5",children:["3.5 - ",i("playerManagement.goodIntermediate")]}),o.jsxs("option",{value:"4.0",children:["4.0 - ",i("playerManagement.upperIntermediate")]}),o.jsxs("option",{value:"4.5",children:["4.5 - ",i("playerManagement.advancedPro")]}),o.jsxs("option",{value:"5.0",children:["5.0 - ",i("playerManagement.expert")]}),o.jsxs("option",{value:"5.5",children:["5.5-6.0+ - ",i("playerManagement.advancedPro")]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:i("player.phone")}),o.jsx("input",{type:"tel",value:w.phone,onChange:e=>k({...w,phone:e.target.value}),className:"w-full px-3 py-2 border rounded"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:i("player.email")}),o.jsx("input",{type:"email",value:w.email,onChange:e=>k({...w,email:e.target.value}),className:"w-full px-3 py-2 border rounded"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium mb-1",children:[i("database.birthday")," *"]}),o.jsx("input",{type:"date",value:w.birthday,onChange:e=>k({...w,birthday:e.target.value}),className:"w-full px-3 py-2 border rounded",required:!0})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium mb-1",children:[i("database.city")," *"]}),o.jsx("input",{type:"text",value:w.city,onChange:e=>k({...w,city:e.target.value}),className:"w-full px-3 py-2 border rounded",placeholder:"z.B. MÃ¼nchen",required:!0})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium mb-1",children:[i("database.country")," *"]}),o.jsx("input",{type:"text",value:w.country,onChange:e=>k({...w,country:e.target.value}),className:"w-full px-3 py-2 border rounded",placeholder:"z.B. Deutschland",required:!0})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium mb-1",children:[i("database.nationality")," *"]}),o.jsxs("select",{value:w.nationality,onChange:e=>k({...w,nationality:e.target.value}),className:"w-full px-3 py-2 border rounded",required:!0,children:[o.jsx("option",{value:"DE",children:"ðŸ‡©ðŸ‡ª Deutschland"}),o.jsx("option",{value:"ES",children:"ðŸ‡ªðŸ‡¸ EspaÃ±a"}),o.jsx("option",{value:"FR",children:"ðŸ‡«ðŸ‡· France"}),o.jsx("option",{value:"IT",children:"ðŸ‡®ðŸ‡¹ Italia"}),o.jsx("option",{value:"US",children:"ðŸ‡ºðŸ‡¸ USA"}),o.jsx("option",{value:"GB",children:"ðŸ‡¬ðŸ‡§ Great Britain"}),o.jsx("option",{value:"AT",children:"ðŸ‡¦ðŸ‡¹ Ã–sterreich"}),o.jsx("option",{value:"CH",children:"ðŸ‡¨ðŸ‡­ Schweiz"}),o.jsx("option",{value:"NL",children:"ðŸ‡³ðŸ‡± Nederland"}),o.jsx("option",{value:"BE",children:"ðŸ‡§ðŸ‡ª BelgiÃ«"}),o.jsx("option",{value:"PT",children:"ðŸ‡µðŸ‡¹ Portugal"}),o.jsx("option",{value:"SE",children:"ðŸ‡¸ðŸ‡ª Sverige"}),o.jsx("option",{value:"DK",children:"ðŸ‡©ðŸ‡° Danmark"}),o.jsx("option",{value:"NO",children:"ðŸ‡³ðŸ‡´ Norge"}),o.jsx("option",{value:"PL",children:"ðŸ‡µðŸ‡± Polska"})]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium mb-1",children:[i("database.clubAssociation")," *"]}),o.jsx("input",{type:"text",value:w.club,onChange:e=>k({...w,club:e.target.value}),className:"w-full px-3 py-2 border rounded",placeholder:"z.B. TC Blau-WeiÃŸ MÃ¼nchen",required:!0})]}),w.sports.pickleball&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:i("database.duprIdOptional")}),o.jsx("input",{type:"text",value:w.duprId,onChange:e=>k({...w,duprId:e.target.value}),className:"w-full px-3 py-2 border rounded",placeholder:`z.B. 12345-ABC (${i("database.optional")})`}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:i("database.duprDescription")})]}),o.jsxs("div",{className:"md:col-span-2 flex gap-2 mt-4 pt-4 border-t",children:[o.jsx("button",{type:"submit",className:"px-6 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:i(b?"database.saveChanges":"database.addPlayer")}),o.jsx("button",{type:"button",onClick:()=>{v(!1),x(null)},className:"px-6 py-2 bg-gray-300 rounded hover:bg-gray-400",children:i("navigation.cancel")})]})]})})]})}),o.jsx("div",{className:"flex-1 overflow-y-auto",children:p?o.jsxs("div",{className:"text-center py-8",children:[o.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),o.jsx("p",{className:"mt-2",children:i("database.loadingPlayers")})]}):0===N.length?o.jsx("div",{className:"text-center py-8 text-gray-500",children:f?i("database.noPlayersFound"):(null==a?void 0:a.sport)||(null==a?void 0:a.genderMode)?i("database.noMatchingPlayers"):i("player.noPlayers")}):o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("p",{className:"text-sm text-gray-600",children:Bt(i("database.playersFound"),{count:N.length,available:E})}),o.jsx("button",{onClick:()=>{const e=N.filter(e=>!j(e));d.length===e.length?h([]):h(e.map(e=>e.id))},className:"text-sm text-blue-600 hover:underline",disabled:0===E,children:d.length===E&&E>0?`${i("database.allAvailable")} ${i("database.deselectAll")}`:`${i("database.allAvailable")} ${i("database.selectAll")}`})]}),o.jsx("div",{className:"space-y-2",children:N.map(e=>{var t,n,r,a;const s=j(e),c=(e=>{if(!e)return null;const t=new Date(e),n=new Date;let r=n.getFullYear()-t.getFullYear();const a=n.getMonth()-t.getMonth();return(a<0||0===a&&n.getDate()<t.getDate())&&r--,r})(e.birthday);return o.jsx("div",{className:"p-3 rounded-lg border transition-colors "+(s?"bg-gray-100 border-gray-300 opacity-60":d.includes(e.id)?"bg-blue-50 border-blue-300 cursor-pointer":"bg-white hover:bg-gray-50 cursor-pointer"),children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3 flex-1",onClick:()=>!s&&(e=>{const t=l.find(t=>t.id===e);j(t)?alert(Bt(i("player.alreadyRegistered"),{name:$t(t.name)})):h(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])})(e.id),children:[o.jsx("input",{type:"checkbox",checked:d.includes(e.id),onChange:()=>{},disabled:s,className:"h-4 w-4 text-blue-600"}),o.jsxs("div",{children:[o.jsxs("p",{className:"font-semibold "+(s?"line-through text-gray-500":""),children:[$t(e.name),e.nationality&&o.jsx("span",{className:"ml-2",children:(u=e.nationality,{DE:"ðŸ‡©ðŸ‡ª",ES:"ðŸ‡ªðŸ‡¸",FR:"ðŸ‡«ðŸ‡·",IT:"ðŸ‡®ðŸ‡¹",US:"ðŸ‡ºðŸ‡¸",GB:"ðŸ‡¬ðŸ‡§",AT:"ðŸ‡¦ðŸ‡¹",CH:"ðŸ‡¨ðŸ‡­",NL:"ðŸ‡³ðŸ‡±",BE:"ðŸ‡§ðŸ‡ª",PT:"ðŸ‡µðŸ‡¹",SE:"ðŸ‡¸ðŸ‡ª",DK:"ðŸ‡©ðŸ‡°",NO:"ðŸ‡³ðŸ‡´",PL:"ðŸ‡µðŸ‡±"}[u]||"ðŸ³ï¸")}),s&&o.jsxs("span",{className:"ml-2 text-xs text-gray-500 font-normal",children:["(",i("database.alreadyRegistered"),")"]})]}),o.jsxs("div",{className:"text-sm text-gray-600 flex gap-4",children:[o.jsx("span",{children:"female"===e.gender?"â™€ï¸":"â™‚ï¸"}),(null==(t=e.sports)?void 0:t.padel)&&o.jsxs("span",{children:[i("sports.padel"),": ",e.padelSkill]}),(null==(n=e.sports)?void 0:n.pickleball)&&o.jsxs("span",{children:[i("sports.pickleball"),": ",e.pickleballSkill]}),(null==(r=e.sports)?void 0:r.spinxball)&&o.jsxs("span",{children:[i("sports.spinxball"),": ",e.spinxballSkill]})]}),o.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[$t(e.club)&&o.jsxs("span",{className:"mr-3",children:["ðŸ›ï¸ ",$t(e.club)]}),$t(e.city)&&o.jsxs("span",{className:"mr-3",children:["ðŸ“ ",$t(e.city)]}),c&&o.jsxs("span",{className:"mr-3",children:["ðŸŽ‚ ",c," ",i("database.age")]}),e.duprId&&(null==(a=e.sports)?void 0:a.pickleball)&&o.jsxs("span",{className:"mr-3",children:["DUPR: ",e.duprId]})]}),(e.email||e.phone)&&o.jsxs("div",{className:"text-xs text-gray-500",children:[e.email&&o.jsx("span",{className:"mr-3",children:e.email}),e.phone&&o.jsx("span",{children:e.phone})]})]})]}),o.jsxs("div",{className:"flex gap-2",onClick:e=>e.stopPropagation(),children:[o.jsx("button",{onClick:()=>(e=>{x(e),k({name:$t(e.name)||"",gender:e.gender||"male",sports:e.sports||{padel:!1,pickleball:!1,spinxball:!1},padelSkill:e.padelSkill||"B",pickleballSkill:e.pickleballSkill||3,spinxballSkill:e.spinxballSkill||3,phone:e.phone||"",email:e.email||"",birthday:e.birthday||"",city:$t(e.city)||"",country:e.country||"",nationality:e.nationality||"DE",club:$t(e.club)||"",duprId:e.duprId||""}),v(!0)})(e),className:"px-3 py-1 text-sm bg-yellow-500 text-white rounded hover:bg-yellow-600",children:i("database.edit")}),o.jsx("button",{onClick:()=>(async e=>{if(window.confirm(i("database.confirmDeletePlayer")))try{await el.deletePlayer(e),await S()}catch(t){alert(i("navigation.delete"))}})(e.id),className:"px-3 py-1 text-sm bg-red-500 text-white rounded hover:bg-red-600",children:i("database.delete")})]})]})},e.id);var u})})]})}),o.jsxs("div",{className:"mt-4 pt-4 border-t flex justify-between items-center",children:[o.jsx("p",{className:"text-sm text-gray-600",children:Bt(i("database.playersSelected"),{count:d.length})}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:n,className:"px-4 py-2 bg-gray-300 rounded-lg hover:bg-gray-400",children:i("navigation.cancel")}),o.jsx("button",{onClick:()=>{const t=l.filter(e=>d.includes(e.id));e(t),n(),h([])},disabled:0===d.length,className:"px-4 py-2 rounded-lg "+(d.length>0?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-300 text-gray-500 cursor-not-allowed"),children:Bt(i("database.importPlayers"),{count:d.length})})]})]})]})}):null},il=()=>{const{t:e,interpolate:t}=Wt(),{eventId:n}=function(){let{matches:e}=c.useContext(le),t=e[e.length-1];return t?t.params:{}}(),r=pe(),[a,s]=c.useState(null),[i,l]=c.useState(!0),[u,d]=c.useState(!1),[h,p]=c.useState(!1),[m,f]=c.useState(""),[g,y]=c.useState({name:"",email:"",phone:"",gender:"male",skillLevel:"B",agreeToTerms:!1});c.useEffect(()=>{v()},[n]);const v=async()=>{try{l(!0);const t=JSON.parse(localStorage.getItem("events")||"[]").find(e=>e.id===n);if(!t)return void f(e("eventRegistration.eventNotFound"));s(t),"women"===t.genderMode?y(e=>({...e,gender:"female"})):"men"===t.genderMode&&y(e=>({...e,gender:"male"})),"padel"!==t.sport&&y(e=>({...e,skillLevel:3}))}catch(t){f(e("eventRegistration.eventNotFound"))}finally{l(!1)}};if(i)return o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),o.jsx("p",{className:"mt-4 text-gray-600",children:e("eventRegistration.loading")})]})});if(m||!a)return o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-xl text-red-600 mb-4",children:m||e("eventRegistration.eventNotFound")}),o.jsx("button",{onClick:()=>r("/"),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:e("eventRegistration.backToHome")})]})});const b=a.maxPlayers-a.players.length,x=b<=0,w=new Date(a.date),k=w<new Date;return o.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:o.jsxs("div",{className:"max-w-2xl mx-auto px-4",children:[o.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[o.jsx("h1",{className:"text-3xl font-bold mb-2",children:a.title}),o.jsx("p",{className:"text-gray-600 mb-4",children:a.description}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ot,{className:"w-4 h-4 text-gray-500"}),o.jsx("span",{children:w.toLocaleDateString("de-DE",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(gt,{className:"w-4 h-4 text-gray-500"}),o.jsxs("span",{children:[a.startTime," - ",a.endTime," ",e("event.time")]})]}),a.location&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(St,{className:"w-4 h-4 text-gray-500"}),o.jsx("span",{children:a.location})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Lt,{className:"w-4 h-4 text-gray-500"}),o.jsx("span",{children:e(`sports.${a.sport}`)})]})]}),o.jsxs("div",{className:"mt-6 p-4 bg-gray-100 rounded-lg",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Ot,{className:"w-5 h-5 text-gray-600"}),o.jsxs("span",{className:"font-medium",children:[e("eventRegistration.participants"),":"]})]}),o.jsxs("span",{className:"font-bold "+(x?"text-red-600":"text-green-600"),children:[a.players.length," / ",a.maxPlayers]})]}),!x&&o.jsx("p",{className:"text-sm text-gray-600 mt-2",children:t(e("eventRegistration.spotsAvailable"),{count:b,singular:e(1===b?"eventRegistration.spot":"eventRegistration.spots")})}),"open"!==a.genderMode&&o.jsx("p",{className:"text-sm text-blue-600 mt-2",children:"men"===a.genderMode?`ðŸ‘¨ ${e("eventRegistration.onlyForMen")}`:`ðŸ‘© ${e("eventRegistration.onlyForWomen")}`})]})]}),h&&o.jsxs("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded-lg mb-6",children:[o.jsx("p",{className:"font-bold",children:e("eventRegistration.successfullyRegistered")}),o.jsx("p",{className:"text-sm",children:e("eventRegistration.confirmationEmail")})]}),x||k?x?o.jsxs("div",{className:"bg-orange-100 border border-orange-400 text-orange-700 px-4 py-3 rounded-lg",children:[o.jsxs("p",{className:"font-bold",children:[e("eventRegistration.eventCompleted"),"!"]}),o.jsx("p",{className:"text-sm mt-1",children:e("eventRegistration.eventFull")})]}):o.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-lg",children:[o.jsx("p",{className:"font-bold",children:e("eventRegistration.eventCompleted")}),o.jsx("p",{className:"text-sm mt-1",children:e("eventRegistration.eventAlreadyPassed")})]}):o.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[o.jsx("h2",{className:"text-2xl font-bold mb-6",children:e("eventRegistration.registerNow")}),o.jsxs("form",{onSubmit:async r=>{if(r.preventDefault(),!g.agreeToTerms)return void alert(e("eventRegistration.acceptTerms"));if("open"!==a.genderMode&&("men"===a.genderMode&&"male"!==g.gender||"women"===a.genderMode&&"female"!==g.gender))return void alert(t(e("eventRegistration.eventOnlyFor"),{gender:"men"===a.genderMode?e("database.men").toLowerCase():e("database.women").toLowerCase()}));if(a.players.length>=a.maxPlayers)return void alert(e("eventRegistration.eventFull"));if(a.players.some(e=>e.email===g.email||e.phone===g.phone))alert(e("eventRegistration.alreadyRegisteredError"));else try{d(!0);const e={id:`player_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,name:g.name.trim(),email:g.email.trim().toLowerCase(),phone:g.phone.trim(),gender:g.gender,skillLevel:g.skillLevel,registeredAt:(new Date).toISOString(),skillLevels:{padel:"padel"===a.sport?g.skillLevel:"B",pickleball:"pickleball"===a.sport?g.skillLevel:3,spinxball:"spinxball"===a.sport?g.skillLevel:3}},t={...a,players:[...a.players,e]},r=JSON.parse(localStorage.getItem("events")||"[]"),i=r.findIndex(e=>e.id===n);r[i]=t,localStorage.setItem("events",JSON.stringify(r)),s(t),p(!0),y({name:"",email:"",phone:"",gender:"women"===a.genderMode?"female":"male",skillLevel:"padel"===a.sport?"B":3,agreeToTerms:!1}),setTimeout(()=>{p(!1)},5e3)}catch(i){alert(e("eventRegistration.registrationError"))}finally{d(!1)}},className:"space-y-4",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium mb-1",children:[e("player.name")," *"]}),o.jsx("input",{type:"text",value:g.name,onChange:e=>y({...g,name:e.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,placeholder:"Max Mustermann"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium mb-1",children:[e("player.email")," *"]}),o.jsx("input",{type:"email",value:g.email,onChange:e=>y({...g,email:e.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,placeholder:"max@example.com"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium mb-1",children:[e("player.phone")," *"]}),o.jsx("input",{type:"tel",value:g.phone,onChange:e=>y({...g,phone:e.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,placeholder:"+49 123 456789"}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:e("eventRegistration.forShortNotice")})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium mb-1",children:[e("player.gender")," *"]}),o.jsxs("select",{value:g.gender,onChange:e=>y({...g,gender:e.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[("open"===a.genderMode||"men"===a.genderMode)&&o.jsx("option",{value:"male",children:e("player.male")}),("open"===a.genderMode||"women"===a.genderMode)&&o.jsx("option",{value:"female",children:e("player.female")})]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium mb-1",children:[e(`sports.${a.sport}`)," ",e("player.level")," *"]}),"padel"===a.sport?o.jsxs("select",{value:g.skillLevel,onChange:e=>y({...g,skillLevel:e.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[o.jsxs("option",{value:"C",children:["C (",e("playerManagement.beginner"),")"]}),o.jsxs("option",{value:"B-",children:["B- (",e("playerManagement.advancedBeginner"),")"]}),o.jsxs("option",{value:"B",children:["B (",e("playerManagement.lowerIntermediate"),")"]}),o.jsxs("option",{value:"B+",children:["B+ (",e("playerManagement.goodIntermediate"),")"]}),o.jsxs("option",{value:"A-",children:["A- (",e("playerManagement.upperIntermediate"),")"]}),o.jsxs("option",{value:"A",children:["A (",e("playerManagement.advancedPro"),")"]})]}):o.jsxs("select",{value:g.skillLevel,onChange:e=>y({...g,skillLevel:parseFloat(e.target.value)}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[o.jsxs("option",{value:"1",children:["1.0 - ",e("playerManagement.beginner")]}),o.jsxs("option",{value:"2",children:["2.0 - ",e("playerManagement.advanced")]}),o.jsxs("option",{value:"3",children:["3.0 - ",e("playerManagement.good")]}),o.jsxs("option",{value:"4",children:["4.0 - ",e("playerManagement.veryGood")]}),o.jsxs("option",{value:"5",children:["5.0 - ",e("playerManagement.expert")]})]}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:e("eventRegistration.forBalancedPairings")})]}),o.jsx("div",{className:"bg-blue-50 p-4 rounded-lg",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(kt,{className:"w-5 h-5 text-blue-600 mt-0.5"}),o.jsxs("div",{className:"text-sm text-blue-800",children:[o.jsxs("p",{className:"font-semibold mb-1",children:[e("eventRegistration.importantInfo"),":"]}),o.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[o.jsx("li",{children:t(e("eventRegistration.entryFee"),{fee:a.price||"10"})}),o.jsx("li",{children:e("eventRegistration.paymentOnSite")}),o.jsx("li",{children:e("eventRegistration.cancelAdvance")}),o.jsx("li",{children:e("eventRegistration.pairingsByLevel")})]})]})]})}),o.jsx("div",{children:o.jsxs("label",{className:"flex items-start gap-2",children:[o.jsx("input",{type:"checkbox",checked:g.agreeToTerms,onChange:e=>y({...g,agreeToTerms:e.target.checked}),className:"mt-1",required:!0}),o.jsxs("span",{className:"text-sm",children:[e("eventRegistration.acceptDataUsage")," *"]})]})}),o.jsx("button",{type:"submit",disabled:u,className:"w-full py-3 rounded-lg font-medium transition-colors "+(u?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"),children:e(u?"eventRegistration.registering":"eventRegistration.bindingRegistration")})]})]}),a.players.length>0&&o.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mt-6",children:[o.jsxs("h3",{className:"text-lg font-semibold mb-4",children:[e("eventRegistration.registeredParticipants")," (",a.players.length,")"]}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:a.players.map((e,t)=>{var n;return o.jsxs("div",{className:"text-sm text-gray-600",children:[e.name.split(" ")[0]," ",null==(n=e.name.split(" ")[1])?void 0:n[0],".","female"===e.gender?" â™€ï¸":" â™‚ï¸"]},e.id||t)})})]})]})})},ll=({isRunning:e,onTick:t,duration:n,currentTime:r})=>{const a=c.useRef(null);c.useEffect(()=>(e?a.current=setInterval(()=>{t()},1e3):a.current&&clearInterval(a.current),()=>{a.current&&clearInterval(a.current)}),[e,t]);const s=Math.floor(r/60),i=r%60,l=n>0?(60*n-r)/(60*n)*100:100;return o.jsxs("div",{className:"w-full",children:[o.jsxs("div",{className:"text-3xl font-bold text-center mb-2",children:[s.toString().padStart(2,"0"),":",i.toString().padStart(2,"0")]}),o.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:o.jsx("div",{className:"bg-blue-600 h-3 rounded-full transition-all duration-1000",style:{width:`${l}%`}})})]})},ol=({event:e,onComplete:t,onCancel:n})=>{var r,a;const s=(null==(r=Wt())?void 0:r.t)||(e=>e),[i,l]=c.useState(e.currentRound||0),[u,d]=c.useState(e.timerState||"stopped"),[h,p]=c.useState(0),[m,f]=c.useState(e.results||{}),[g,y]=c.useState(!1),[v,b]=c.useState({}),x=c.useRef(Date.now()),w=c.useCallback(()=>{p(e=>e+1)},[]),k=e=>{switch(e){case"start":d("running");break;case"pause":d("paused");break;case"reset":d("stopped"),p(0)}},S=(e,t,n)=>{b(r=>({...r,[`${i}-${e}`]:{...r[`${i}-${e}`],[`team${t}Score`]:parseInt(n)||0}}))};c.useEffect(()=>{const e=Date.now();e-x.current>5e3&&(x.current=e)},[i,u,h,m]);const j=e.schedule[i],N=(()=>{const t={};return e.players.forEach(e=>{t[e.id]={...e,points:0,gamesWon:0,gamesPlayed:0}}),Object.entries(m).forEach(([e,n])=>{if(!n.result)return;const{team1:r,team2:a,result:s}=n;null==r||r.forEach(e=>{e&&e.id&&t[e.id]&&(t[e.id].gamesPlayed++,t[e.id].gamesWon+=s.team1Score,t[e.id].points+=s.team1Points)}),null==a||a.forEach(e=>{e&&e.id&&t[e.id]&&(t[e.id].gamesPlayed++,t[e.id].gamesWon+=s.team2Score,t[e.id].points+=s.team2Points)})}),Object.values(t).sort((e,t)=>t.points!==e.points?t.points-e.points:t.gamesWon-e.gamesWon)})();return o.jsx("div",{className:"fixed inset-0 bg-white z-50 overflow-y-auto",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-6",children:[o.jsxs("div",{className:"mb-6",children:[o.jsxs("button",{type:"button",onClick:e=>{e.preventDefault(),e.stopPropagation(),n&&n()},className:"mb-4 text-blue-600 hover:text-blue-800 flex items-center gap-2",children:["â† ",s("app.backToEventOverview")]}),o.jsx("h1",{className:"text-3xl font-bold mb-2",children:e.name}),o.jsx("p",{className:"text-gray-600",children:s("messages.tournamentManagement")})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"lg:col-span-1",children:[o.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[o.jsx("h3",{className:"text-xl font-semibold mb-4",children:s("timer.roundTimer")}),o.jsx(ll,{isRunning:"running"===u,onTick:w,duration:e.roundDuration||15,currentTime:h}),o.jsxs("div",{className:"mt-4 flex gap-2",children:["stopped"===u&&o.jsxs("button",{onClick:()=>k("start"),className:"flex-1 bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700 flex items-center justify-center gap-2",children:[o.jsx(Et,{className:"w-4 h-4"}),s("timer.start")]}),"running"===u&&o.jsxs("button",{onClick:()=>k("pause"),className:"flex-1 bg-yellow-600 text-white px-4 py-2 rounded hover:bg-yellow-700 flex items-center justify-center gap-2",children:[o.jsx(Nt,{className:"w-4 h-4"}),s("timer.pause")]}),"paused"===u&&o.jsxs("button",{onClick:()=>k("start"),className:"flex-1 bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700 flex items-center justify-center gap-2",children:[o.jsx(Et,{className:"w-4 h-4"}),s("timer.continue")]}),o.jsx("button",{onClick:()=>k("reset"),className:"bg-gray-600 text-white px-4 py-2 rounded hover:bg-gray-700",children:o.jsx(_t,{className:"w-4 h-4"})})]})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[o.jsx("h3",{className:"text-xl font-semibold mb-4",children:s("tournament.roundNavigation")}),o.jsx("div",{className:"text-center mb-4",children:o.jsxs("p",{className:"text-3xl font-bold",children:[s("schedule.round")," ",i+1," / ",e.schedule.length]})}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("button",{onClick:()=>{i>0&&(l(i-1),d("stopped"),p(0))},disabled:0===i,className:"flex-1 px-4 py-2 rounded "+(0===i?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"),children:["â† ",s("tournament.previous")]}),o.jsxs("button",{onClick:()=>{i<e.schedule.length-1&&(l(i+1),d("stopped"),p(0))},disabled:i===e.schedule.length-1,className:"flex-1 px-4 py-2 rounded "+(i===e.schedule.length-1?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"),children:[s("tournament.next")," â†’"]})]}),e.schedule.every((e,t)=>e.matches.every((e,n)=>{var r;return null==(r=m[`${t}-${n}`])?void 0:r.result}))&&o.jsxs("button",{onClick:()=>{t(m)},className:"w-full mt-4 bg-green-600 text-white px-4 py-3 rounded hover:bg-green-700 flex items-center justify-center gap-2 font-semibold",children:[o.jsx(ut,{className:"w-5 h-5"}),s("buttons.completeTournament")]})]})]}),o.jsxs("div",{className:"lg:col-span-2",children:[o.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[o.jsx("h3",{className:"text-xl font-semibold mb-4",children:s("messages.currentGames")}),j&&o.jsxs("div",{className:"space-y-4",children:[j.matches.map((t,n)=>{var r,a;const l=`${i}-${n}`,c=m[l],u=v[l]||{};return o.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50",children:[o.jsxs("div",{className:"flex justify-between items-center mb-3",children:[o.jsxs("span",{className:"font-semibold",children:[s("schedule.court")," ",t.court]}),(null==c?void 0:c.result)&&o.jsxs("span",{className:"text-green-600 font-semibold",children:["âœ“ ",s("results.resultEntered")]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 items-center",children:[o.jsx("div",{className:"text-center md:text-right",children:o.jsx("p",{className:"font-medium text-lg",children:null==(r=t.team1)?void 0:r.map(e=>e.name).join(" & ")})}),o.jsx("div",{className:"text-center",children:(null==c?void 0:c.result)?o.jsxs("div",{className:"text-2xl font-bold",children:[c.result.team1Score," - ",c.result.team2Score]}):o.jsxs("div",{className:"flex items-center justify-center gap-2",children:[o.jsx("input",{type:"number",min:"0",max:"99",value:u.team1Score||"",onChange:e=>S(n,1,e.target.value),className:"w-16 text-center border rounded px-2 py-1",placeholder:"0"}),o.jsx("span",{className:"text-xl",children:"-"}),o.jsx("input",{type:"number",min:"0",max:"99",value:u.team2Score||"",onChange:e=>S(n,2,e.target.value),className:"w-16 text-center border rounded px-2 py-1",placeholder:"0"}),o.jsx("button",{onClick:()=>(t=>{const n=`${i}-${t}`,r=v[n],a=e.schedule[i].matches[t];if(!r||void 0===r.team1Score||void 0===r.team2Score)return void alert(s("messages.enterBothScores"));const l=r.team1Score>r.team2Score?2:r.team1Score<r.team2Score?0:1,o=r.team1Score<r.team2Score?2:r.team1Score>r.team2Score?0:1,c={...a,result:{team1Score:r.team1Score,team2Score:r.team2Score,team1Points:l,team2Points:o}};f(e=>({...e,[n]:c})),b(e=>{const t={...e};return delete t[n],t})})(n),className:"ml-2 bg-green-600 text-white px-3 py-1 rounded hover:bg-green-700",children:"âœ“"})]})}),o.jsx("div",{className:"text-center md:text-left",children:o.jsx("p",{className:"font-medium text-lg",children:null==(a=t.team2)?void 0:a.map(e=>e.name).join(" & ")})})]})]},n)}),(null==(a=j.waitingPlayers)?void 0:a.length)>0&&o.jsxs("div",{className:"mt-4 p-4 bg-yellow-50 rounded-lg",children:[o.jsxs("p",{className:"font-semibold text-yellow-800 mb-2",children:[s("player.waitingPlayers"),":"]}),o.jsx("p",{className:"text-yellow-700",children:j.waitingPlayers.map(e=>e.name).join(", ")})]})]})]}),o.jsxs("div",{className:"mt-6 bg-white rounded-lg shadow-md p-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h3",{className:"text-xl font-semibold",children:s("results.liveStandings")}),o.jsx("button",{onClick:()=>y(!g),className:"text-blue-600 hover:text-blue-800",children:s(g?"results.hide":"results.allResults")})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"border-b",children:[o.jsx("th",{className:"text-left py-2",children:s("results.rank")}),o.jsx("th",{className:"text-left py-2",children:s("results.player")}),o.jsx("th",{className:"text-center py-2",children:s("results.points")}),o.jsx("th",{className:"text-center py-2",children:s("results.gamesWon")}),o.jsx("th",{className:"text-center py-2",children:s("results.gamesPlayed")})]})}),o.jsx("tbody",{children:N.map((e,t)=>o.jsxs("tr",{className:"border-b",children:[o.jsx("td",{className:"py-2",children:t+1}),o.jsx("td",{className:"py-2 font-medium",children:e.name}),o.jsx("td",{className:"text-center py-2 font-bold",children:e.points}),o.jsx("td",{className:"text-center py-2",children:e.gamesWon}),o.jsx("td",{className:"text-center py-2",children:e.gamesPlayed})]},e.id))})]})})]})]})]}),g&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h2",{className:"text-2xl font-bold",children:s("results.allResults")}),o.jsx("button",{onClick:()=>y(!1),className:"text-gray-500 hover:text-gray-700 text-2xl",children:"âœ•"})]}),e.schedule.map((e,t)=>o.jsxs("div",{className:"mb-6",children:[o.jsxs("h3",{className:"text-lg font-semibold mb-3",children:[s("schedule.round")," ",t+1]}),o.jsx("div",{className:"space-y-2",children:e.matches.map((e,n)=>{var r,a;const s=m[`${t}-${n}`];return o.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded",children:[o.jsx("span",{children:null==(r=e.team1)?void 0:r.map(e=>e.name).join(" & ")}),o.jsx("span",{className:"font-bold",children:(null==s?void 0:s.result)?`${s.result.team1Score} - ${s.result.team2Score}`:"-"}),o.jsx("span",{children:null==(a=e.team2)?void 0:a.map(e=>e.name).join(" & ")})]},n)})})]},t))]})})]})})};function cl(){var e;const t=(null==(e=Wt())?void 0:e.t)||(e=>e),[n,r]=c.useState(!1),[a,s]=c.useState(""),[i,l]=c.useState(""),[u,d]=c.useState(!1),[h,p]=c.useState("");return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:o.jsxs("div",{className:"max-w-md w-full space-y-8",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:t(u?"auth.createAccount":"auth.login")}),o.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:t("app.title")})]}),o.jsxs("form",{className:"mt-8 space-y-6",onSubmit:async e=>{e.preventDefault(),r(!0),p("");try{if(u){const{data:e,error:n}=await Xi.auth.signUp({email:a,password:i});if(n)throw n;p(t("auth.checkEmail"))}else{const{data:e,error:n}=await Xi.auth.signInWithPassword({email:a,password:i});if(n)throw n;p(t("auth.loginSuccess"))}}catch(n){p(n.message)}finally{r(!1)}},children:[o.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"email",className:"sr-only",children:t("auth.email")}),o.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:a,onChange:e=>s(e.target.value),className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:t("auth.email")})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"password",className:"sr-only",children:t("auth.password")}),o.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:i,onChange:e=>l(e.target.value),className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:t("auth.password")})]})]}),h&&o.jsx("div",{className:"text-sm text-center "+(h===t("auth.loginSuccess")||h===t("auth.checkEmail")?"text-green-600":"text-red-600"),children:h}),o.jsx("div",{children:o.jsx("button",{type:"submit",disabled:n,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:bg-gray-400",children:t(n?"auth.loading":u?"auth.register":"auth.login")})}),o.jsx("div",{className:"text-center",children:o.jsx("button",{type:"button",onClick:()=>d(!u),className:"text-sm text-blue-600 hover:text-blue-500",children:t(u?"auth.alreadyHaveAccount":"auth.noAccount")})})]})]})})}const ul=c.createContext(),dl=()=>{const e=c.useContext(ul);if(!e)throw new Error("useToast must be used within a ToastProvider");return e},hl=({children:e})=>{const[t,n]=c.useState([]),r=c.useCallback((e,t="info",r=5e3)=>{const s=Date.now()+Math.random(),i={id:s,message:e,type:t,duration:r};return n(e=>[...e,i]),r>0&&setTimeout(()=>{a(s)},r),s},[]),a=c.useCallback(e=>{n(t=>t.filter(t=>t.id!==e))},[]),s=c.useCallback(()=>{n([])},[]),i=c.useCallback((e,t)=>r(e,"success",t),[r]),l=c.useCallback((e,t=8e3)=>r(e,"error",t),[r]),u=c.useCallback((e,t)=>r(e,"warning",t),[r]),d=c.useCallback((e,t)=>r(e,"info",t),[r]),h={toasts:t,addToast:r,removeToast:a,removeAllToasts:s,showSuccess:i,showError:l,showWarning:u,showInfo:d};return o.jsxs(ul.Provider,{value:h,children:[e,o.jsx(pl,{})]})},pl=()=>{const{toasts:e}=dl();return 0===e.length?null:o.jsx("div",{className:"fixed top-4 right-4 z-50 space-y-2 max-w-sm w-full",children:e.map(e=>o.jsx(ml,{toast:e},e.id))})},ml=({toast:e})=>{var t;const{removeToast:n}=dl(),r=(null==(t=Wt())?void 0:t.t)||(e=>e);return o.jsxs("div",{className:(e=>{const t="flex items-start gap-3 p-4 rounded-lg shadow-lg border-l-4 bg-white animate-in slide-in-from-right-full duration-300";switch(e){case"success":return`${t} border-l-green-500 text-green-800`;case"error":return`${t} border-l-red-500 text-red-800`;case"warning":return`${t} border-l-yellow-500 text-yellow-800`;default:return`${t} border-l-blue-500 text-blue-800`}})(e.type),children:[(e=>{const t={className:"w-5 h-5 flex-shrink-0 mt-0.5"};switch(e){case"success":return o.jsx(mt,{...t,className:"w-5 h-5 flex-shrink-0 mt-0.5 text-green-600"});case"error":return o.jsx(ft,{...t,className:"w-5 h-5 flex-shrink-0 mt-0.5 text-red-600"});case"warning":return o.jsx(pt,{...t,className:"w-5 h-5 flex-shrink-0 mt-0.5 text-yellow-600"});default:return o.jsx(kt,{...t,className:"w-5 h-5 flex-shrink-0 mt-0.5 text-blue-600"})}})(e.type),o.jsx("div",{className:"flex-1",children:o.jsx("p",{className:"text-sm font-medium leading-relaxed",children:e.message})}),o.jsx("button",{onClick:()=>n(e.id),className:"flex-shrink-0 text-gray-400 hover:text-gray-600 transition-colors","aria-label":r("navigation.close"),children:o.jsx(It,{className:"w-4 h-4"})})]})};class fl extends u.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){this.props.onError&&this.props.onError(e,t)}render(){return this.state.hasError?o.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-md w-full text-center",children:[o.jsx(ft,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),o.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Oops! Etwas ist schiefgelaufen"}),o.jsx("p",{className:"text-gray-600 mb-6",children:"Die Anwendung ist auf einen unerwarteten Fehler gestoÃŸen. Bitte laden Sie die Seite neu oder versuchen Sie es spÃ¤ter erneut."}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("button",{onClick:()=>window.location.reload(),className:"w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors",children:"Seite neu laden"}),o.jsx("button",{onClick:()=>this.setState({hasError:!1,error:null}),className:"w-full bg-gray-200 text-gray-800 py-2 px-4 rounded-lg hover:bg-gray-300 transition-colors",children:"Erneut versuchen"})]}),!1]})}):this.props.children}}const gl="NETWORK",yl="AUTH",vl="VALIDATION",bl="DATABASE",xl="UNKNOWN",wl=(e,t)=>{const n=(e=>{var t,n,r,a,s,i,l,o,c;return e?(null==(t=e.message)?void 0:t.includes("Failed to fetch"))||(null==(n=e.message)?void 0:n.includes("NetworkError"))||"NETWORK_ERROR"===e.code?gl:(null==(r=e.message)?void 0:r.includes("Invalid login credentials"))||(null==(a=e.message)?void 0:a.includes("Email not confirmed"))||(null==(s=e.message)?void 0:s.includes("User not found"))||401===e.status?yl:(null==(i=e.code)?void 0:i.startsWith("PGRST"))||e.details||e.hint?bl:(null==(l=e.message)?void 0:l.includes("required"))||(null==(o=e.message)?void 0:o.includes("invalid"))||(null==(c=e.message)?void 0:c.includes("validation"))?vl:xl:xl})(e);switch(n){case gl:return{title:t("errors.network.title")||"Verbindungsfehler",message:t("errors.network.message")||"Bitte prÃ¼fen Sie Ihre Internetverbindung und versuchen Sie es erneut.",action:t("errors.network.action")||"Erneut versuchen"};case yl:return{title:t("errors.auth.title")||"Anmeldung fehlgeschlagen",message:t("errors.auth.message")||"Ihre Anmeldedaten sind ungÃ¼ltig oder abgelaufen.",action:t("errors.auth.action")||"Erneut anmelden"};case bl:return{title:t("errors.database.title")||"Speicherfehler",message:t("errors.database.message")||"Die Daten konnten nicht gespeichert werden. Versuchen Sie es erneut.",action:t("errors.database.action")||"Erneut versuchen"};case vl:return{title:t("errors.validation.title")||"Eingabefehler",message:e.message||t("errors.validation.message")||"Bitte Ã¼berprÃ¼fen Sie Ihre Eingaben.",action:t("errors.validation.action")||"Korrigieren"};default:return{title:t("errors.unknown.title")||"Unbekannter Fehler",message:t("errors.unknown.message")||"Ein unerwarteter Fehler ist aufgetreten.",action:t("errors.unknown.action")||"Erneut versuchen"}}},kl=async(e,t,n,r={})=>{const{loadingMessage:a=null,successMessage:s=null,showErrorToast:i=!0,retries:l=0,retryDelay:o=1e3}=r;let c=null;try{a&&t&&(c=t.showInfo(a,0));let n=null;for(let r=0;r<=l;r++)try{const n=await e();return c&&t&&t.removeToast(c),s&&t&&t.showSuccess(s),{success:!0,data:n,error:null}}catch(u){if(n=u,r<l){await new Promise(e=>setTimeout(e,o));continue}break}throw n}catch(u){if(c&&t&&t.removeToast(c),i&&t){const e=wl(u,n);t.showError(`${e.title}: ${e.message}`)}return{success:!1,data:null,error:u}}},Sl=e=>{if(!e||"string"!=typeof e||""===e.trim())return!1;const t=e.trim();if([/^000[0-9]/,/^0{1,3}-/,/^[1-9]\d{0,2}-/,/^[0-9]{5,}-/,/undefined|null|NaN|invalid/i,/[^\d\-T:\.Z]/,/--+/,/^-|-$/,/^\d+-\d+-$/,/^\d{4}-\d{1}-\d/,/^\d{4}-\d{2}-\d{1}$/].some(e=>e.test(t)))return!1;if(t.length<8||t.length>25)return!1;try{const e=new Date(t);if(isNaN(e.getTime()))return!1;const n=e.getFullYear(),r=e.getMonth()+1,a=e.getDate();if(n<2020||n>2035)return!1;if(r<1||r>12||a<1||a>31)return!1;const s=e.toISOString().split("T")[0],i=t.includes("T")?t.split("T")[0]:t.substring(0,10);return!(Math.abs(new Date(s).getTime()-new Date(i).getTime())>864e5)}catch(n){return!1}},jl=e=>{if(!e||"object"!=typeof e)return e;const t={...e},n=new Date,r=n.toISOString().split("T")[0],a=n.toISOString();t.date&&Sl(t.date)||(t.date=r),t.endDate&&!Sl(t.endDate)&&delete t.endDate;if(["created_at","updated_at","completed_at","started_at"].forEach(e=>{if(t[e])try{const n=new Date(t[e]);(isNaN(n.getTime())||n.getFullYear()<2020||n.getFullYear()>2035)&&(t[e]=a)}catch(n){t[e]=a}}),t.name&&"string"==typeof t.name&&""!==t.name.trim()?t.name=t.name.trim():t.name=`Event ${Date.now()}`,t.id&&"undefined"!==t.id&&"null"!==t.id&&"string"==typeof t.id||(t.id=`temp_${Date.now()}_${Math.random().toString(36).substr(2,9)}`),t.courts){const e=parseInt(t.courts);(isNaN(e)||e<1||e>20)&&(t.courts=1)}if(t.maxPlayers){const e=parseInt(t.maxPlayers);(isNaN(e)||e<4||e>100)&&(t.maxPlayers=16)}t.status&&["upcoming","active","completed","cancelled"].includes(t.status)||(t.status="upcoming");const s=/^([01]?[0-9]|2[0-3]):[0-5][0-9]$/;return t.startTime&&!s.test(t.startTime)&&(t.startTime="09:00"),t.endTime&&!s.test(t.endTime)&&(t.endTime="18:00"),t},Nl=e=>{if(!Array.isArray(e))return[];const t=new Map,n=[];for(const r of e){if(!r||"object"!=typeof r)continue;const e=jl(r),a=[(e.name||"unnamed").toLowerCase().trim(),e.date||"no-date",e.startTime||"no-time",(e.location||"no-location").toLowerCase().trim()].join("::");if(t.has(a)){const r=t.get(a),s=r.id&&!r.id.toString().startsWith("temp_"),i=e.id&&!e.id.toString().startsWith("temp_");if(i&&!s){t.set(a,e);const s=n.findIndex(e=>e.id===r.id);-1!==s&&(n[s]=e)}else if(!i&&s);else{const s=new Date(r.updated_at||0).getTime();if(new Date(e.updated_at||0).getTime()>s){t.set(a,e);const s=n.findIndex(e=>e.id===r.id);-1!==s&&(n[s]=e)}}}else t.set(a,e),n.push(e)}return n};function El(){var e;const t=(null==(e=Wt())?void 0:e.t)||(e=>e),n=dl(),[r,a]=c.useState([]),[s,i]=c.useState(null),[l,u]=c.useState(!1),[d,h]=c.useState(null),[p,m]=c.useState(!1),[f,g]=c.useState(null),[y,v]=c.useState(!0),[b,x]=c.useState(null),[w,k]=c.useState(null),[S,j]=c.useState(!1);c.useEffect(()=>{const e=((e,t)=>{let n=navigator.onLine,r=!1;const a=()=>{n||(n=!0,r=!1,e&&e.showSuccess(t("network.backOnline")||"Verbindung wiederhergestellt"))},s=()=>{n&&(n=!1,e&&!r&&(e.showWarning(t("network.offline")||"Keine Internetverbindung. Die App arbeitet im Offline-Modus.",1e4),r=!0))};return window.addEventListener("online",a),window.addEventListener("offline",s),()=>{window.removeEventListener("online",a),window.removeEventListener("offline",s)}})(n,t);return e},[n,t]),c.useEffect(()=>{N();const{data:e}=Xi.auth.onAuthStateChange(async(e,t)=>{(null==t?void 0:t.user)?(x(t.user),await E(t.user.id)):(x(null),k(null))});return()=>{e.subscription.unsubscribe()}},[]),c.useEffect(()=>{b&&P()},[b]);const N=async()=>{(await kl(async()=>{const{data:{user:e}}=await Xi.auth.getUser();return e&&(x(e),await E(e.id)),e},n,t,{showErrorToast:!1,retries:2,retryDelay:1e3})).success},E=async e=>await kl(async()=>{const{data:t,error:n}=await Xi.from("profiles").select("*").eq("id",e).single();if(n)throw n;return k(t),t},n,t,{loadingMessage:t("app.loadingProfile")||"Profil wird geladen...",successMessage:null,retries:2}),P=async()=>{v(!0);(await kl(async()=>{const{data:e,error:t}=await Xi.from("events").select("*").order("date",{ascending:!0});if(t)throw t;let n=(e||[]).map((e,t)=>{try{const t=rl(e);return jl(t)}catch(n){return null}}).filter(e=>!!(e&&e.id&&e.name)&&!!Sl(e.date));n=Nl(n),n.sort((e,t)=>{const n={active:0,upcoming:1,completed:2,cancelled:3},r=(n[e.status]||2)-(n[t.status]||2);return 0!==r?r:new Date(e.date)-new Date(t.date)}),a(n);try{localStorage.setItem("events",JSON.stringify(n))}catch(r){}return n},n,t,{loadingMessage:t("app.loadingEvents")||"Events werden geladen...",successMessage:null,showErrorToast:!1})).success||(_(),n.showWarning(t("app.offlineMode")||"Offline-Modus: Events aus lokalem Speicher.",6e3)),v(!1)},_=()=>{try{const t=localStorage.getItem("events");if(!t)return!1;let n=JSON.parse(t).map((e,t)=>{try{return jl(e)}catch(n){return null}}).filter(e=>!!(e&&e.id&&e.name)&&!!Sl(e.date));n=Nl(n),a(n);try{localStorage.setItem("events",JSON.stringify(n))}catch(e){}return!0}catch(e){return n.showError(t("errors.localStorage")||"Lokale Daten konnten nicht geladen werden."),!1}},T=async(e,r=null)=>{try{localStorage.setItem("events",JSON.stringify(e)),a(e)}catch(i){n.showError(t("errors.localStorageSave")||"Lokale Speicherung fehlgeschlagen.")}if(!r)return{success:!0};const s=(e=>{const t=[];if(!e||"object"!=typeof e)return{isValid:!1,errors:["Event-Objekt ist ungÃ¼ltig"]};e.name&&""!==e.name.trim()||t.push("Event-Name ist erforderlich"),e.date&&Sl(e.date)||t.push("GÃ¼ltiges Datum ist erforderlich"),e.startTime&&/^([01]?[0-9]|2[0-3]):[0-5][0-9]$/.test(e.startTime)||t.push("GÃ¼ltige Startzeit ist erforderlich"),e.endTime&&/^([01]?[0-9]|2[0-3]):[0-5][0-9]$/.test(e.endTime)||t.push("GÃ¼ltige Endzeit ist erforderlich"),e.sport&&["padel","pickleball","spinxball","tennis"].includes(e.sport.toLowerCase())||t.push("GÃ¼ltige Sportart ist erforderlich");const n=parseInt(e.courts);(isNaN(n)||n<1||n>20)&&t.push("Courts: 1-20 erlaubt");const r=parseInt(e.maxPlayers);return(isNaN(r)||r<4||r>100)&&t.push("Spieler: 4-100 erlaubt"),{isValid:0===t.length,errors:t}})(r);if(!s.isValid){const e=s.errors[0];return n.showError(`Validierungsfehler: ${e}`),{success:!1,error:"Validation failed"}}return Sl(r.date)?await kl(async()=>{const t=jl(r),n=al(t);if(r.id.startsWith("temp_")){const t={...n,created_at:(new Date).toISOString(),updated_at:(new Date).toISOString(),format:n.format||"doubles",event_type:n.event_type||"americano",sport:n.sport||"padel",status:n.status||"upcoming"};delete t.id,Object.keys(t).forEach(e=>{void 0!==t[e]&&null!==t[e]||delete t[e]});const{data:s,error:i}=await Xi.from("events").insert([t]).select().single();if(i)throw i;const l=e.findIndex(e=>e.id===r.id);return-1!==l&&(e[l]={...e[l],id:s.id,created_by:s.created_by},localStorage.setItem("events",JSON.stringify(e)),a([...e])),s}{const e={...n,updated_at:(new Date).toISOString()},{error:t}=await Xi.from("events").update(e).eq("id",r.id);if(t)throw t;return!0}},n,t,{loadingMessage:r.id.startsWith("temp_")?t("event.creating")||"Event wird erstellt...":t("event.updating")||"Event wird aktualisiert...",successMessage:r.id.startsWith("temp_")?t("event.created")||"Event erfolgreich erstellt":t("event.updated")||"Event erfolgreich aktualisiert",retries:2}):(n.showError("UngÃ¼ltiges Datum. Bitte wÃ¤hlen Sie ein Datum zwischen 2020 und 2030."),{success:!1,error:"Invalid date"})},C=async e=>{const t=r.map(t=>t.id===e.id?e:t);(await T(t,e)).success&&(i(e),d&&(h(null),u(!1)))},M=c.useCallback(e=>{e&&e.id&&i(e)},[]),A=c.useCallback(e=>{h(e),u(!0)},[]),R=c.useCallback(async e=>{if(!s||!Array.isArray(e))return;const r=await kl(async()=>{const t=s.players||[],n=s.maxPlayers||16,r=Math.max(0,n-t.length);if(0===r)throw new Error(`Event ist bereits voll (${n}/${n} Spieler)`);const a=[];for(const l of e.slice(0,r)){if(!l||!l.name)continue;if(!t.some(e=>e.name===l.name||e.email&&l.email&&e.email===l.email||e.phone&&l.phone&&e.phone===l.phone)){const e={id:`player_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,name:l.name,gender:l.gender||"male",skillLevel:l.skillLevel||("padel"===s.sport?"B":3),skillLevels:l.skillLevels||{padel:l.padelSkill||"B",pickleball:l.pickleballSkill||3,spinxball:l.spinxballSkill||3},...l.email&&{email:l.email},...l.phone&&{phone:l.phone},...l.birthday&&{birthday:l.birthday},...l.city&&{city:l.city},...l.club&&{club:l.club},...l.nationality&&{nationality:l.nationality}};a.push(e)}}if(0===a.length)throw new Error("Keine neuen Spieler hinzugefÃ¼gt. Alle ausgewÃ¤hlten Spieler sind bereits angemeldet.");const i={...s,players:[...t,...a]};return await C(i),a.length},n,t,{loadingMessage:t("player.adding")||"Spieler werden hinzugefÃ¼gt...",successMessage:null});r.success&&r.data>0&&n.showSuccess(`${r.data} Spieler erfolgreich hinzugefÃ¼gt`)},[s,C,n,t]),D=c.useCallback(e=>{if(!e.players||e.players.length<4)n.showError(t("tournament.needMorePlayers")||"Mindestens 4 Spieler benÃ¶tigt");else try{const r=fr({format:e.eventType||"americano",players:e.players,courts:e.courts||1,roundDuration:e.averageGameTime||15,startTime:e.startTime||"09:00",endTime:e.endTime||"18:00",breaks:e.breaks||[],options:{regenerateCount:0}}),a={...e,tournament:r,schedule:r.schedule,tournamentStats:r.statistics};g(a),n.showSuccess(t("tournament.started")||"Turnier gestartet!")}catch(r){n.showError(`Turnier-Generierung fehlgeschlagen: ${r.message}`)}},[n,t]),L=c.useCallback(async e=>{if(f){const r={...f,results:e||{},status:"completed",completed_at:(new Date).toISOString()};await C(r),g(null),n.showSuccess(t("tournament.completed")||"Turnier erfolgreich abgeschlossen!")}},[f,C,n,t]),O=c.useCallback((e,t,n=[])=>{const r=String(e||"00:00"),a=String(t||"00:00"),[s,i]=r.split(":").map(Number),[l,o]=a.split(":").map(Number);let c=60*l+o-(60*s+i);c<0&&(c+=1440);return c-(Array.isArray(n)?n.reduce((e,t)=>e+(t.duration||0),0):0)},[]),I=c.useCallback(({totalMinutes:e,courts:t,averageGameTime:n,teamFormat:r,playMode:a,minGamesPerPlayer:s,isAmericano:i})=>{if(!e||!t||!n)return 16;const l=Math.floor(e/n),o=Math.floor(l/t),c="single"===r?2:4;if(!a||"simple"===a||!i){const e=o*t*c,n=Math.floor(e/(s||3));return Math.max(4,Math.min(64,n))}const u=t*c,d=o/(s||3),h=Math.floor(u*d);return Math.max(u,Math.min(64,h))},[]);return b?o.jsx(Ke,{children:o.jsxs(Ee,{children:[o.jsx(je,{path:"/event/:eventId",element:o.jsx(il,{})}),o.jsx(je,{path:"/",element:o.jsxs("div",{className:"min-h-screen bg-gray-100",children:[f&&o.jsx(ol,{event:f,onComplete:L,onCancel:()=>g(null)}),!f&&o.jsxs(o.Fragment,{children:[o.jsx("header",{className:"bg-white shadow-sm border-b",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("div",{className:"flex items-center space-x-3",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-10 h-10 bg-blue-600 rounded-lg flex items-center justify-center",children:o.jsx("span",{className:"text-white font-bold text-xl",children:"P2"})}),o.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:t("app.title")})]})}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(Vt,{}),o.jsxs("div",{className:"relative",children:[o.jsxs("button",{onClick:()=>j(!S),className:"flex items-center gap-2 text-gray-700 hover:text-gray-900 p-2 rounded-lg hover:bg-gray-100",children:[o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),o.jsx("span",{className:"text-sm font-medium",children:(null==w?void 0:w.name)||b.email}),o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),S&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>j(!1)}),o.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-white rounded-lg shadow-lg border z-20",children:[o.jsxs("div",{className:"p-3 border-b",children:[o.jsx("p",{className:"text-sm font-medium",children:(null==w?void 0:w.name)||"Usuario"}),o.jsx("p",{className:"text-xs text-gray-500",children:b.email}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"tournament_director"===(null==w?void 0:w.role)?`ðŸŽ¾ ${t("userMenu.tournamentDirector")}`:`ðŸ‘¤ ${t("userMenu.player")}`})]}),o.jsx("div",{className:"p-1",children:o.jsxs("button",{onClick:async()=>(await kl(async()=>{const{error:e}=await Xi.auth.signOut();if(e)throw e;return x(null),k(null),a([]),i(null),j(!1),!0},n,t,{loadingMessage:t("auth.loggingOut")||"Abmeldung...",successMessage:t("auth.loggedOut")||"Erfolgreich abgemeldet"})).success,className:"w-full text-left px-3 py-2 text-sm hover:bg-gray-100 rounded flex items-center gap-2 text-red-600",children:[o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),t("userMenu.logout")]})})]})]})]}),"tournament_director"===(null==w?void 0:w.role)&&o.jsxs("button",{onClick:()=>{h(null),u(!0)},className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:["+ ",t("event.new")]})]})]})})}),o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:y?o.jsx("div",{className:"flex justify-center items-center h-64",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),o.jsx("p",{className:"mt-4 text-gray-600",children:t("app.loading")})]})}):o.jsxs("div",{className:"main-content-grid lg:grid lg:grid-cols-3 lg:gap-8",children:[o.jsx("div",{className:"event-list-section lg:col-span-1",children:o.jsx(Ht,{events:r,selectedEvent:s,onSelectEvent:M,onDeleteEvent:async e=>{if(!window.confirm(t("messages.confirmDelete")||"Wirklich lÃ¶schen?"))return;return(await kl(async()=>{const t=r.filter(t=>t.id!==e);if(a(t),localStorage.setItem("events",JSON.stringify(t)),s&&s.id===e&&i(null),!e.startsWith("temp_")){const{error:t}=await Xi.from("events").delete().eq("id",e);if(t)throw t}return!0},n,t,{loadingMessage:t("event.deleting")||"Event wird gelÃ¶scht...",successMessage:t("event.deleted")||"Event erfolgreich gelÃ¶scht",retries:1})).success},canManageEvents:"tournament_director"===(null==w?void 0:w.role)})}),o.jsx("div",{className:"event-details-section lg:col-span-2",children:l?o.jsx(Qt,{editingEvent:d,onSubmit:d?C:async e=>{const t={...e,id:`temp_${Date.now()}`,players:[],results:{},status:"upcoming",created_at:(new Date).toISOString(),updated_at:(new Date).toISOString()},n=[...r,t];(await T(n,t)).success&&(u(!1),i(t))},onCancel:()=>{u(!1),h(null)},initialData:d,calculateTotalMinutes:O,calculateMaxPlayers:I}):s?o.jsx(o.Fragment,{children:o.jsxs("div",{className:"space-y-6",children:[o.jsx(kr,{event:s,onEdit:A,onUpdateEvent:C,onStartTournament:D,canManageEvent:"tournament_director"===(null==w?void 0:w.role)}),"completed"!==s.status&&"tournament_director"===(null==w?void 0:w.role)&&o.jsx(Sr,{event:s,onUpdateEvent:C,onOpenPlayerDatabase:()=>m(!0)}),s.results&&Object.keys(s.results).length>0&&o.jsx(jr,{results:s.results,players:s.players||[]})]})}):o.jsxs("div",{className:"bg-white rounded-lg shadow p-8 text-center text-gray-500",children:[o.jsx("svg",{className:"w-16 h-16 mx-auto mb-4 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M8 7V3a4 4 0 118 0v4m-4 12a4 4 0 110-8 4 4 0 010 8z"})}),o.jsx("p",{className:"text-lg mb-2",children:t("app.noEventsSelected")}),o.jsx("p",{className:"text-sm text-gray-400",children:"tournament_director"===(null==w?void 0:w.role)?t("app.selectEventOrCreate"):t("app.selectEventToView")})]})})]})}),p&&o.jsx(sl,{isOpen:p,onClose:()=>m(!1),onSelectPlayers:R,existingPlayers:s?s.players:[],event:s})]})]})})]})}):o.jsx(cl,{})}function Pl(){return o.jsx(fl,{children:o.jsx(qt,{children:o.jsx(hl,{children:o.jsx(El,{})})})})}"undefined"!=typeof window&&(window.console=window.console||{log:function(){},warn:function(){},error:function(){}},window.globalTranslationFallback=function(e){return e||"NO_TRANSLATION"},window.useTranslation=function(){return{t:window.globalTranslationFallback,language:"de"}}),w.createRoot(document.getElementById("root")).render(o.jsx(u.StrictMode,{children:o.jsx(Pl,{})}));
